!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return f}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return d});var r=n(0),o=n(5),i=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=function(){function t(){}return t.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},t.isIn=function(t,e,n){if(!(t in e))throw new Error("Unknown "+n+" value: "+t+".")},t}(),c=function(){function t(){}return Object.defineProperty(t,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),t}();function u(t,e){var n="";return l(t)?(n="Binary data of length "+t.byteLength,e&&(n+=". Content: '"+function(t){var e=new Uint8Array(t),n="";return e.forEach(function(t){n+="0x"+(t<16?"0":"")+t.toString(16)+" "}),n.substr(0,n.length-1)}(t)+"'")):"string"==typeof t&&(n="String data of length "+t.length,e&&(n+=". Content: '"+t+"'")),n}function l(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function f(t,e,n,o,a,c,f){return i(this,void 0,void 0,function(){var i,h,p,d,g;return s(this,function(s){switch(s.label){case 0:return a?[4,a()]:[3,2];case 1:(p=s.sent())&&((i={}).Authorization="Bearer "+p,h=i),s.label=2;case 2:return t.log(r.a.Trace,"("+e+" transport) sending data. "+u(c,f)+"."),d=l(c)?"arraybuffer":"text",[4,n.post(o,{content:c,headers:h,responseType:d})];case 3:return g=s.sent(),t.log(r.a.Trace,"("+e+" transport) request complete. Response status: "+g.statusCode+"."),[2]}})})}function h(t){return void 0===t?new d(r.a.Information):null===t?o.a.instance:t.log?t:new d(t)}var p=function(){function t(t,e){this.subject=t,this.observer=e}return t.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(t){})},t}(),d=function(){function t(t){this.minimumLogLevel=t,this.outputConsole=console}return t.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case r.a.Critical:case r.a.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;case r.a.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;case r.a.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+r.a[t]+": "+e);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+r.a[t]+": "+e)}},t}()},function(t,e,n){"use strict";n.r(e);var r,o,i=n(3),s=n(4),a=n(27),c=n(0),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this)||this;return n.logger=e,n}return u(e,t),e.prototype.send=function(t){var e=this;return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new i.a):t.method?t.url?new Promise(function(n,r){var o=new XMLHttpRequest;o.open(t.method,t.url,!0),o.withCredentials=!0,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var a=t.headers;a&&Object.keys(a).forEach(function(t){o.setRequestHeader(t,a[t])}),t.responseType&&(o.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=function(){o.abort(),r(new i.a)}),t.timeout&&(o.timeout=t.timeout),o.onload=function(){t.abortSignal&&(t.abortSignal.onabort=null),o.status>=200&&o.status<300?n(new s.b(o.status,o.statusText,o.response||o.responseText)):r(new i.b(o.statusText,o.status))},o.onerror=function(){e.logger.log(c.a.Warning,"Error from HTTP request. "+o.status+": "+o.statusText+"."),r(new i.b(o.statusText,o.status))},o.ontimeout=function(){e.logger.log(c.a.Warning,"Timeout from HTTP request."),r(new i.c)},o.send(t.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e}(s.a),f=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this)||this;return"undefined"!=typeof XMLHttpRequest?n.httpClient=new l(e):n.httpClient=new a.a(e),n}return f(e,t),e.prototype.send=function(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new i.a):t.method?t.url?this.httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e.prototype.getCookieString=function(t){return this.httpClient.getCookieString(t)},e}(s.a),p=n(28);!function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(o||(o={}));var d,g=n(1),y=function(){function t(){this.observers=[]}return t.prototype.next=function(t){for(var e=0,n=this.observers;e<n.length;e++){n[e].next(t)}},t.prototype.error=function(t){for(var e=0,n=this.observers;e<n.length;e++){var r=n[e];r.error&&r.error(t)}},t.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];n.complete&&n.complete()}},t.prototype.subscribe=function(t){return this.observers.push(t),new g.d(this,t)},t}(),v=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},b=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},w=3e4,m=15e3;!function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"}(d||(d={}));var E,S,_=function(){function t(t,e,n,r){var i=this;g.a.isRequired(t,"connection"),g.a.isRequired(e,"logger"),g.a.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=w,this.keepAliveIntervalInMilliseconds=m,this.logger=e,this.protocol=n,this.connection=t,this.reconnectPolicy=r,this.handshakeProtocol=new p.a,this.connection.onreceive=function(t){return i.processIncomingData(t)},this.connection.onclose=function(t){return i.connectionClosed(t)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=d.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:o.Ping})}return t.create=function(e,n,r,o){return new t(e,n,r,o)},Object.defineProperty(t.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(t){if(this.connectionState!==d.Disconnected&&this.connectionState!==d.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t},enumerable:!0,configurable:!0}),t.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},t.prototype.startWithStateTransitions=function(){return v(this,void 0,void 0,function(){var t;return b(this,function(e){switch(e.label){case 0:if(this.connectionState!==d.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=d.Connecting,this.logger.log(c.a.Debug,"Starting HubConnection."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return e.sent(),this.connectionState=d.Connected,this.connectionStarted=!0,this.logger.log(c.a.Debug,"HubConnection connected successfully."),[3,4];case 3:return t=e.sent(),this.connectionState=d.Disconnected,this.logger.log(c.a.Debug,"HubConnection failed to start successfully because of error '"+t+"'."),[2,Promise.reject(t)];case 4:return[2]}})})},t.prototype.startInternal=function(){return v(this,void 0,void 0,function(){var t,e,n,r=this;return b(this,function(o){switch(o.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,t=new Promise(function(t,e){r.handshakeResolver=t,r.handshakeRejecter=e}),[4,this.connection.start(this.protocol.transferFormat)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(c.a.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 3:return o.sent(),this.logger.log(c.a.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 4:if(o.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return n=o.sent(),this.logger.log(c.a.Debug,"Hub handshake failed with error '"+n+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(n)];case 6:throw o.sent(),n;case 7:return[2]}})})},t.prototype.stop=function(){return v(this,void 0,void 0,function(){var t;return b(this,function(e){switch(e.label){case 0:return t=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t];case 3:return e.sent(),[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}})})},t.prototype.stopInternal=function(t){return this.connectionState===d.Disconnected?(this.logger.log(c.a.Debug,"Call to HubConnection.stop("+t+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===d.Disconnecting?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=d.Disconnecting,this.logger.log(c.a.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(c.a.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))},t.prototype.stream=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,s=this.replaceStreamingParams(n),a=s[0],c=s[1],u=this.createStreamInvocation(t,n,c),l=new y;return l.cancelCallback=function(){var t=e.createCancelInvocation(u.invocationId);return delete e.callbacks[u.invocationId],i.then(function(){return e.sendWithProtocol(t)})},this.callbacks[u.invocationId]=function(t,e){e?l.error(e):t&&(t.type===o.Completion?t.error?l.error(new Error(t.error)):l.complete():l.next(t.item))},i=this.sendWithProtocol(u).catch(function(t){l.error(t),delete e.callbacks[u.invocationId]}),this.launchStreams(a,i),l},t.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},t.prototype.sendWithProtocol=function(t){return this.sendMessage(this.protocol.writeMessage(t))},t.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.replaceStreamingParams(e),o=r[0],i=r[1],s=this.sendWithProtocol(this.createInvocation(t,e,!0,i));return this.launchStreams(o,s),s},t.prototype.invoke=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.replaceStreamingParams(n),s=i[0],a=i[1],c=this.createInvocation(t,n,!1,a),u=new Promise(function(t,n){e.callbacks[c.invocationId]=function(e,r){r?n(r):e&&(e.type===o.Completion?e.error?n(new Error(e.error)):t(e.result):n(new Error("Unexpected message type: "+e.type)))};var r=e.sendWithProtocol(c).catch(function(t){n(t),delete e.callbacks[c.invocationId]});e.launchStreams(s,r)});return u},t.prototype.on=function(t,e){t&&e&&(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},t.prototype.off=function(t,e){if(t){t=t.toLowerCase();var n=this.methods[t];if(n)if(e){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[t])}else delete this.methods[t]}},t.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},t.prototype.onreconnecting=function(t){t&&this.reconnectingCallbacks.push(t)},t.prototype.onreconnected=function(t){t&&this.reconnectedCallbacks.push(t)},t.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var e=0,n=this.protocol.parseMessages(t,this.logger);e<n.length;e++){var r=n[e];switch(r.type){case o.Invocation:this.invokeClientMethod(r);break;case o.StreamItem:case o.Completion:var i=this.callbacks[r.invocationId];i&&(r.type===o.Completion&&delete this.callbacks[r.invocationId],i(r));break;case o.Ping:break;case o.Close:this.logger.log(c.a.Information,"Close message received from server."),this.stopPromise=this.stopInternal(r.error?new Error("Server returned an error on close: "+r.error):void 0);break;default:this.logger.log(c.a.Warning,"Invalid message type: "+r.type+".")}}this.resetTimeoutPeriod()},t.prototype.processHandshakeResponse=function(t){var e,n,r;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],n=e[1]}catch(t){var o="Error parsing handshake response: "+t;this.logger.log(c.a.Error,o);var i=new Error(o);throw this.handshakeRejecter(i),i}if(n.error){o="Server returned handshake error: "+n.error;this.logger.log(c.a.Error,o);i=new Error(o);throw this.handshakeRejecter(i),i}return this.logger.log(c.a.Debug,"Server handshake complete."),this.handshakeResolver(),r},t.prototype.resetKeepAliveInterval=function(){var t=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout(function(){return v(t,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:if(this.connectionState!==d.Connected)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return t.sent(),[3,4];case 3:return t.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},this.keepAliveIntervalInMilliseconds)},t.prototype.resetTimeoutPeriod=function(){var t=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return t.serverTimeout()},this.serverTimeoutInMilliseconds))},t.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},t.prototype.invokeClientMethod=function(t){var e=this,n=this.methods[t.target.toLowerCase()];if(n){try{n.forEach(function(n){return n.apply(e,t.arguments)})}catch(e){this.logger.log(c.a.Error,"A callback for the method "+t.target.toLowerCase()+" threw error '"+e+"'.")}if(t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(c.a.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(c.a.Warning,"No client method with the name '"+t.target+"' found.")},t.prototype.connectionClosed=function(t){this.logger.log(c.a.Debug,"HubConnection.connectionClosed("+t+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===d.Disconnecting?this.completeClose(t):this.connectionState===d.Connected&&this.reconnectPolicy?this.reconnect(t):this.connectionState===d.Connected&&this.completeClose(t)},t.prototype.completeClose=function(t){var e=this;if(this.connectionStarted){this.connectionState=d.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(n){return n.apply(e,[t])})}catch(e){this.logger.log(c.a.Error,"An onclose callback called with error '"+t+"' threw error '"+e+"'.")}}},t.prototype.reconnect=function(t){return v(this,void 0,void 0,function(){var e,n,r,o,i,s=this;return b(this,function(a){switch(a.label){case 0:if(e=Date.now(),n=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),null===(o=this.getNextRetryDelay(n++,0,r)))return this.logger.log(c.a.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(t),[2];if(this.connectionState=d.Reconnecting,t?this.logger.log(c.a.Information,"Connection reconnecting because of error '"+t+"'."):this.logger.log(c.a.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(e){return e.apply(s,[t])})}catch(e){this.logger.log(c.a.Error,"An onreconnecting callback called with error '"+t+"' threw error '"+e+"'.")}if(this.connectionState!==d.Reconnecting)return this.logger.log(c.a.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}a.label=1;case 1:return null===o?[3,7]:(this.logger.log(c.a.Information,"Reconnect attempt number "+n+" will start in "+o+" ms."),[4,new Promise(function(t){s.reconnectDelayHandle=setTimeout(t,o)})]);case 2:if(a.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==d.Reconnecting)return this.logger.log(c.a.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(a.sent(),this.connectionState=d.Connected,this.logger.log(c.a.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach(function(t){return t.apply(s,[s.connection.connectionId])})}catch(t){this.logger.log(c.a.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+t+"'.")}return[2];case 5:return i=a.sent(),this.logger.log(c.a.Information,"Reconnect attempt failed because of error '"+i+"'."),this.connectionState!==d.Reconnecting?(this.logger.log(c.a.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting."),[2]):(r=i instanceof Error?i:new Error(i.toString()),o=this.getNextRetryDelay(n++,Date.now()-e,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(c.a.Information,"Reconnect retries have been exhausted after "+(Date.now()-e)+" ms and "+n+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}})})},t.prototype.getNextRetryDelay=function(t,e,n){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:n})}catch(n){return this.logger.log(c.a.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+t+", "+e+") threw error '"+n+"'."),null}},t.prototype.cancelCallbacksWithError=function(t){var e=this.callbacks;this.callbacks={},Object.keys(e).forEach(function(n){(0,e[n])(null,t)})},t.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},t.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},t.prototype.createInvocation=function(t,e,n,r){if(n)return{arguments:e,streamIds:r,target:t,type:o.Invocation};var i=this.invocationId;return this.invocationId++,{arguments:e,invocationId:i.toString(),streamIds:r,target:t,type:o.Invocation}},t.prototype.launchStreams=function(t,e){var n=this;if(0!==t.length){e||(e=Promise.resolve());var r=function(r){t[r].subscribe({complete:function(){e=e.then(function(){return n.sendWithProtocol(n.createCompletionMessage(r))})},error:function(t){var o;o=t instanceof Error?t.message:t&&t.toString?t.toString():"Unknown error",e=e.then(function(){return n.sendWithProtocol(n.createCompletionMessage(r,o))})},next:function(t){e=e.then(function(){return n.sendWithProtocol(n.createStreamItemMessage(r,t))})}})};for(var o in t)r(o)}},t.prototype.replaceStreamingParams=function(t){for(var e=[],n=[],r=0;r<t.length;r++){var o=t[r];if(this.isObservable(o)){var i=this.invocationId;this.invocationId++,e[i]=o,n.push(i.toString()),t.splice(r,1)}}return[e,n]},t.prototype.isObservable=function(t){return t&&t.subscribe&&"function"==typeof t.subscribe},t.prototype.createStreamInvocation=function(t,e,n){var r=this.invocationId;return this.invocationId++,{arguments:e,invocationId:r.toString(),streamIds:n,target:t,type:o.StreamInvocation}},t.prototype.createCancelInvocation=function(t){return{invocationId:t,type:o.CancelInvocation}},t.prototype.createStreamItemMessage=function(t,e){return{invocationId:t,item:e,type:o.StreamItem}},t.prototype.createCompletionMessage=function(t,e,n){return e?{error:e,invocationId:t,type:o.Completion}:{invocationId:t,result:n,type:o.Completion}},t}(),k=[0,2e3,1e4,3e4,null],C=function(){function t(t){this.retryDelays=void 0!==t?t.concat([null]):k}return t.prototype.nextRetryDelayInMilliseconds=function(t){return this.retryDelays[t.previousRetryCount]},t}();!function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"}(E||(E={})),function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"}(S||(S={}));var T=function(){function t(){this.isAborted=!1,this.onabort=null}return t.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(t.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),t}(),I=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},P=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},R=function(){function t(t,e,n,r){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.pollAbort=new T,this.logMessageContent=r,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(t.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),t.prototype.connect=function(t,e){return I(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(a){switch(a.label){case 0:if(g.a.isRequired(t,"url"),g.a.isRequired(e,"transferFormat"),g.a.isIn(e,S,"transferFormat"),this.url=t,this.logger.log(c.a.Trace,"(LongPolling transport) Connecting."),e===S.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},e===S.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return r=a.sent(),this.updateHeaderToken(n,r),o=t+"&_="+Date.now(),this.logger.log(c.a.Trace,"(LongPolling transport) polling: "+o+"."),[4,this.httpClient.get(o,n)];case 2:return 200!==(s=a.sent()).statusCode?(this.logger.log(c.a.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new i.b(s.statusText||"",s.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}})})},t.prototype.getAccessToken=function(){return I(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}})})},t.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},t.prototype.poll=function(t,e){return I(this,void 0,void 0,function(){var n,r,o,s;return P(this,function(a){switch(a.label){case 0:a.trys.push([0,,8,9]),a.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=a.sent(),this.updateHeaderToken(e,n),a.label=3;case 3:return a.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(c.a.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(o=a.sent()).statusCode?(this.logger.log(c.a.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==o.statusCode?(this.logger.log(c.a.Error,"(LongPolling transport) Unexpected response code: "+o.statusCode+"."),this.closeError=new i.b(o.statusText||"",o.statusCode),this.running=!1):o.content?(this.logger.log(c.a.Trace,"(LongPolling transport) data received. "+Object(g.f)(o.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(o.content)):this.logger.log(c.a.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return s=a.sent(),this.running?s instanceof i.c?this.logger.log(c.a.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=s,this.running=!1):this.logger.log(c.a.Trace,"(LongPolling transport) Poll errored after shutdown: "+s.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(c.a.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},t.prototype.send=function(t){return I(this,void 0,void 0,function(){return P(this,function(e){return this.running?[2,Object(g.h)(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},t.prototype.stop=function(){return I(this,void 0,void 0,function(){var t,e;return P(this,function(n){switch(n.label){case 0:this.logger.log(c.a.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(c.a.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={headers:{}},[4,this.getAccessToken()];case 3:return e=n.sent(),this.updateHeaderToken(t,e),[4,this.httpClient.delete(this.url,t)];case 4:return n.sent(),this.logger.log(c.a.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(c.a.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},t.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(c.a.Trace,t),this.onclose(this.closeError)}},t}(),x=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},O=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},M=function(){function t(t,e,n,r,o){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.logMessageContent=r,this.eventSourceConstructor=o,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return x(this,void 0,void 0,function(){var n,r=this;return O(this,function(o){switch(o.label){case 0:return g.a.isRequired(t,"url"),g.a.isRequired(e,"transferFormat"),g.a.isIn(e,S,"transferFormat"),this.logger.log(c.a.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=o.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),o.label=2;case 2:return[2,new Promise(function(n,o){var i=!1;if(e===S.Text){var s;if(g.c.isBrowser||g.c.isWebWorker)s=new r.eventSourceConstructor(t,{withCredentials:!0});else{var a=r.httpClient.getCookieString(t);s=new r.eventSourceConstructor(t,{withCredentials:!0,headers:{Cookie:a}})}try{s.onmessage=function(t){if(r.onreceive)try{r.logger.log(c.a.Trace,"(SSE transport) data received. "+Object(g.f)(t.data,r.logMessageContent)+"."),r.onreceive(t.data)}catch(t){return void r.close(t)}},s.onerror=function(t){var e=new Error(t.data||"Error occurred");i?r.close(e):o(e)},s.onopen=function(){r.logger.log(c.a.Information,"SSE connected to "+r.url),r.eventSource=s,i=!0,n()}}catch(t){return void o(t)}}else o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},t.prototype.send=function(t){return x(this,void 0,void 0,function(){return O(this,function(e){return this.eventSource?[2,Object(g.h)(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},t.prototype.stop=function(){return this.close(),Promise.resolve()},t.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},t}(),A=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},j=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},U=function(){function t(t,e,n,r,o){this.logger=n,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=o,this.httpClient=t,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return A(this,void 0,void 0,function(){var n,r=this;return j(this,function(o){switch(o.label){case 0:return g.a.isRequired(t,"url"),g.a.isRequired(e,"transferFormat"),g.a.isIn(e,S,"transferFormat"),this.logger.log(c.a.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=o.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),o.label=2;case 2:return[2,new Promise(function(n,o){var i;t=t.replace(/^http/,"ws");var s=r.httpClient.getCookieString(t);g.c.isNode&&s&&(i=new r.webSocketConstructor(t,void 0,{headers:{Cookie:""+s}})),i||(i=new r.webSocketConstructor(t)),e===S.Binary&&(i.binaryType="arraybuffer"),i.onopen=function(e){r.logger.log(c.a.Information,"WebSocket connected to "+t+"."),r.webSocket=i,n()},i.onerror=function(t){var e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:new Error("There was an error with the transport."),o(e)},i.onmessage=function(t){r.logger.log(c.a.Trace,"(WebSockets transport) data received. "+Object(g.f)(t.data,r.logMessageContent)+"."),r.onreceive&&r.onreceive(t.data)},i.onclose=function(t){return r.close(t)}})]}})})},t.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(c.a.Trace,"(WebSockets transport) sending data. "+Object(g.f)(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},t.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},t.prototype.close=function(t){this.logger.log(c.a.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!t||!1!==t.wasClean&&1e3===t.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},t}(),B=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},D=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},L=null,N=null;if(g.c.isNode){var q=require;L=q("ws"),N=q("eventsource")}var H=function(){function t(t,e){void 0===e&&(e={}),this.features={},g.a.isRequired(t,"url"),this.logger=Object(g.e)(e.logger),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=e.logMessageContent||!1,g.c.isNode||"undefined"==typeof WebSocket||e.WebSocket?g.c.isNode&&!e.WebSocket&&L&&(e.WebSocket=L):e.WebSocket=WebSocket,g.c.isNode||"undefined"==typeof EventSource||e.EventSource?g.c.isNode&&!e.EventSource&&void 0!==N&&(e.EventSource=N):e.EventSource=EventSource,this.httpClient=e.httpClient||new h(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=e,this.onreceive=null,this.onclose=null}return t.prototype.start=function(t){return B(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t=t||S.Binary,g.a.isIn(t,S,"transferFormat"),this.logger.log(c.a.Debug,"Starting connection with transfer format '"+S[t]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting ",this.startInternalPromise=this.startInternal(t),[4,this.startInternalPromise]);case 1:return n.sent(),"Disconnecting"!==this.connectionState?[3,3]:(e="Failed to start the HttpConnection before stop() was called.",this.logger.log(c.a.Error,e),[4,this.stopPromise]);case 2:return n.sent(),[2,Promise.reject(new Error(e))];case 3:if("Connected"!==this.connectionState)return e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!",this.logger.log(c.a.Error,e),[2,Promise.reject(new Error(e))];n.label=4;case 4:return this.connectionStarted=!0,[2]}})})},t.prototype.send=function(t){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new F(this.transport)),this.sendQueue.send(t))},t.prototype.stop=function(t){return B(this,void 0,void 0,function(){var e=this;return D(this,function(n){switch(n.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(c.a.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise(function(t){e.stopPromiseResolver=t}),[4,this.stopInternal(t)]);case 1:return n.sent(),[4,this.stopPromise];case 2:return n.sent(),[2]}})})},t.prototype.stopInternal=function(t){return B(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:this.stopError=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:return r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:if(!this.sendQueue)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.sendQueue.stop()];case 6:return r.sent(),[3,8];case 7:return e=r.sent(),this.logger.log(c.a.Error,"TransportSendQueue.stop() threw error '"+e+"'."),[3,8];case 8:this.sendQueue=void 0,r.label=9;case 9:if(!this.transport)return[3,14];r.label=10;case 10:return r.trys.push([10,12,,13]),[4,this.transport.stop()];case 11:return r.sent(),[3,13];case 12:return n=r.sent(),this.logger.log(c.a.Error,"HttpConnection.transport.stop() threw error '"+n+"'."),this.stopConnection(),[3,13];case 13:return this.transport=void 0,[3,15];case 14:this.logger.log(c.a.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),this.stopConnection(),r.label=15;case 15:return[2]}})})},t.prototype.startInternal=function(t){return B(this,void 0,void 0,function(){var e,n,r,o,i,s;return D(this,function(a){switch(a.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,a.label=1;case 1:return a.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==E.WebSockets?[3,3]:(this.transport=this.constructTransport(E.WebSockets),[4,this.startTransport(e,t)]):[3,5];case 2:return a.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,o=function(){var t;return D(this,function(o){switch(o.label){case 0:return[4,i.getNegotiationResponse(e)];case 1:if(n=o.sent(),"Disconnecting"===i.connectionState||"Disconnected"===i.connectionState)throw new Error("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(e=n.url),n.accessToken&&(t=n.accessToken,i.accessTokenFactory=function(){return t}),r++,[2]}})},i=this,a.label=6;case 6:return[5,o()];case 7:a.sent(),a.label=8;case 8:if(n.url&&r<100)return[3,6];a.label=9;case 9:if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");return this.connectionId=n.connectionId,[4,this.createTransport(e,this.options.transport,n,t)];case 10:a.sent(),a.label=11;case 11:return this.transport instanceof R&&(this.features.inherentKeepAlive=!0),"Connecting "===this.connectionState&&(this.logger.log(c.a.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return s=a.sent(),this.logger.log(c.a.Error,"Failed to start the connection: "+s),this.connectionState="Disconnected",this.transport=void 0,[2,Promise.reject(s)];case 13:return[2]}})})},t.prototype.getNegotiationResponse=function(t){return B(this,void 0,void 0,function(){var e,n,r,o,i,s;return D(this,function(a){switch(a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=a.sent())&&((e={}).Authorization="Bearer "+r,n=e),a.label=2;case 2:o=this.resolveNegotiateUrl(t),this.logger.log(c.a.Debug,"Sending negotiation request: "+o+"."),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.httpClient.post(o,{content:"",headers:n})];case 4:return 200!==(i=a.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate "+i.statusCode))]:[2,JSON.parse(i.content)];case 5:return s=a.sent(),this.logger.log(c.a.Error,"Failed to complete negotiation with the server: "+s),[2,Promise.reject(s)];case 6:return[2]}})})},t.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},t.prototype.createTransport=function(t,e,n,r){return B(this,void 0,void 0,function(){var o,i,s,a,u,l,f,h,p,d;return D(this,function(g){switch(g.label){case 0:return o=this.createConnectUrl(t,n.connectionId),this.isITransport(e)?(this.logger.log(c.a.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.startTransport(o,r)]):[3,2];case 1:return g.sent(),[2];case 2:i=[],s=n.availableTransports||[],a=0,u=s,g.label=3;case 3:return a<u.length?(l=u[a],(f=this.resolveTransportOrError(l,e,r))instanceof Error?(i.push(l.transport+" failed: "+f),[3,12]):[3,4]):[3,13];case 4:if(!this.isITransport(f))return[3,12];if(this.transport=f,n.connectionId)return[3,9];g.label=5;case 5:return g.trys.push([5,7,,8]),[4,this.getNegotiationResponse(t)];case 6:return n=g.sent(),[3,8];case 7:return h=g.sent(),[2,Promise.reject(h)];case 8:o=this.createConnectUrl(t,n.connectionId),g.label=9;case 9:return g.trys.push([9,11,,12]),[4,this.startTransport(o,r)];case 10:return g.sent(),[2];case 11:return p=g.sent(),this.logger.log(c.a.Error,"Failed to start the transport '"+l.transport+"': "+p),n.connectionId=void 0,i.push(l.transport+" failed: "+p),"Connecting "!==this.connectionState?(d="Failed to select transport before stop() was called.",this.logger.log(c.a.Debug,d),[2,Promise.reject(new Error(d))]):[3,12];case 12:return a++,[3,3];case 13:return i.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+i.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})},t.prototype.constructTransport=function(t){switch(t){case E.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new U(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case E.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new M(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case E.LongPolling:return new R(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+t+".")}},t.prototype.startTransport=function(t,e){var n=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(t){return n.stopConnection(t)},this.transport.connect(t,e)},t.prototype.resolveTransportOrError=function(t,e,n){var r=E[t.transport];if(null==r)return this.logger.log(c.a.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+t.transport+"' because it is not supported by this client.");if(!function(t,e){return!t||0!=(e&t)}(e,r))return this.logger.log(c.a.Debug,"Skipping transport '"+E[r]+"' because it was disabled by the client."),new Error("'"+E[r]+"' is disabled by the client.");if(!(t.transferFormats.map(function(t){return S[t]}).indexOf(n)>=0))return this.logger.log(c.a.Debug,"Skipping transport '"+E[r]+"' because it does not support the requested transfer format '"+S[n]+"'."),new Error("'"+E[r]+"' does not support "+S[n]+".");if(r===E.WebSockets&&!this.options.WebSocket||r===E.ServerSentEvents&&!this.options.EventSource)return this.logger.log(c.a.Debug,"Skipping transport '"+E[r]+"' because it is not supported in your environment.'"),new Error("'"+E[r]+"' is not supported in your environment.");this.logger.log(c.a.Debug,"Selecting transport '"+E[r]+"'.");try{return this.constructTransport(r)}catch(t){return t}},t.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},t.prototype.stopConnection=function(t){if(this.logger.log(c.a.Debug,"HttpConnection.stopConnection("+t+") called while in state "+this.connectionState+"."),this.transport=void 0,t=this.stopError||t,this.stopError=void 0,"Disconnected"!==this.connectionState)if("Connecting "!==this.connectionState){if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),t?this.logger.log(c.a.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(c.a.Information,"Connection disconnected."),this.connectionId=void 0,this.connectionState="Disconnected",this.onclose&&this.connectionStarted){this.connectionStarted=!1;try{this.onclose(t)}catch(e){this.logger.log(c.a.Error,"HttpConnection.onclose("+t+") threw error '"+e+"'.")}}}else this.logger.log(c.a.Warning,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection hasn't yet left the in the connecting state.");else this.logger.log(c.a.Debug,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is already in the disconnected state.")},t.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!g.c.isBrowser||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(c.a.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},t.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===e?"":t.substring(e)},t}();var F=function(){function t(t){this.transport=t,this.buffer=[],this.executing=!0,this.sendBufferedData=new W,this.transportResult=new W,this.sendLoopPromise=this.sendLoop()}return t.prototype.send=function(t){return this.bufferData(t),this.transportResult||(this.transportResult=new W),this.transportResult.promise},t.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},t.prototype.bufferData=function(t){if(this.buffer.length&&typeof this.buffer[0]!=typeof t)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof t);this.buffer.push(t),this.sendBufferedData.resolve()},t.prototype.sendLoop=function(){return B(this,void 0,void 0,function(){var e,n,r;return D(this,function(o){switch(o.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(o.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new W,e=this.transportResult,this.transportResult=void 0,n="string"==typeof this.buffer[0]?this.buffer.join(""):t.concatBuffers(this.buffer),this.buffer.length=0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.transport.send(n)];case 3:return o.sent(),e.resolve(),[3,5];case 4:return r=o.sent(),e.reject(r),[3,5];case 5:return[3,0];case 6:return[2]}})})},t.concatBuffers=function(t){for(var e=t.map(function(t){return t.byteLength}).reduce(function(t,e){return t+e}),n=new Uint8Array(e),r=0,o=0,i=t;o<i.length;o++){var s=i[o];n.set(new Uint8Array(s),r),r+=s.byteLength}return n},t}(),W=function(){function t(){var t=this;this.promise=new Promise(function(e,n){var r;return r=[e,n],t.resolver=r[0],t.rejecter=r[1],r})}return t.prototype.resolve=function(){this.resolver()},t.prototype.reject=function(t){this.rejecter(t)},t}(),Y=n(5),z=n(6),G="json",J=function(){function t(){this.name=G,this.version=1,this.transferFormat=S.Text}return t.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=Y.a.instance);for(var n=[],r=0,i=z.a.parse(t);r<i.length;r++){var s=i[r],a=JSON.parse(s);if("number"!=typeof a.type)throw new Error("Invalid payload.");switch(a.type){case o.Invocation:this.isInvocationMessage(a);break;case o.StreamItem:this.isStreamItemMessage(a);break;case o.Completion:this.isCompletionMessage(a);break;case o.Ping:case o.Close:break;default:e.log(c.a.Information,"Unknown message type '"+a.type+"' ignored.");continue}n.push(a)}return n},t.prototype.writeMessage=function(t){return z.a.write(JSON.stringify(t))},t.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},t.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},t.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},t.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},t}(),V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},X={trace:c.a.Trace,debug:c.a.Debug,info:c.a.Information,information:c.a.Information,warn:c.a.Warning,warning:c.a.Warning,error:c.a.Error,critical:c.a.Critical,none:c.a.None};var K=function(){function t(){}return t.prototype.configureLogging=function(t){if(g.a.isRequired(t,"logging"),void 0!==t.log)this.logger=t;else if("string"==typeof t){var e=function(t){var e=X[t.toLowerCase()];if(void 0!==e)return e;throw new Error("Unknown log level: "+t)}(t);this.logger=new g.b(e)}else this.logger=new g.b(t);return this},t.prototype.withUrl=function(t,e){return g.a.isRequired(t,"url"),this.url=t,this.httpConnectionOptions=V({},this.httpConnectionOptions,"object"==typeof e?e:{transport:e}),this},t.prototype.withHubProtocol=function(t){return g.a.isRequired(t,"protocol"),this.protocol=t,this},t.prototype.withAutomaticReconnect=function(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new C(t):this.reconnectPolicy=t:this.reconnectPolicy=new C,this},t.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new H(this.url,t);return _.create(e,this.logger||Y.a.instance,this.protocol||new J,this.reconnectPolicy)},t}();n.d(e,"VERSION",function(){return Q}),n.d(e,"AbortError",function(){return i.a}),n.d(e,"HttpError",function(){return i.b}),n.d(e,"TimeoutError",function(){return i.c}),n.d(e,"HttpClient",function(){return s.a}),n.d(e,"HttpResponse",function(){return s.b}),n.d(e,"DefaultHttpClient",function(){return h}),n.d(e,"HubConnection",function(){return _}),n.d(e,"HubConnectionState",function(){return d}),n.d(e,"HubConnectionBuilder",function(){return K}),n.d(e,"MessageType",function(){return o}),n.d(e,"LogLevel",function(){return c.a}),n.d(e,"HttpTransportType",function(){return E}),n.d(e,"TransferFormat",function(){return S}),n.d(e,"NullLogger",function(){return Y.a}),n.d(e,"JsonHubProtocol",function(){return J}),n.d(e,"Subject",function(){return y});var Q="3.0.0"},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a});var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(e,n){var r=this,o=this.constructor.prototype;return(r=t.call(this,e)||this).statusCode=n,r.__proto__=o,r}return o(e,t),e}(Error),s=function(t){function e(e){void 0===e&&(e="A timeout occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return o(e,t),e}(Error),a=function(t){function e(e){void 0===e&&(e="An abort occurred.");var n=this,r=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=r,n}return o(e,t),e}(Error)},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=function(t,e,n){this.statusCode=t,this.statusText=e,this.content=n},i=function(){function t(){}return t.prototype.get=function(t,e){return this.send(r({},e,{method:"GET",url:t}))},t.prototype.post=function(t,e){return this.send(r({},e,{method:"POST",url:t}))},t.prototype.delete=function(t,e){return this.send(r({},e,{method:"DELETE",url:t}))},t.prototype.getCookieString=function(t){return""},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.log=function(t,e){},t.instance=new t,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.write=function(e){return""+e+t.RecordSeparator},t.parse=function(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");var n=e.split(t.RecordSeparator);return n.pop(),n},t.RecordSeparatorCode=30,t.RecordSeparator=String.fromCharCode(t.RecordSeparatorCode),t}()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(10),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),i(o,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(31),o=n(32),i=n(18);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=a(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){f=!1;break}if(f)return i}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function m(t,e,n,r){return W(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return E(t,e,n,r)}function _(t,e,n,r){return W(F(e),t,n,r)}function k(t,e,n,r){return W(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),u=this.slice(r,o),l=t.slice(e,n),f=0;f<a;++f)if(u[f]!==l[f]){i=u[f],s=l[f];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return m(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function x(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=q(t[i]);return o}function O(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function B(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,i){return i||B(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return i||B(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=c.isBuffer(t)?t:H(new c(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(7))},function(t,e,n){"use strict";var r=n(8).Buffer,o=n(33),i=n(15),s=n(43),a=n(44),c=n(45);t.exports=function(t){var e=[],n=[];return{encode:c(e,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:a(n),register:function(t,e,n,s){return o(e,"must have a constructor"),o(n,"must have an encode function"),o(t>=0,"must have a non-negative type"),o(s,"must have a decode function"),this.registerEncoder(function(t){return t instanceof e},function(e){var o=i(),s=r.allocUnsafe(1);return s.writeInt8(t,0),o.append(s),o.append(n(e)),o}),this.registerDecoder(t,s),this},registerEncoder:function(t,n){return o(t,"must have an encode function"),o(n,"must have an encode function"),e.push({check:t,encode:n}),this},registerDecoder:function(t,e){return o(t>=0,"must have a non-negative type"),o(e,"must have a decode function"),n.push({type:t,decode:e}),this},encoder:s.encoder,decoder:s.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:a.IncompleteBufferError}}},function(t,e,n){"use strict";var r=n(16),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var i=n(14);i.inherits=n(9);var s=n(20),a=n(24);i.inherits(f,s);for(var c=o(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(10).Buffer)},function(t,e,n){"use strict";var r=n(19).Duplex,o=n(17),i=n(8).Buffer;function s(t){if(!(this instanceof s))return new s(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);r.call(this)}o.inherits(s,r),s.prototype._offset=function(t){var e,n=0,r=0;if(0===t)return[0,0];for(;r<this._bufs.length;r++){if(t<(e=n+this._bufs[r].length)||r==this._bufs.length-1)return[r,t-n];n=e}},s.prototype._reverseOffset=function(t){for(var e=t[0],n=t[1],r=0;r<e;r++)n+=this._bufs[r].length;return n},s.prototype.append=function(t){var e=0;if(i.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof s)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(i.from(t)));return this},s.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},s.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){r.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},s.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},s.prototype.copy=function(t,e,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return t||i.alloc(0);if(r<=0)return t||i.alloc(0);var o,s,a=!!t,c=this._offset(n),u=r-n,l=u,f=a&&e||0,h=c[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(t,f),f+=this._bufs[s].length;return t}if(l<=this._bufs[c[0]].length-h)return a?this._bufs[c[0]].copy(t,e,h,h+l):this._bufs[c[0]].slice(h,h+l);for(a||(t=i.allocUnsafe(u)),s=c[0];s<this._bufs.length;s++){if(!(l>(o=this._bufs[s].length-h))){this._bufs[s].copy(t,f,h,h+l);break}this._bufs[s].copy(t,f,h),f+=o,l-=o,h&&(h=0)}return t},s.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return new s;var n=this._offset(t),r=this._offset(e),o=this._bufs.slice(n[0],r[0]+1);return 0==r[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,r[1]),0!=n[1]&&(o[0]=o[0].slice(n[1])),new s(o)},s.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},s.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var t=0,e=new s;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},s.prototype.indexOf=function(t,e,n){if(void 0===n&&"string"==typeof e&&(n=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=i.from([t]):"string"==typeof t?t=i.from(t,n):t instanceof s?t=t.slice():i.isBuffer(t)||(t=i.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var r=this._offset(e),o=r[0],a=r[1];o<this._bufs.length;o++){for(var c=this._bufs[o];a<c.length;){if(c.length-a>=t.length){var u=c.indexOf(t,a);if(-1!==u)return this._reverseOffset([o,u]);a=c.length-t.length+1}else{var l=this._reverseOffset([o,a]);if(this._match(l,t))return l;a++}}a=0}return-1},s.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var n=0;n<e.length;n++)if(this.get(t+n)!==e[n])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){s.prototype[e]=null===t[e]?function(t,n){return this.slice(t,t+n)[e](0,n)}:function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=s},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return e.nextTick(function(){t.apply(null,i)})}}}:t.exports=e}).call(this,n(13))},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),c=r[n];n<i;c=r[++n])g(c)||!m(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,s={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=l(t,o,r)),o}var i=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(_(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var u,m="",k=!1,C=["{","}"];(p(n)&&(k=!0,C=["[","]"]),_(n))&&(m=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(m=" "+RegExp.prototype.toString.call(n)),E(n)&&(m=" "+Date.prototype.toUTCString.call(n)),S(n)&&(m=" "+f(n)),0!==s.length||k&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=k?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)P(e,String(s))?i.push(h(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}(t,n,r,a,s):s.map(function(e){return h(t,n,r,a,e,k)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,m,C)):C[0]+m+C[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),P(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function v(t){return"string"==typeof t}function b(t){return void 0===t}function w(t){return m(t)&&"[object RegExp]"===k(t)}function m(t){return"object"==typeof t&&null!==t}function E(t){return m(t)&&"[object Date]"===k(t)}function S(t){return m(t)&&("[object Error]"===k(t)||t instanceof Error)}function _(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=w,e.isObject=m,e.isDate=E,e.isError=S,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(35);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n(9),e._extend=function(t,e){if(!e||!m(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=R,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(s,null,e)},function(e){t.nextTick(x,e,s)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(13))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(e=t.exports=n(20)).Stream=e,e.Readable=e,e.Writable=n(24),e.Duplex=n(12),e.Transform=n(26),e.PassThrough=n(42)},function(t,e,n){"use strict";(function(e,r){var o=n(16);t.exports=w;var i,s=n(18);w.ReadableState=b;n(21).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(22),u=n(8).Buffer,l=e.Uint8Array||function(){};var f=n(14);f.inherits=n(9);var h=n(36),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,g=n(37),y=n(23);f.inherits(w,c);var v=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var r=e instanceof(i=i||n(12));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(25).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function w(t){if(i=i||n(12),!(this instanceof w))return new w(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function m(t,e,n,r,o){var i,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,k(t)}(t,s)):(o||(i=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),i?t.emit("error",i):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):E(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?E(t,s,e,!1):T(t,s)):E(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function E(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),T(t,e)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(t,e){this.push(null),e(t)},w.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),m(this,t,e,!1,n)},w.prototype.unshift=function(t){return m(this,t,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return d||(d=n(25).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),x(t)}function T(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){p("readable nexttick read 0"),t.read(0)}function R(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),x(t),e.flowing&&!e.reading&&t.read(0)}function x(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,o=n.data;t-=o.length;for(;n=n.next;){var i=n.data,s=t>i.length?i.length:t;if(s===i.length?o+=i:o+=i.slice(0,t),0===(t-=s)){s===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(s));break}++r}return e.length-=r,o}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,o=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,s),0===(t-=s)){s===i.length?(++o,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(s));break}++o}return e.length-=o,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function j(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}w.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):k(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&M(this),null;var r,o=e.needReadable;return p("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",o=!0),e.ended||e.reading?p("reading or ended",o=!1):o&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:w;function u(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",w),n.removeListener("data",g),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){p("onend"),t.end()}i.endEmitted?o.nextTick(c):n.once("end",c),t.on("unpipe",u);var f=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,x(t))}}(n);t.on("drain",f);var h=!1;var d=!1;function g(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==j(i.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function y(e){p("onerror",e),w(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",b),w()}function b(){p("onfinish"),t.removeListener("close",v),w()}function w(){p("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",y),t.once("close",v),t.once("finish",b),t.emit("pipe",n),i.flowing||(p("pipe resume"),n.resume()),t},w.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var s=j(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},w.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):o.nextTick(P,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(R,t,e))}(this,t)),this},w.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var o in t.on("end",function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(o){(p("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(e.push(o)||(r=!0,t.pause()))}),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<v.length;i++)t.on(v[i],this.emit.bind(this,v[i]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=O}).call(this,n(7),n(13))},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):d(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var u=c.length,l=d(c,u);for(n=0;n<u;++n)i(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return l(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return l(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,o,i,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return h(this,t,!0)},a.prototype.rawListeners=function(t){return h(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(21).EventEmitter},function(t,e,n){"use strict";var r=n(16);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,r,o){var i=n(16);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;b.WritableState=v;var u=n(14);u.inherits=n(9);var l={deprecate:n(41)},f=n(22),h=n(8).Buffer,p=o.Uint8Array||function(){};var d,g=n(23);function y(){}function v(t,e){a=a||n(12),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(k,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),k(t,e))}(t,n,r,e,o);else{var s=S(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||E(t,n),r?c(m,t,n,s,o):m(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||n(12),!(d.call(b,this)||this instanceof a))return new b(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function w(t,e,n,r,o,i,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function m(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),k(t,e)}function E(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),i=e.corkedRequestsFree;i.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,w(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(w(t,e,!1,e.objectMode?1:u.length,u,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function _(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),k(t,e)})}function k(t,e){var n=S(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(_,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(b,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===b&&(t&&t._writableState instanceof v)}})):d=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,h.isBuffer(r)||r instanceof p);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=y),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,o,i){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else w(t,e,!1,a,r,o,i);return c}(this,o,a,t,e,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||E(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(13),n(39).setImmediate,n(7))},function(t,e,n){"use strict";var r=n(8).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=s(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=s(e[r]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=s(e[r]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var r=n(12),o=n(14);function i(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){c(t,e,n)}):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(9),o.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h});var r,o,i=n(3),s=n(4),a=n(0),c=n(1),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};if("undefined"==typeof XMLHttpRequest){var f=require;o=f("request")}var h=function(e){function n(t){var n=e.call(this)||this;if(void 0===o)throw new Error("The 'request' module could not be loaded.");return n.logger=t,n.cookieJar=o.jar(),n.request=o.defaults({jar:n.cookieJar}),n}return u(n,e),n.prototype.send=function(e){var n=this;return new Promise(function(r,o){var u;u=Object(c.g)(e.content)?t.from(e.content):e.content||"";var f=n.request(e.url,{body:u,encoding:"arraybuffer"===e.responseType?null:"utf8",headers:l({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,timeout:e.timeout},function(t,c,u){if(e.abortSignal&&(e.abortSignal.onabort=null),t)return"ETIMEDOUT"===t.code&&(n.logger.log(a.a.Warning,"Timeout from HTTP request."),o(new i.c)),n.logger.log(a.a.Warning,"Error from HTTP request. "+t),void o(t);c.statusCode>=200&&c.statusCode<300?r(new s.b(c.statusCode,c.statusMessage||"",u)):o(new i.b(c.statusMessage||"",c.statusCode||0))});e.abortSignal&&(e.abortSignal.onabort=function(){f.abort(),o(new i.a)})})},n.prototype.getCookieString=function(t){return this.cookieJar.getCookieString(t)},n}(s.a)}).call(this,n(10).Buffer)},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return i});var r=n(6),o=n(1),i=function(){function e(){}return e.prototype.writeHandshakeRequest=function(t){return r.a.write(JSON.stringify(t))},e.prototype.parseHandshakeResponse=function(e){var n,i;if(Object(o.g)(e)||void 0!==t&&e instanceof t){var s=new Uint8Array(e);if(-1===(c=s.indexOf(r.a.RecordSeparatorCode)))throw new Error("Message is incomplete.");var a=c+1;n=String.fromCharCode.apply(null,s.slice(0,a)),i=s.byteLength>a?s.slice(a).buffer:null}else{var c,u=e;if(-1===(c=u.indexOf(r.a.RecordSeparator)))throw new Error("Message is incomplete.");a=c+1;n=u.substring(0,a),i=u.length>a?u.substring(a):null}var l=r.a.parse(n),f=JSON.parse(l[0]);if(f.type)throw new Error("Expected a handshake response from the server.");return[i,f]},e}()}).call(this,n(10).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(30);var o;!function(t){const e="BlazorExtensions",n={SignalR:new r.HubConnectionManager};t.initialize=function(){"undefined"==typeof window||window[e]?window[e]=Object.assign({},window[e],n):window[e]=Object.assign({},n)}}(o||(o={})),o.initialize()},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const o=n(2),i=n(46);e.HubConnectionManager=class{constructor(){this._hubConnections=new Map,this._handles=new Map,this.CreateConnection=(t,e)=>{if(!t)throw new Error("Invalid connectionId.");if(!e)throw new Error("Invalid transport options.");const n=e.invokeMethod("get_Url");if(!n)throw new Error("Invalid hub url.");let s={logger:e.invokeMethod("get_LogLevel"),transport:e.invokeMethod("get_Transport"),logMessageContent:e.invokeMethod("get_LogMessageContent"),skipNegotiation:e.invokeMethod("get_SkipNegotiation")};if(e.invokeMethod("HasAccessTokenFactory")&&(s.accessTokenFactory=()=>new Promise((t,n)=>r(this,void 0,void 0,function*(){const r=yield e.invokeMethodAsync("GetAccessToken");r?t(r):n()}))),this._hubConnections[t])return;let a=(new o.HubConnectionBuilder).withUrl(n,s);e.invokeMethod("get_EnableMessagePack")&&a.withHubProtocol(new i.MessagePackHubProtocol),this._hubConnections.set(t,a.build())},this.RemoveConnection=t=>{this._hubConnections.delete(t)},this.StartConnection=t=>this.GetConnection(t).start(),this.StopConnection=t=>this.GetConnection(t).stop(),this.InvokeAsync=(t,e,n)=>this.GetConnection(t).invoke(e,...n),this.InvokeWithResultAsync=(t,e,n)=>r(this,void 0,void 0,function*(){const r=this.GetConnection(t);var o=yield r.invoke(e,...n);return this.ReplaceTypedArray(o)}),this.GetConnection=t=>{if(!t)throw new Error("Invalid connectionId.");const e=this._hubConnections.get(t);if(!e)throw new Error("Invalid connection.");return e},this.ReplaceTypedArray=t=>((t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=Array.prototype.slice.call(t)),t),this.On=(t,e)=>{const n=this.GetConnection(t),r=(...t)=>e.invokeMethodAsync("On",t.map(t=>JSON.stringify(this.ReplaceTypedArray(t))));this._handles.set(e.invokeMethod("get_Id"),r),n.on(e.invokeMethod("get_MethodName"),r)},this.Off=(t,e,n)=>{const r=this.GetConnection(t),o=this._handles.get(n);o&&(r.off(e,o),this._handles.delete(n))},this.OnClose=(t,e)=>{this.GetConnection(t).onclose(t=>r(this,void 0,void 0,function*(){e.invokeMethodAsync("OnClose",JSON.stringify(t))}))}}}},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],s=n[1],a=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),c=0,l=s>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;2===s&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,a[c++]=255&e);1===s&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(l(t,s,s+16383>a?a:s+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,s=[],a=e;a<n;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}},function(t,e,n){"use strict";(function(e){var r=n(34);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=n(17),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(t){return Object.prototype.toString.call(t)}function f(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function d(t){if(s.isFunction(t)){if(u)return t.name;var e=t.toString().match(p);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(u||!s.isFunction(t))return s.inspect(t);var e=d(t);return"[Function"+(e?": "+e:"")+"]"}function v(t,e,n,r,o){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function b(t,e){t||v(t,!0,e,"==",h.ok)}function w(t,e,n,r){if(t===e)return!0;if(i(t)&&i(e))return 0===o(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===o(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),i=m(e);if(o&&!i||!o&&i)return!1;if(o)return t=c.call(t),e=c.call(e),w(t,e,n);var a,u,l=_(t),f=_(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),u=l.length-1;u>=0;u--)if(l[u]!==f[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!w(t[a],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function E(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&v(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!t&&o&&!n;if((!t&&s.isError(o)&&i&&E(o,n)||a)&&v(o,n,"Got unwanted exception"+r),t&&o&&n&&!E(o,n)||!t&&o)throw o}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(y(t.actual),128)+" "+t.operator+" "+g(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=d(e),i=r.indexOf("\n"+o);if(i>=0){var s=r.indexOf("\n",i+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(h.AssertionError,Error),h.fail=v,h.ok=b,h.equal=function(t,e,n){t!=e&&v(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&v(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){w(t,e,!1)||v(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){w(t,e,!0)||v(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){w(t,e,!1)&&v(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){w(e,n,!0)&&v(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&v(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&v(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){S(!0,t,e,n)},h.doesNotThrow=function(t,e,n){S(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=r(function t(e,n){e||v(e,!0,n,"==",t)},h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var _=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(7))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,c=s(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(c[l]=n[l]);if(r){a=r(n);for(var f=0;f<a.length;f++)i.call(n,a[f])&&(c[a[f]]=n[a[f]])}}return c}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){},function(t,e,n){"use strict";var r=n(8).Buffer,o=n(38);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o,i=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=i,o=a,e.copy(n,o),a+=s.data.length,s=s.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(40),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,s,a,c=1,u={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[c]=o,r(c),c++},h.clearImmediate=p}function p(t){delete u[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(7),n(13))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(7))},function(t,e,n){"use strict";t.exports=i;var r=n(26),o=n(14);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}o.inherits=n(9),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r=n(19).Transform,o=n(9),i=n(15);function s(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,r.call(this,t),this._msgpack=t.msgpack}function a(t){if(!(this instanceof a))return(t=t||{}).msgpack=this,new a(t);s.call(this,t),this._wrap="wrap"in t&&t.wrap}function c(t){if(!(this instanceof c))return(t=t||{}).msgpack=this,new c(t);s.call(this,t),this._chunks=i(),this._wrap="wrap"in t&&t.wrap}o(s,r),o(a,s),a.prototype._transform=function(t,e,n){var r=null;try{r=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),n()}this.push(r),n()},o(c,s),c.prototype._transform=function(t,e,n){t&&this._chunks.append(t);try{var r=this._msgpack.decode(this._chunks);this._wrap&&(r={value:r}),this.push(r)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?n():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,n):n()},t.exports.decoder=c,t.exports.encoder=a},function(t,e,n){"use strict";var r=n(15);function o(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}n(17).inherits(o,Error),t.exports=function(t){return function(t){t instanceof r||(t=r().append(t));var e=i(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new o};function e(t,e,n){return e>=n+t}function n(t,e){return{value:t,bytesConsumed:e}}function i(t,r){r=void 0===r?0:r;var o=t.length-r;if(o<=0)return null;var i,l,f,h=t.readUInt8(r),p=0;if(!function(t,e){var n=function(t){switch(t){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}(t);return!(-1!==n&&e<n)}(h,o))return null;switch(h){case 192:return n(null,1);case 194:return n(!1,1);case 195:return n(!0,1);case 204:return n(p=t.readUInt8(r+1),2);case 205:return n(p=t.readUInt16BE(r+1),3);case 206:return n(p=t.readUInt32BE(r+1),5);case 207:for(f=7;f>=0;f--)p+=t.readUInt8(r+f+1)*Math.pow(2,8*(7-f));return n(p,9);case 208:return n(p=t.readInt8(r+1),2);case 209:return n(p=t.readInt16BE(r+1),3);case 210:return n(p=t.readInt32BE(r+1),5);case 211:return n(p=function(t,e){var n=128==(128&t[e]);if(n)for(var r=1,o=e+7;o>=e;o--){var i=(255^t[o])+r;t[o]=255&i,r=i>>8}var s=t.readUInt32BE(e+0),a=t.readUInt32BE(e+4);return(4294967296*s+a)*(n?-1:1)}(t.slice(r+1,r+9),0),9);case 202:return n(p=t.readFloatBE(r+1),5);case 203:return n(p=t.readDoubleBE(r+1),9);case 217:return e(i=t.readUInt8(r+1),o,2)?n(p=t.toString("utf8",r+2,r+2+i),2+i):null;case 218:return e(i=t.readUInt16BE(r+1),o,3)?n(p=t.toString("utf8",r+3,r+3+i),3+i):null;case 219:return e(i=t.readUInt32BE(r+1),o,5)?n(p=t.toString("utf8",r+5,r+5+i),5+i):null;case 196:return e(i=t.readUInt8(r+1),o,2)?n(p=t.slice(r+2,r+2+i),2+i):null;case 197:return e(i=t.readUInt16BE(r+1),o,3)?n(p=t.slice(r+3,r+3+i),3+i):null;case 198:return e(i=t.readUInt32BE(r+1),o,5)?n(p=t.slice(r+5,r+5+i),5+i):null;case 220:return o<3?null:(i=t.readUInt16BE(r+1),s(t,r,i,3));case 221:return o<5?null:(i=t.readUInt32BE(r+1),s(t,r,i,5));case 222:return i=t.readUInt16BE(r+1),a(t,r,i,3);case 223:return i=t.readUInt32BE(r+1),a(t,r,i,5);case 212:return c(t,r,1);case 213:return c(t,r,2);case 214:return c(t,r,4);case 215:return c(t,r,8);case 216:return c(t,r,16);case 199:return i=t.readUInt8(r+1),l=t.readUInt8(r+2),e(i,o,3)?u(t,r,l,i,3):null;case 200:return i=t.readUInt16BE(r+1),l=t.readUInt8(r+3),e(i,o,4)?u(t,r,l,i,4):null;case 201:return i=t.readUInt32BE(r+1),l=t.readUInt8(r+5),e(i,o,6)?u(t,r,l,i,6):null}if(144==(240&h))return s(t,r,i=15&h,1);if(128==(240&h))return a(t,r,i=15&h,1);if(160==(224&h))return e(i=31&h,o,1)?n(p=t.toString("utf8",r+1,r+i+1),i+1):null;if(h>=224)return n(p=h-256,1);if(h<128)return n(h,1);throw new Error("not implemented yet")}function s(t,e,r,o){var s,a=[],c=0;for(e+=o,s=0;s<r;s++){var u=i(t,e);if(!u)return null;a.push(u.value),e+=u.bytesConsumed,c+=u.bytesConsumed}return n(a,o+c)}function a(t,e,r,o){var s,a={},c=0;for(e+=o,s=0;s<r;s++){var u=i(t,e);if(!u)return null;var l=i(t,e+=u.bytesConsumed);if(!l)return null;a[u.value]=l.value,e+=l.bytesConsumed,c+=u.bytesConsumed+l.bytesConsumed}return n(a,o+c)}function c(t,e,n){var r=t.readInt8(e+1);return u(t,e,r,n,2)}function u(e,r,o,i,s){var a,c;if(r+=s,o<0)switch(o){case-1:return function(t,e,r){var o,i=0;switch(e){case 4:o=t.readUInt32BE(0);break;case 8:var s=t.readUInt32BE(0),a=t.readUInt32BE(4);i=s/4,o=(3&s)*Math.pow(2,32)+a;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var c=1e3*o+Math.round(i/1e6);return n(new Date(c),e+r)}(c=e.slice(r,r+i),i,s)}for(a=0;a<t.length;a++){if(o===t[a].type)return c=e.slice(r,r+i),n(t[a].decode(c),s+i)}throw new Error("unable to find ext type "+o)}},t.exports.IncompleteBufferError=o},function(t,e,n){"use strict";var r=n(8).Buffer,o=n(15);function i(t,e){var n,o=!0;return Math.fround&&(o=Math.fround(t)!==t),e&&(o=!0),o?((n=r.allocUnsafe(9))[0]=203,n.writeDoubleBE(t,1)):((n=r.allocUnsafe(5))[0]=202,n.writeFloatBE(t,1)),n}t.exports=function(t,e,n,s){function a(c,u){var l,f,h;if(void 0===c)throw new Error("undefined is not encodable in msgpack!");if((h=c)!=h&&"number"==typeof h)throw new Error("NaN is not encodable in msgpack!");if(null===c)(l=r.allocUnsafe(1))[0]=192;else if(!0===c)(l=r.allocUnsafe(1))[0]=195;else if(!1===c)(l=r.allocUnsafe(1))[0]=194;else if("string"==typeof c)(f=r.byteLength(c))<32?((l=r.allocUnsafe(1+f))[0]=160|f,f>0&&l.write(c,1)):f<=255&&!n?((l=r.allocUnsafe(2+f))[0]=217,l[1]=f,l.write(c,2)):f<=65535?((l=r.allocUnsafe(3+f))[0]=218,l.writeUInt16BE(f,1),l.write(c,3)):((l=r.allocUnsafe(5+f))[0]=219,l.writeUInt32BE(f,1),l.write(c,5));else if(c&&(c.readUInt32LE||c instanceof Uint8Array))c instanceof Uint8Array&&(c=r.from(c)),c.length<=255?((l=r.allocUnsafe(2))[0]=196,l[1]=c.length):c.length<=65535?((l=r.allocUnsafe(3))[0]=197,l.writeUInt16BE(c.length,1)):((l=r.allocUnsafe(5))[0]=198,l.writeUInt32BE(c.length,1)),l=o([l,c]);else if(Array.isArray(c))c.length<16?(l=r.allocUnsafe(1))[0]=144|c.length:c.length<65536?((l=r.allocUnsafe(3))[0]=220,l.writeUInt16BE(c.length,1)):((l=r.allocUnsafe(5))[0]=221,l.writeUInt32BE(c.length,1)),l=c.reduce(function(t,e){return t.append(a(e,!0)),t},o().append(l));else{if(!s&&"function"==typeof c.getDate)return function(t){var e,n=1*t,i=Math.floor(n/1e3),s=1e6*(n-1e3*i);if(s||i>4294967295){(e=r.allocUnsafe(10))[0]=215,e[1]=-1;var a=4*s,c=i/Math.pow(2,32),u=a+c&4294967295,l=4294967295&i;e.writeInt32BE(u,2),e.writeInt32BE(l,6)}else(e=r.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(n/1e3),2);return o().append(e)}(c);if("object"==typeof c)l=function(e){var n,i,s=-1,a=[];for(n=0;n<t.length;n++)if(t[n].check(e)){i=t[n].encode(e);break}if(!i)return null;1==(s=i.length-1)?a.push(212):2===s?a.push(213):4===s?a.push(214):8===s?a.push(215):16===s?a.push(216):s<256?(a.push(199),a.push(s)):s<65536?(a.push(200),a.push(s>>8),a.push(255&s)):(a.push(201),a.push(s>>24),a.push(s>>16&255),a.push(s>>8&255),a.push(255&s));return o().append(r.from(a)).append(i)}(c)||function(t){var e,n,i=[],s=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++s,i.push(a(e,!0)),i.push(a(t[e],!0)));s<16?(n=r.allocUnsafe(1))[0]=128|s:s<65535?((n=r.allocUnsafe(3))[0]=222,n.writeUInt16BE(s,1)):((n=r.allocUnsafe(5))[0]=223,n.writeUInt32BE(s,1));return i.unshift(n),i.reduce(function(t,e){return t.append(e)},o())}(c);else if("number"==typeof c){if(function(t){return t%1!=0}(c))return i(c,e);if(c>=0)if(c<128)(l=r.allocUnsafe(1))[0]=c;else if(c<256)(l=r.allocUnsafe(2))[0]=204,l[1]=c;else if(c<65536)(l=r.allocUnsafe(3))[0]=205,l.writeUInt16BE(c,1);else if(c<=4294967295)(l=r.allocUnsafe(5))[0]=206,l.writeUInt32BE(c,1);else{if(!(c<=9007199254740991))return i(c,!0);(l=r.allocUnsafe(9))[0]=207,function(t,e){for(var n=7;n>=0;n--)t[n+1]=255&e,e/=256}(l,c)}else if(c>=-32)(l=r.allocUnsafe(1))[0]=256+c;else if(c>=-128)(l=r.allocUnsafe(2))[0]=208,l.writeInt8(c,1);else if(c>=-32768)(l=r.allocUnsafe(3))[0]=209,l.writeInt16BE(c,1);else if(c>-214748365)(l=r.allocUnsafe(5))[0]=210,l.writeInt32BE(c,1);else{if(!(c>=-9007199254740991))return i(c,!0);(l=r.allocUnsafe(9))[0]=211,function(t,e,n){var r=n<0;r&&(n=Math.abs(n));var o=n%4294967296,i=n/4294967296;if(t.writeUInt32BE(Math.floor(i),e+0),t.writeUInt32BE(o,e+4),r)for(var s=1,a=e+7;a>=e;a--){var c=(255^t[a])+s;t[a]=255&c,s=c>>8}}(l,1,c)}}}if(!l)throw new Error("not implemented yet");return u?l:l.slice()}return a}},function(t,e,n){"use strict";n.r(e);var r=n(10),o=n(11),i=n(2),s=function(){function t(){}return t.write=function(t){var e=t.byteLength||t.length,n=[];do{var r=127&e;(e>>=7)>0&&(r|=128),n.push(r)}while(e>0);e=t.byteLength||t.length;var o=new Uint8Array(n.length+e);return o.set(n,0),o.set(t,n.length),o.buffer},t.parse=function(t){for(var e=[],n=new Uint8Array(t),r=[0,7,14,21,28],o=0;o<t.byteLength;){var i=0,s=0,a=void 0;do{s|=(127&(a=n[o+i]))<<r[i],i++}while(i<Math.min(5,t.byteLength-o)&&0!=(128&a));if(0!=(128&a)&&i<5)throw new Error("Cannot read message size.");if(5===i&&a>7)throw new Error("Messages bigger than 2GB are not supported.");if(!(n.byteLength>=o+i+s))throw new Error("Incomplete message.");e.push(n.slice?n.slice(o+i,o+i+s):n.subarray(o+i,o+i+s)),o=o+i+s}return e},t}();var a=new Uint8Array([145,i.MessageType.Ping]),c=function(){function t(){this.name="messagepack",this.version=1,this.transferFormat=i.TransferFormat.Binary,this.errorResult=1,this.voidResult=2,this.nonVoidResult=3}return t.prototype.parseMessages=function(t,e){if(!(t instanceof r.Buffer||(n=t,n&&"undefined"!=typeof ArrayBuffer&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name))))throw new Error("Invalid input for MessagePack hub protocol. Expected an ArrayBuffer or Buffer.");var n;null===e&&(e=i.NullLogger.instance);for(var o=[],a=0,c=s.parse(t);a<c.length;a++){var u=c[a],l=this.parseMessage(u,e);l&&o.push(l)}return o},t.prototype.writeMessage=function(t){switch(t.type){case i.MessageType.Invocation:return this.writeInvocation(t);case i.MessageType.StreamInvocation:return this.writeStreamInvocation(t);case i.MessageType.StreamItem:return this.writeStreamItem(t);case i.MessageType.Completion:return this.writeCompletion(t);case i.MessageType.Ping:return s.write(a);case i.MessageType.CancelInvocation:return this.writeCancelInvocation(t);default:throw new Error("Invalid message type.")}},t.prototype.parseMessage=function(t,e){if(0===t.length)throw new Error("Invalid payload.");var n=o().decode(r.Buffer.from(t));if(0===n.length||!(n instanceof Array))throw new Error("Invalid payload.");var s=n[0];switch(s){case i.MessageType.Invocation:return this.createInvocationMessage(this.readHeaders(n),n);case i.MessageType.StreamItem:return this.createStreamItemMessage(this.readHeaders(n),n);case i.MessageType.Completion:return this.createCompletionMessage(this.readHeaders(n),n);case i.MessageType.Ping:return this.createPingMessage(n);case i.MessageType.Close:return this.createCloseMessage(n);default:return e.log(i.LogLevel.Information,"Unknown message type '"+s+"' ignored."),null}},t.prototype.createCloseMessage=function(t){if(t.length<2)throw new Error("Invalid payload for Close message.");return{error:t[1],type:i.MessageType.Close}},t.prototype.createPingMessage=function(t){if(t.length<1)throw new Error("Invalid payload for Ping message.");return{type:i.MessageType.Ping}},t.prototype.createInvocationMessage=function(t,e){if(e.length<5)throw new Error("Invalid payload for Invocation message.");var n=e[2];return n?{arguments:e[4],headers:t,invocationId:n,streamIds:[],target:e[3],type:i.MessageType.Invocation}:{arguments:e[4],headers:t,streamIds:[],target:e[3],type:i.MessageType.Invocation}},t.prototype.createStreamItemMessage=function(t,e){if(e.length<4)throw new Error("Invalid payload for StreamItem message.");return{headers:t,invocationId:e[2],item:e[3],type:i.MessageType.StreamItem}},t.prototype.createCompletionMessage=function(t,e){if(e.length<4)throw new Error("Invalid payload for Completion message.");var n,r,o=e[3];if(o!==this.voidResult&&e.length<5)throw new Error("Invalid payload for Completion message.");switch(o){case this.errorResult:n=e[4];break;case this.nonVoidResult:r=e[4]}return{error:n,headers:t,invocationId:e[2],result:r,type:i.MessageType.Completion}},t.prototype.writeInvocation=function(t){var e=o().encode([i.MessageType.Invocation,t.headers||{},t.invocationId||null,t.target,t.arguments,t.streamIds]);return s.write(e.slice())},t.prototype.writeStreamInvocation=function(t){var e=o().encode([i.MessageType.StreamInvocation,t.headers||{},t.invocationId,t.target,t.arguments,t.streamIds]);return s.write(e.slice())},t.prototype.writeStreamItem=function(t){var e=o().encode([i.MessageType.StreamItem,t.headers||{},t.invocationId,t.item]);return s.write(e.slice())},t.prototype.writeCompletion=function(t){var e,n=o(),r=t.error?this.errorResult:t.result?this.nonVoidResult:this.voidResult;switch(r){case this.errorResult:e=n.encode([i.MessageType.Completion,t.headers||{},t.invocationId,r,t.error]);break;case this.voidResult:e=n.encode([i.MessageType.Completion,t.headers||{},t.invocationId,r]);break;case this.nonVoidResult:e=n.encode([i.MessageType.Completion,t.headers||{},t.invocationId,r,t.result])}return s.write(e.slice())},t.prototype.writeCancelInvocation=function(t){var e=o().encode([i.MessageType.CancelInvocation,t.headers||{},t.invocationId]);return s.write(e.slice())},t.prototype.readHeaders=function(t){var e=t[1];if("object"!=typeof e)throw new Error("Invalid headers.");return e},t}();n.d(e,"VERSION",function(){return u}),n.d(e,"MessagePackHubProtocol",function(){return c});var u="3.0.0"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9JTG9nZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9YaHJIdHRwQ2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSUh1YlByb3RvY29sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vRGVmYXVsdEh0dHBDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9IdWJDb25uZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0lUcmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9EZWZhdWx0UmVjb25uZWN0UG9saWN5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vQWJvcnRDb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vTG9uZ1BvbGxpbmdUcmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9TZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vV2ViU29ja2V0VHJhbnNwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSHR0cENvbm5lY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9Kc29uSHViUHJvdG9jb2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9IdWJDb25uZWN0aW9uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vRXJyb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSHR0cENsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL0xvZ2dlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvc2lnbmFsci9kaXN0L2VzbS9UZXh0TWVzc2FnZUZvcm1hdC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zYWZlLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tc2dwYWNrNS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLXV0aWwtaXMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JsL2JsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzLW5leHRpY2stYXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fd3JpdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0cmluZ19kZWNvZGVyL2xpYi9zdHJpbmdfZGVjb2Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyL2Rpc3QvZXNtL05vZGVIdHRwQ2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHIvZGlzdC9lc20vSGFuZHNoYWtlUHJvdG9jb2wuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luaXRpYWxpemVTaWduYWxSLnRzIiwid2VicGFjazovLy8uL3NyYy9IdWJDb25uZWN0aW9uTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3NlcnQvYXNzZXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC1kZXByZWNhdGUvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tc2dwYWNrNS9saWIvc3RyZWFtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXNncGFjazUvbGliL2RlY29kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21zZ3BhY2s1L2xpYi9lbmNvZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHItcHJvdG9jb2wtbXNncGFjay9kaXN0L2VzbS9CaW5hcnlNZXNzYWdlRm9ybWF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHItcHJvdG9jb2wtbXNncGFjay9kaXN0L2VzbS9NZXNzYWdlUGFja0h1YlByb3RvY29sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L3NpZ25hbHItcHJvdG9jb2wtbXNncGFjay9kaXN0L2VzbS9VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9zaWduYWxyLXByb3RvY29sLW1zZ3BhY2svZGlzdC9lc20vaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJMb2dMZXZlbCIsIl9fd2VicGFja19leHBvcnRzX18iLCJBcmciLCJQbGF0Zm9ybSIsImdldERhdGFEZXRhaWwiLCJpc0FycmF5QnVmZmVyIiwic2VuZE1lc3NhZ2UiLCJjcmVhdGVMb2dnZXIiLCJTdWJqZWN0U3Vic2NyaXB0aW9uIiwiQ29uc29sZUxvZ2dlciIsIl9JTG9nZ2VyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfTG9nZ2Vyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJ0aHJvdyIsInJldHVybiIsIml0ZXJhdG9yIiwidGhpcyIsInYiLCJvcCIsIlR5cGVFcnJvciIsInBvcCIsImxlbmd0aCIsInB1c2giLCJpc1JlcXVpcmVkIiwidmFsIiwiRXJyb3IiLCJpc0luIiwidmFsdWVzIiwid2luZG93IiwiY29uZmlndXJhYmxlIiwic2VsZiIsImlzQnJvd3NlciIsImlzV2ViV29ya2VyIiwiZGF0YSIsImluY2x1ZGVDb250ZW50IiwiZGV0YWlsIiwiYnl0ZUxlbmd0aCIsInZpZXciLCJVaW50OEFycmF5Iiwic3RyIiwiZm9yRWFjaCIsIm51bSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZm9ybWF0QXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImNvbnN0cnVjdG9yIiwibG9nZ2VyIiwidHJhbnNwb3J0TmFtZSIsImh0dHBDbGllbnQiLCJ1cmwiLCJhY2Nlc3NUb2tlbkZhY3RvcnkiLCJjb250ZW50IiwibG9nTWVzc2FnZUNvbnRlbnQiLCJfYSIsImhlYWRlcnMiLCJ0b2tlbiIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwiX2IiLCJsb2ciLCJUcmFjZSIsInBvc3QiLCJzdGF0dXNDb2RlIiwidW5kZWZpbmVkIiwiSW5mb3JtYXRpb24iLCJpbnN0YW5jZSIsInN1YmplY3QiLCJvYnNlcnZlciIsImRpc3Bvc2UiLCJpbmRleCIsIm9ic2VydmVycyIsImluZGV4T2YiLCJzcGxpY2UiLCJjYW5jZWxDYWxsYmFjayIsImNhdGNoIiwibWluaW11bUxvZ0xldmVsIiwib3V0cHV0Q29uc29sZSIsImNvbnNvbGUiLCJsb2dMZXZlbCIsIm1lc3NhZ2UiLCJDcml0aWNhbCIsImVycm9yIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiV2FybmluZyIsIndhcm4iLCJpbmZvIiwiZXh0ZW5kU3RhdGljcyIsIk1lc3NhZ2VUeXBlIiwiX19leHRlbmRzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsImIiLCJfXyIsIlhockh0dHBDbGllbnRfWGhySHR0cENsaWVudCIsIl9zdXBlciIsIlhockh0dHBDbGllbnQiLCJfdGhpcyIsInNlbmQiLCJyZXF1ZXN0IiwiYWJvcnRTaWduYWwiLCJhYm9ydGVkIiwiRXJyb3JzIiwibWV0aG9kIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwic2V0UmVxdWVzdEhlYWRlciIsImtleXMiLCJoZWFkZXIiLCJvbmFib3J0IiwiYWJvcnQiLCJ0aW1lb3V0Iiwib25sb2FkIiwic3RhdHVzIiwiSHR0cENsaWVudCIsInN0YXR1c1RleHQiLCJyZXNwb25zZVRleHQiLCJvbmVycm9yIiwiSUxvZ2dlciIsIm9udGltZW91dCIsIkRlZmF1bHRIdHRwQ2xpZW50X2V4dGVuZHMiLCJEZWZhdWx0SHR0cENsaWVudF9EZWZhdWx0SHR0cENsaWVudCIsIkRlZmF1bHRIdHRwQ2xpZW50IiwiTm9kZUh0dHBDbGllbnQiLCJnZXRDb29raWVTdHJpbmciLCJIdWJDb25uZWN0aW9uU3RhdGUiLCJTdWJqZWN0X1N1YmplY3QiLCJTdWJqZWN0IiwiaXRlbSIsIl9pIiwiZXJyIiwiY29tcGxldGUiLCJzdWJzY3JpYmUiLCJVdGlscyIsIkRFRkFVTFRfVElNRU9VVF9JTl9NUyIsIkRFRkFVTFRfUElOR19JTlRFUlZBTF9JTl9NUyIsIkh0dHBUcmFuc3BvcnRUeXBlIiwiVHJhbnNmZXJGb3JtYXQiLCJIdWJDb25uZWN0aW9uX0h1YkNvbm5lY3Rpb24iLCJIdWJDb25uZWN0aW9uIiwiY29ubmVjdGlvbiIsInByb3RvY29sIiwicmVjb25uZWN0UG9saWN5Iiwic2VydmVyVGltZW91dEluTWlsbGlzZWNvbmRzIiwia2VlcEFsaXZlSW50ZXJ2YWxJbk1pbGxpc2Vjb25kcyIsImhhbmRzaGFrZVByb3RvY29sIiwiSGFuZHNoYWtlUHJvdG9jb2wiLCJvbnJlY2VpdmUiLCJwcm9jZXNzSW5jb21pbmdEYXRhIiwib25jbG9zZSIsImNvbm5lY3Rpb25DbG9zZWQiLCJjYWxsYmFja3MiLCJtZXRob2RzIiwiY2xvc2VkQ2FsbGJhY2tzIiwicmVjb25uZWN0aW5nQ2FsbGJhY2tzIiwicmVjb25uZWN0ZWRDYWxsYmFja3MiLCJpbnZvY2F0aW9uSWQiLCJyZWNlaXZlZEhhbmRzaGFrZVJlc3BvbnNlIiwiY29ubmVjdGlvblN0YXRlIiwiRGlzY29ubmVjdGVkIiwiY29ubmVjdGlvblN0YXJ0ZWQiLCJjYWNoZWRQaW5nTWVzc2FnZSIsIndyaXRlTWVzc2FnZSIsInR5cGUiLCJQaW5nIiwiY29ubmVjdGlvbklkIiwiYmFzZVVybCIsInNldCIsIlJlY29ubmVjdGluZyIsInN0YXJ0Iiwic3RhcnRQcm9taXNlIiwic3RhcnRXaXRoU3RhdGVUcmFuc2l0aW9ucyIsImVfMSIsIkNvbm5lY3RpbmciLCJEZWJ1ZyIsInN0YXJ0SW50ZXJuYWwiLCJDb25uZWN0ZWQiLCJoYW5kc2hha2VQcm9taXNlIiwiaGFuZHNoYWtlUmVxdWVzdCIsImVfMiIsInN0b3BEdXJpbmdTdGFydEVycm9yIiwiaGFuZHNoYWtlUmVzb2x2ZXIiLCJoYW5kc2hha2VSZWplY3RlciIsInRyYW5zZmVyRm9ybWF0IiwidmVyc2lvbiIsIndyaXRlSGFuZHNoYWtlUmVxdWVzdCIsImNsZWFudXBUaW1lb3V0IiwicmVzZXRUaW1lb3V0UGVyaW9kIiwicmVzZXRLZWVwQWxpdmVJbnRlcnZhbCIsImNsZWFudXBQaW5nVGltZXIiLCJzdG9wIiwic3RvcFByb21pc2UiLCJzdG9wSW50ZXJuYWwiLCJEaXNjb25uZWN0aW5nIiwicmVjb25uZWN0RGVsYXlIYW5kbGUiLCJjbGVhclRpbWVvdXQiLCJjb21wbGV0ZUNsb3NlIiwic3RyZWFtIiwibWV0aG9kTmFtZSIsImFyZ3MiLCJhcmd1bWVudHMiLCJwcm9taXNlUXVldWUiLCJyZXBsYWNlU3RyZWFtaW5nUGFyYW1zIiwic3RyZWFtcyIsInN0cmVhbUlkcyIsImludm9jYXRpb25EZXNjcmlwdG9yIiwiY3JlYXRlU3RyZWFtSW52b2NhdGlvbiIsImNhbmNlbEludm9jYXRpb24iLCJjcmVhdGVDYW5jZWxJbnZvY2F0aW9uIiwic2VuZFdpdGhQcm90b2NvbCIsImludm9jYXRpb25FdmVudCIsIkNvbXBsZXRpb24iLCJsYXVuY2hTdHJlYW1zIiwic2VuZFByb21pc2UiLCJjcmVhdGVJbnZvY2F0aW9uIiwiaW52b2tlIiwib24iLCJuZXdNZXRob2QiLCJ0b0xvd2VyQ2FzZSIsIm9mZiIsImhhbmRsZXJzIiwicmVtb3ZlSWR4IiwiY2FsbGJhY2siLCJvbnJlY29ubmVjdGluZyIsIm9ucmVjb25uZWN0ZWQiLCJwcm9jZXNzSGFuZHNoYWtlUmVzcG9uc2UiLCJtZXNzYWdlc18xIiwicGFyc2VNZXNzYWdlcyIsIkludm9jYXRpb24iLCJpbnZva2VDbGllbnRNZXRob2QiLCJTdHJlYW1JdGVtIiwiQ2xvc2UiLCJyZXNwb25zZU1lc3NhZ2UiLCJyZW1haW5pbmdEYXRhIiwicGFyc2VIYW5kc2hha2VSZXNwb25zZSIsInBpbmdTZXJ2ZXJIYW5kbGUiLCJzZXRUaW1lb3V0IiwiZmVhdHVyZXMiLCJpbmhlcmVudEtlZXBBbGl2ZSIsInRpbWVvdXRIYW5kbGUiLCJzZXJ2ZXJUaW1lb3V0IiwiaW52b2NhdGlvbk1lc3NhZ2UiLCJ0YXJnZXQiLCJjYW5jZWxDYWxsYmFja3NXaXRoRXJyb3IiLCJyZWNvbm5lY3QiLCJyZWNvbm5lY3RTdGFydFRpbWUiLCJwcmV2aW91c1JlY29ubmVjdEF0dGVtcHRzIiwicmV0cnlFcnJvciIsIm5leHRSZXRyeURlbGF5IiwiZV80Iiwibm93IiwiZ2V0TmV4dFJldHJ5RGVsYXkiLCJwcmV2aW91c1JldHJ5Q291bnQiLCJlbGFwc2VkTWlsbGlzZWNvbmRzIiwicmV0cnlSZWFzb24iLCJuZXh0UmV0cnlEZWxheUluTWlsbGlzZWNvbmRzIiwibm9uYmxvY2tpbmciLCJfbG9vcF8xIiwic3RyZWFtSWQiLCJjcmVhdGVDb21wbGV0aW9uTWVzc2FnZSIsImNyZWF0ZVN0cmVhbUl0ZW1NZXNzYWdlIiwiYXJndW1lbnQiLCJpc09ic2VydmFibGUiLCJhcmciLCJTdHJlYW1JbnZvY2F0aW9uIiwiaWQiLCJDYW5jZWxJbnZvY2F0aW9uIiwiREVGQVVMVF9SRVRSWV9ERUxBWVNfSU5fTUlMTElTRUNPTkRTIiwiRGVmYXVsdFJlY29ubmVjdFBvbGljeSIsInJldHJ5RGVsYXlzIiwiY29uY2F0IiwicmV0cnlDb250ZXh0IiwiQWJvcnRDb250cm9sbGVyIiwiaXNBYm9ydGVkIiwiTG9uZ1BvbGxpbmdUcmFuc3BvcnRfYXdhaXRlciIsIkxvbmdQb2xsaW5nVHJhbnNwb3J0X2dlbmVyYXRvciIsIkxvbmdQb2xsaW5nVHJhbnNwb3J0X0xvbmdQb2xsaW5nVHJhbnNwb3J0IiwiTG9uZ1BvbGxpbmdUcmFuc3BvcnQiLCJwb2xsQWJvcnQiLCJydW5uaW5nIiwiY29ubmVjdCIsInBvbGxPcHRpb25zIiwicG9sbFVybCIsIkJpbmFyeSIsInNpZ25hbCIsImdldEFjY2Vzc1Rva2VuIiwidXBkYXRlSGVhZGVyVG9rZW4iLCJjbG9zZUVycm9yIiwicmVjZWl2aW5nIiwicG9sbCIsInBvbGxBYm9ydGVkIiwicmFpc2VPbkNsb3NlIiwiZGVsZXRlT3B0aW9ucyIsImRlbGV0ZSIsImxvZ01lc3NhZ2UiLCJTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0X2F3YWl0ZXIiLCJTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0X2dlbmVyYXRvciIsIlNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnRfU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydCIsIlNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQiLCJldmVudFNvdXJjZUNvbnN0cnVjdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwib3BlbmVkIiwiVGV4dCIsImV2ZW50U291cmNlIiwiY29va2llcyIsIkNvb2tpZSIsIm9ubWVzc2FnZSIsImNsb3NlIiwib25vcGVuIiwiV2ViU29ja2V0VHJhbnNwb3J0X2F3YWl0ZXIiLCJXZWJTb2NrZXRUcmFuc3BvcnRfZ2VuZXJhdG9yIiwiV2ViU29ja2V0VHJhbnNwb3J0X1dlYlNvY2tldFRyYW5zcG9ydCIsIldlYlNvY2tldFRyYW5zcG9ydCIsIndlYlNvY2tldENvbnN0cnVjdG9yIiwid2ViU29ja2V0IiwicmVwbGFjZSIsImlzTm9kZSIsImJpbmFyeVR5cGUiLCJfZXZlbnQiLCJldmVudCIsIkVycm9yRXZlbnQiLCJyZWFkeVN0YXRlIiwiT1BFTiIsIndhc0NsZWFuIiwiY29kZSIsInJlYXNvbiIsIkh0dHBDb25uZWN0aW9uX2F3YWl0ZXIiLCJIdHRwQ29ubmVjdGlvbl9nZW5lcmF0b3IiLCJXZWJTb2NrZXRNb2R1bGUiLCJFdmVudFNvdXJjZU1vZHVsZSIsInJlcXVpcmVGdW5jIiwicmVxdWlyZSIsIkh0dHBDb25uZWN0aW9uX0h0dHBDb25uZWN0aW9uIiwiSHR0cENvbm5lY3Rpb24iLCJvcHRpb25zIiwicmVzb2x2ZVVybCIsIldlYlNvY2tldCIsIkV2ZW50U291cmNlIiwic3RhcnRJbnRlcm5hbFByb21pc2UiLCJzZW5kUXVldWUiLCJUcmFuc3BvcnRTZW5kUXVldWUiLCJ0cmFuc3BvcnQiLCJzdG9wUHJvbWlzZVJlc29sdmVyIiwiZV8zIiwic3RvcEVycm9yIiwic3RvcENvbm5lY3Rpb24iLCJuZWdvdGlhdGVSZXNwb25zZSIsInJlZGlyZWN0cyIsInRoaXNfMSIsInNraXBOZWdvdGlhdGlvbiIsIldlYlNvY2tldHMiLCJjb25zdHJ1Y3RUcmFuc3BvcnQiLCJzdGFydFRyYW5zcG9ydCIsImFjY2Vzc1Rva2VuXzEiLCJnZXROZWdvdGlhdGlvblJlc3BvbnNlIiwiUHJvdG9jb2xWZXJzaW9uIiwiYWNjZXNzVG9rZW4iLCJjcmVhdGVUcmFuc3BvcnQiLCJuZWdvdGlhdGVVcmwiLCJlXzUiLCJyZXNvbHZlTmVnb3RpYXRlVXJsIiwiSlNPTiIsInBhcnNlIiwiY3JlYXRlQ29ubmVjdFVybCIsInJlcXVlc3RlZFRyYW5zcG9ydCIsInJlcXVlc3RlZFRyYW5zZmVyRm9ybWF0IiwiY29ubmVjdFVybCIsInRyYW5zcG9ydEV4Y2VwdGlvbnMiLCJ0cmFuc3BvcnRzIiwidHJhbnNwb3J0c18xIiwiZW5kcG9pbnQiLCJ0cmFuc3BvcnRPckVycm9yIiwiZXhfMSIsImV4XzIiLCJpc0lUcmFuc3BvcnQiLCJhdmFpbGFibGVUcmFuc3BvcnRzIiwicmVzb2x2ZVRyYW5zcG9ydE9yRXJyb3IiLCJqb2luIiwiU2VydmVyU2VudEV2ZW50cyIsIkxvbmdQb2xsaW5nIiwiYWN0dWFsVHJhbnNwb3J0IiwidHJhbnNwb3J0TWF0Y2hlcyIsInRyYW5zZmVyRm9ybWF0cyIsIm1hcCIsImV4IiwibGFzdEluZGV4T2YiLCJkb2N1bWVudCIsImFUYWciLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsInN1YnN0cmluZyIsImJ1ZmZlciIsImV4ZWN1dGluZyIsInNlbmRCdWZmZXJlZERhdGEiLCJQcm9taXNlU291cmNlIiwidHJhbnNwb3J0UmVzdWx0Iiwic2VuZExvb3BQcm9taXNlIiwic2VuZExvb3AiLCJidWZmZXJEYXRhIiwicHJvbWlzZSIsImVycm9yXzEiLCJjb25jYXRCdWZmZXJzIiwiYXJyYXlCdWZmZXJzIiwidG90YWxMZW5ndGgiLCJyZWR1Y2UiLCJhIiwib2Zmc2V0IiwiYXJyYXlCdWZmZXJzXzEiLCJyZXNvbHZlciIsInJlamVjdGVyIiwiSlNPTl9IVUJfUFJPVE9DT0xfTkFNRSIsIkpzb25IdWJQcm90b2NvbF9Kc29uSHViUHJvdG9jb2wiLCJKc29uSHViUHJvdG9jb2wiLCJpbnB1dCIsIkxvZ2dlcnMiLCJodWJNZXNzYWdlcyIsIlRleHRNZXNzYWdlRm9ybWF0IiwicGFyc2VkTWVzc2FnZSIsImlzSW52b2NhdGlvbk1lc3NhZ2UiLCJpc1N0cmVhbUl0ZW1NZXNzYWdlIiwiaXNDb21wbGV0aW9uTWVzc2FnZSIsIndyaXRlIiwic3RyaW5naWZ5IiwiYXNzZXJ0Tm90RW1wdHlTdHJpbmciLCJlcnJvck1lc3NhZ2UiLCJfX2Fzc2lnbiIsImFzc2lnbiIsIkxvZ0xldmVsTmFtZU1hcHBpbmciLCJ0cmFjZSIsImRlYnVnIiwiaW5mb3JtYXRpb24iLCJ3YXJuaW5nIiwiY3JpdGljYWwiLCJub25lIiwiTm9uZSIsIkh1YkNvbm5lY3Rpb25CdWlsZGVyX0h1YkNvbm5lY3Rpb25CdWlsZGVyIiwiSHViQ29ubmVjdGlvbkJ1aWxkZXIiLCJjb25maWd1cmVMb2dnaW5nIiwibG9nZ2luZyIsIm1hcHBpbmciLCJwYXJzZUxvZ0xldmVsIiwid2l0aFVybCIsInRyYW5zcG9ydFR5cGVPck9wdGlvbnMiLCJodHRwQ29ubmVjdGlvbk9wdGlvbnMiLCJ3aXRoSHViUHJvdG9jb2wiLCJ3aXRoQXV0b21hdGljUmVjb25uZWN0IiwicmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSIsImlzQXJyYXkiLCJidWlsZCIsIlZFUlNJT04iLCJIdHRwRXJyb3IiLCJUaW1lb3V0RXJyb3IiLCJBYm9ydEVycm9yIiwidHJ1ZVByb3RvIiwiSHR0cFJlc3BvbnNlIiwiTnVsbExvZ2dlciIsIl9sb2dMZXZlbCIsIl9tZXNzYWdlIiwib3V0cHV0IiwiUmVjb3JkU2VwYXJhdG9yIiwibWVzc2FnZXMiLCJzcGxpdCIsIlJlY29yZFNlcGFyYXRvckNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJGdW5jdGlvbiIsIkJ1ZmZlciIsImNvcHlQcm9wcyIsInNyYyIsImRzdCIsIlNhZmVCdWZmZXIiLCJlbmNvZGluZ09yT2Zmc2V0IiwiZnJvbSIsImFsbG9jIiwiYWxsb2NVbnNhZmUiLCJhbGxvY1Vuc2FmZVNsb3ciLCJzaXplIiwiZmlsbCIsImVuY29kaW5nIiwiYnVmIiwiU2xvd0J1ZmZlciIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJ3cml0YWJsZSIsIlRlbXBDdG9yIiwiZ2xvYmFsIiwiYmFzZTY0IiwiaWVlZTc1NCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJhcnJheSIsImJ5dGVPZmZzZXQiLCJmcm9tQXJyYXlMaWtlIiwiZnJvbUFycmF5QnVmZmVyIiwic3RyaW5nIiwiaXNFbmNvZGluZyIsImFjdHVhbCIsInNsaWNlIiwiZnJvbVN0cmluZyIsIm9iaiIsImlzQnVmZmVyIiwibGVuIiwiY2hlY2tlZCIsImNvcHkiLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic2xvd1RvU3RyaW5nIiwiZW5kIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImRpciIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwiYXJyIiwiaW5kZXhTaXplIiwiYXJyTGVuZ3RoIiwidmFsTGVuZ3RoIiwicmVhZCIsInJlYWRVSW50MTZCRSIsImZvdW5kSW5kZXgiLCJmb3VuZCIsImoiLCJoZXhXcml0ZSIsIk51bWJlciIsInJlbWFpbmluZyIsInN0ckxlbiIsInBhcnNlZCIsInBhcnNlSW50IiwidXRmOFdyaXRlIiwiYmxpdEJ1ZmZlciIsImFzY2lpV3JpdGUiLCJieXRlQXJyYXkiLCJjaGFyQ29kZUF0IiwiYXNjaWlUb0J5dGVzIiwibGF0aW4xV3JpdGUiLCJiYXNlNjRXcml0ZSIsInVjczJXcml0ZSIsInVuaXRzIiwiaGkiLCJsbyIsInV0ZjE2bGVUb0J5dGVzIiwiZnJvbUJ5dGVBcnJheSIsIk1hdGgiLCJtaW4iLCJyZXMiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJmaXJzdEJ5dGUiLCJjb2RlUG9pbnQiLCJieXRlc1BlclNlcXVlbmNlIiwiY29kZVBvaW50cyIsIk1BWF9BUkdVTUVOVFNfTEVOR1RIIiwiZGVjb2RlQ29kZVBvaW50c0FycmF5IiwiSU5TUEVDVF9NQVhfQllURVMiLCJmb28iLCJzdWJhcnJheSIsInR5cGVkQXJyYXlTdXBwb3J0IiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwieCIsImxpc3QiLCJwb3MiLCJzd2FwMTYiLCJzd2FwMzIiLCJzd2FwNjQiLCJlcXVhbHMiLCJpbnNwZWN0IiwibWF4IiwibWF0Y2giLCJ0aGlzU3RhcnQiLCJ0aGlzRW5kIiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiaW5jbHVkZXMiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJJTlZBTElEX0JBU0U2NF9SRSIsIkluZmluaXR5IiwibGVhZFN1cnJvZ2F0ZSIsInRvQnl0ZUFycmF5IiwidHJpbSIsInN0cmluZ3RyaW0iLCJiYXNlNjRjbGVhbiIsImFzc2VydCIsImJsIiwiYnVpbGREZWNvZGUiLCJidWlsZEVuY29kZSIsImVuY29kaW5nVHlwZXMiLCJkZWNvZGluZ1R5cGVzIiwiZW5jb2RlIiwiZm9yY2VGbG9hdDY0IiwiY29tcGF0aWJpbGl0eU1vZGUiLCJkaXNhYmxlVGltZXN0YW1wRW5jb2RpbmciLCJkZWNvZGUiLCJyZWdpc3RlciIsInJlZ2lzdGVyRW5jb2RlciIsImFwcGVuZCIsInJlZ2lzdGVyRGVjb2RlciIsImNoZWNrIiwiZW5jb2RlciIsImRlY29kZXIiLCJJbmNvbXBsZXRlQnVmZmVyRXJyb3IiLCJwbmEiLCJvYmplY3RLZXlzIiwiRHVwbGV4IiwidXRpbCIsImluaGVyaXRzIiwiUmVhZGFibGUiLCJXcml0YWJsZSIsInJlYWRhYmxlIiwiYWxsb3dIYWxmT3BlbiIsIm9uY2UiLCJvbmVuZCIsIl93cml0YWJsZVN0YXRlIiwiZW5kZWQiLCJuZXh0VGljayIsIm9uRW5kTlQiLCJoaWdoV2F0ZXJNYXJrIiwiX3JlYWRhYmxlU3RhdGUiLCJkZXN0cm95ZWQiLCJfZGVzdHJveSIsImNiIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwib2JqZWN0VG9TdHJpbmciLCJpc0Jvb2xlYW4iLCJpc051bGwiLCJpc051bGxPclVuZGVmaW5lZCIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzVW5kZWZpbmVkIiwiaXNSZWdFeHAiLCJyZSIsImlzT2JqZWN0IiwiaXNEYXRlIiwiaXNFcnJvciIsImlzRnVuY3Rpb24iLCJpc1ByaW1pdGl2ZSIsIkR1cGxleFN0cmVhbSIsIkJ1ZmZlckxpc3QiLCJfYnVmcyIsIl9jYWxsYmFjayIsInBpcGVyIiwiX29mZnNldCIsIl90IiwidG90IiwiX3JldmVyc2VPZmZzZXQiLCJibE9mZnNldCIsImJ1ZmZlcklkIiwiX2FwcGVuZEJ1ZmZlciIsIl93cml0ZSIsIl9yZWFkIiwiY29uc3VtZSIsImNodW5rIiwiZHN0U3RhcnQiLCJzcmNTdGFydCIsInNyY0VuZCIsImJ1Zm9mZiIsInNoYWxsb3dTbGljZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYnVmZmVycyIsInNoaWZ0IiwiZHVwbGljYXRlIiwiZGVzdHJveSIsInNlYXJjaCIsImJsSW5kZXgiLCJidWZmT2Zmc2V0IiwiYnVmZiIsIm5hdGl2ZVNlYXJjaFJlc3VsdCIsInJldk9mZnNldCIsIl9tYXRjaCIsInNlYXJjaE9mZnNldCIsImZuIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9ybWF0UmVnRXhwIiwiZm9ybWF0Iiwib2JqZWN0cyIsImRlcHJlY2F0ZSIsIm1zZyIsIm5vRGVwcmVjYXRpb24iLCJ3YXJuZWQiLCJ0aHJvd0RlcHJlY2F0aW9uIiwidHJhY2VEZXByZWNhdGlvbiIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsInJlY3Vyc2VUaW1lcyIsInByaW1pdGl2ZSIsInNpbXBsZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiaGFzaCIsImlkeCIsImFycmF5VG9IYXNoIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvcm1hdEVycm9yIiwiUmVnRXhwIiwiYmFzZSIsImJyYWNlcyIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJmb3JtYXRBcnJheSIsInByZXYiLCJjdXIiLCJudW1MaW5lc0VzdCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwiZGVzYyIsImxpbmUiLCJhciIsInBhZCIsImRlYnVnbG9nIiwiTk9ERV9ERUJVRyIsInRvVXBwZXJDYXNlIiwidGVzdCIsInBpZCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJpbnZlcnNlIiwid2hpdGUiLCJncmV5IiwiYmxhY2siLCJibHVlIiwiY3lhbiIsImdyZWVuIiwibWFnZW50YSIsInJlZCIsInllbGxvdyIsInNwZWNpYWwiLCJudW1iZXIiLCJib29sZWFuIiwibnVsbCIsImRhdGUiLCJyZWdleHAiLCJtb250aHMiLCJ0aW1lc3RhbXAiLCJ0aW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJnZXRNb250aCIsInByb3AiLCJvcmlnaW4iLCJhZGQiLCJrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wiLCJjYWxsYmFja2lmeU9uUmVqZWN0ZWQiLCJuZXdSZWFzb24iLCJwcm9taXNpZnkiLCJvcmlnaW5hbCIsInByb21pc2VSZXNvbHZlIiwicHJvbWlzZVJlamVjdCIsImdldFByb3RvdHlwZU9mIiwiZGVmaW5lUHJvcGVydGllcyIsImN1c3RvbSIsImNhbGxiYWNraWZ5IiwiY2FsbGJhY2tpZmllZCIsIm1heWJlQ2IiLCJyZWoiLCJTdHJlYW0iLCJUcmFuc2Zvcm0iLCJQYXNzVGhyb3VnaCIsIlJlYWRhYmxlU3RhdGUiLCJFdmVudEVtaXR0ZXIiLCJFRWxpc3RlbmVyQ291bnQiLCJlbWl0dGVyIiwiT3VyVWludDhBcnJheSIsImRlYnVnVXRpbCIsIlN0cmluZ0RlY29kZXIiLCJkZXN0cm95SW1wbCIsImtQcm94eUV2ZW50cyIsImlzRHVwbGV4Iiwib2JqZWN0TW9kZSIsInJlYWRhYmxlT2JqZWN0TW9kZSIsImh3bSIsInJlYWRhYmxlSHdtIiwicmVhZGFibGVIaWdoV2F0ZXJNYXJrIiwiZGVmYXVsdEh3bSIsInBpcGVzIiwicGlwZXNDb3VudCIsImZsb3dpbmciLCJlbmRFbWl0dGVkIiwicmVhZGluZyIsInN5bmMiLCJuZWVkUmVhZGFibGUiLCJlbWl0dGVkUmVhZGFibGUiLCJyZWFkYWJsZUxpc3RlbmluZyIsInJlc3VtZVNjaGVkdWxlZCIsImRlZmF1bHRFbmNvZGluZyIsImF3YWl0RHJhaW4iLCJyZWFkaW5nTW9yZSIsInJlYWRhYmxlQWRkQ2h1bmsiLCJhZGRUb0Zyb250Iiwic2tpcENodW5rQ2hlY2siLCJlciIsInN0YXRlIiwiZW1pdFJlYWRhYmxlIiwib25Fb2ZDaHVuayIsImNodW5rSW52YWxpZCIsIl91aW50OEFycmF5VG9CdWZmZXIiLCJhZGRDaHVuayIsIm1heWJlUmVhZE1vcmUiLCJuZWVkTW9yZURhdGEiLCJ1bnNoaWZ0IiwiX3VuZGVzdHJveSIsInVuZGVzdHJveSIsImlzUGF1c2VkIiwic2V0RW5jb2RpbmciLCJlbmMiLCJNQVhfSFdNIiwiaG93TXVjaFRvUmVhZCIsImhlYWQiLCJjb21wdXRlTmV3SGlnaFdhdGVyTWFyayIsImVtaXRSZWFkYWJsZV8iLCJmbG93IiwibWF5YmVSZWFkTW9yZV8iLCJuUmVhZGluZ05leHRUaWNrIiwicmVzdW1lXyIsImZyb21MaXN0IiwiY2xlYXIiLCJoYXNTdHJpbmdzIiwibmIiLCJ0YWlsIiwiY29weUZyb21CdWZmZXJTdHJpbmciLCJjb3B5RnJvbUJ1ZmZlciIsImZyb21MaXN0UGFydGlhbCIsImVuZFJlYWRhYmxlIiwiZW5kUmVhZGFibGVOVCIsInhzIiwibk9yaWciLCJkb1JlYWQiLCJwaXBlIiwiZGVzdCIsInBpcGVPcHRzIiwiZW5kRm4iLCJzdGRvdXQiLCJzdGRlcnIiLCJ1bnBpcGUiLCJvbnVucGlwZSIsInVucGlwZUluZm8iLCJoYXNVbnBpcGVkIiwib25maW5pc2giLCJvbmRyYWluIiwib25kYXRhIiwiY2xlYW5lZFVwIiwibmVlZERyYWluIiwicGlwZU9uRHJhaW4iLCJpbmNyZWFzZWRBd2FpdERyYWluIiwicGF1c2UiLCJfZXZlbnRzIiwicmVzdW1lIiwiZGVzdHMiLCJldiIsIndyYXAiLCJwYXVzZWQiLCJfZnJvbUxpc3QiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwicmVjZWl2ZXIiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiTnVtYmVySXNOYU4iLCJpbml0IiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCIkZ2V0TWF4TGlzdGVuZXJzIiwiX2FkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJuZXdMaXN0ZW5lciIsInciLCJjb3VudCIsIl9vbmNlV3JhcCIsImZpcmVkIiwid3JhcEZuIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiY29udGV4dCIsImhhbmRsZXIiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzcGxpY2VPbmUiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiZW1pdEVycm9yTlQiLCJyZWFkYWJsZURlc3Ryb3llZCIsIndyaXRhYmxlRGVzdHJveWVkIiwiZXJyb3JFbWl0dGVkIiwiZW5kaW5nIiwiZmluaXNoZWQiLCJzZXRJbW1lZGlhdGUiLCJDb3JrZWRSZXF1ZXN0IiwiZW50cnkiLCJmaW5pc2giLCJjb3JrUmVxIiwicGVuZGluZ2NiIiwiY29ya2VkUmVxdWVzdHNGcmVlIiwib25Db3JrZWRGaW5pc2giLCJhc3luY1dyaXRlIiwiV3JpdGFibGVTdGF0ZSIsImludGVybmFsVXRpbCIsInJlYWxIYXNJbnN0YW5jZSIsIm5vcCIsIndyaXRhYmxlT2JqZWN0TW9kZSIsIndyaXRhYmxlSHdtIiwid3JpdGFibGVIaWdoV2F0ZXJNYXJrIiwiZmluYWxDYWxsZWQiLCJub0RlY29kZSIsImRlY29kZVN0cmluZ3MiLCJ3cml0aW5nIiwiY29ya2VkIiwiYnVmZmVyUHJvY2Vzc2luZyIsIm9ud3JpdGUiLCJ3cml0ZWNiIiwid3JpdGVsZW4iLCJvbndyaXRlU3RhdGVVcGRhdGUiLCJmaW5pc2hNYXliZSIsIm9ud3JpdGVFcnJvciIsIm5lZWRGaW5pc2giLCJidWZmZXJlZFJlcXVlc3QiLCJjbGVhckJ1ZmZlciIsImFmdGVyV3JpdGUiLCJsYXN0QnVmZmVyZWRSZXF1ZXN0IiwicHJlZmluaXNoZWQiLCJidWZmZXJlZFJlcXVlc3RDb3VudCIsIndyaXRldiIsIl93cml0ZXYiLCJmaW5hbCIsIl9maW5hbCIsImRvV3JpdGUiLCJvbndyaXRlRHJhaW4iLCJob2xkZXIiLCJhbGxCdWZmZXJzIiwiaXNCdWYiLCJjYWxsRmluYWwiLCJuZWVkIiwicHJlZmluaXNoIiwiZ2V0QnVmZmVyIiwiY3VycmVudCIsImhhc0luc3RhbmNlIiwid3JpdGVBZnRlckVuZCIsInZhbGlkIiwidmFsaWRDaHVuayIsIm5ld0NodW5rIiwiZGVjb2RlQ2h1bmsiLCJsYXN0Iiwid3JpdGVPckJ1ZmZlciIsImNvcmsiLCJ1bmNvcmsiLCJzZXREZWZhdWx0RW5jb2RpbmciLCJlbmRXcml0YWJsZSIsIm5lbmMiLCJyZXRyaWVkIiwiX25vcm1hbGl6ZUVuY29kaW5nIiwibm9ybWFsaXplRW5jb2RpbmciLCJ0ZXh0IiwidXRmMTZUZXh0IiwidXRmMTZFbmQiLCJmaWxsTGFzdCIsInV0ZjhGaWxsTGFzdCIsImJhc2U2NFRleHQiLCJiYXNlNjRFbmQiLCJzaW1wbGVXcml0ZSIsInNpbXBsZUVuZCIsImxhc3ROZWVkIiwibGFzdFRvdGFsIiwibGFzdENoYXIiLCJ1dGY4Q2hlY2tCeXRlIiwiYnl0ZSIsInV0ZjhDaGVja0V4dHJhQnl0ZXMiLCJ0b3RhbCIsInV0ZjhDaGVja0luY29tcGxldGUiLCJhZnRlclRyYW5zZm9ybSIsInRzIiwiX3RyYW5zZm9ybVN0YXRlIiwidHJhbnNmb3JtaW5nIiwid3JpdGVjaHVuayIsInJzIiwibmVlZFRyYW5zZm9ybSIsIndyaXRlZW5jb2RpbmciLCJ0cmFuc2Zvcm0iLCJfdHJhbnNmb3JtIiwiZmx1c2giLCJfZmx1c2giLCJfdGhpczIiLCJlcnIyIiwicmVxdWVzdE1vZHVsZSIsIl9FcnJvcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9IdHRwQ2xpZW50X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfSUxvZ2dlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwiX1V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJjb29raWVKYXIiLCJqYXIiLCJkZWZhdWx0cyIsImh0dHBSZXF1ZXN0IiwicmVxdWVzdEJvZHkiLCJjdXJyZW50UmVxdWVzdCIsIlgtUmVxdWVzdGVkLVdpdGgiLCJzdGF0dXNNZXNzYWdlIiwiX1RleHRNZXNzYWdlRm9ybWF0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfVXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIm1lc3NhZ2VEYXRhIiwiYmluYXJ5RGF0YSIsInNlcGFyYXRvckluZGV4IiwicmVzcG9uc2VMZW5ndGgiLCJ0ZXh0RGF0YSIsIkh1YkNvbm5lY3Rpb25NYW5hZ2VyXzEiLCJTaWduYWxSIiwiYmxhem9yRXh0ZW5zaW9ucyIsImV4dGVuc2lvbk9iamVjdCIsIkh1YkNvbm5lY3Rpb25NYW5hZ2VyIiwiaW5pdGlhbGl6ZSIsInNpZ25hbFIiLCJzaWFuZ2xSTWVzc2FnZVBhY2siLCJbb2JqZWN0IE9iamVjdF0iLCJfaHViQ29ubmVjdGlvbnMiLCJNYXAiLCJfaGFuZGxlcyIsIkNyZWF0ZUNvbm5lY3Rpb24iLCJpbnZva2VNZXRob2QiLCJpbnZva2VNZXRob2RBc3luYyIsImNvbm5lY3Rpb25CdWlsZGVyIiwiTWVzc2FnZVBhY2tIdWJQcm90b2NvbCIsIlJlbW92ZUNvbm5lY3Rpb24iLCJTdGFydENvbm5lY3Rpb24iLCJHZXRDb25uZWN0aW9uIiwiU3RvcENvbm5lY3Rpb24iLCJJbnZva2VBc3luYyIsIkludm9rZVdpdGhSZXN1bHRBc3luYyIsIlJlcGxhY2VUeXBlZEFycmF5IiwiSW50OEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJPbiIsImhhbmRsZSIsInBheWxvYWRzIiwicGF5bG9hZCIsIk9mZiIsImhhbmRsZUlkIiwiT25DbG9zZSIsIm9uRXJyb3JDYWxsYmFjayIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJ0bXAiLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJwYXJ0cyIsImxlbjIiLCJlbmNvZGVDaHVuayIsImxvb2t1cCIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJhYnMiLCJMTjIiLCJvYmplY3RBc3NpZ24iLCJoYXNPd24iLCJwU2xpY2UiLCJmdW5jdGlvbnNIYXZlTmFtZXMiLCJwVG9TdHJpbmciLCJhcnJidWYiLCJEYXRhVmlldyIsIm9rIiwicmVnZXgiLCJnZXROYW1lIiwiZnVuYyIsInRydW5jYXRlIiwic29tZXRoaW5nIiwicmF3bmFtZSIsImZhaWwiLCJleHBlY3RlZCIsIm9wZXJhdG9yIiwic3RhY2tTdGFydEZ1bmN0aW9uIiwiQXNzZXJ0aW9uRXJyb3IiLCJfZGVlcEVxdWFsIiwic3RyaWN0IiwibWVtb3MiLCJnZXRUaW1lIiwic291cmNlIiwibXVsdGlsaW5lIiwibGFzdEluZGV4IiwiaWdub3JlQ2FzZSIsImFjdHVhbEluZGV4IiwiYWN0dWFsVmlzaXRlZE9iamVjdHMiLCJhSXNBcmdzIiwiaXNBcmd1bWVudHMiLCJiSXNBcmdzIiwia2EiLCJrYiIsInNvcnQiLCJvYmpFcXVpdiIsImV4cGVjdGVkRXhjZXB0aW9uIiwiaXNQcm90b3R5cGVPZiIsIl90aHJvd3MiLCJzaG91bGRUaHJvdyIsImJsb2NrIiwiX3RyeUJsb2NrIiwidXNlclByb3ZpZGVkTWVzc2FnZSIsImlzVW5leHBlY3RlZEV4Y2VwdGlvbiIsImdlbmVyYXRlZE1lc3NhZ2UiLCJnZXRNZXNzYWdlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzdGFjayIsImZuX25hbWUiLCJuZXh0X2xpbmUiLCJlcXVhbCIsIm5vdEVxdWFsIiwiZGVlcEVxdWFsIiwiZGVlcFN0cmljdEVxdWFsIiwibm90RGVlcEVxdWFsIiwibm90RGVlcFN0cmljdEVxdWFsIiwic3RyaWN0RXF1YWwiLCJub3RTdHJpY3RFcXVhbCIsInRocm93cyIsImRvZXNOb3RUaHJvdyIsImlmRXJyb3IiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsInRlc3QxIiwidGVzdDIiLCJ0ZXN0MyIsImxldHRlciIsInNob3VsZFVzZU5hdGl2ZSIsInN5bWJvbHMiLCJ0byIsIkNvbnN0cnVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwic2NvcGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwiY2xlYXJJbW1lZGlhdGUiLCJyZWdpc3RlckltbWVkaWF0ZSIsImh0bWwiLCJjaGFubmVsIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsIm5leHRIYW5kbGUiLCJ0YXNrc0J5SGFuZGxlIiwiY3VycmVudGx5UnVubmluZ0FUYXNrIiwiZG9jIiwiYXR0YWNoVG8iLCJydW5JZlByZXNlbnQiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzIiwib2xkT25NZXNzYWdlIiwiY2FuVXNlUG9zdE1lc3NhZ2UiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwicmFuZG9tIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwidGFzayIsImNvbmZpZyIsImxvY2FsU3RvcmFnZSIsIkJhc2UiLCJfbXNncGFjayIsIm1zZ3BhY2siLCJFbmNvZGVyIiwiX3dyYXAiLCJEZWNvZGVyIiwiX2NodW5rcyIsInRyeURlY29kZSIsImJ5dGVzQ29uc3VtZWQiLCJpc1ZhbGlkRGF0YVNpemUiLCJkYXRhTGVuZ3RoIiwiYnVmTGVuZ3RoIiwiaGVhZGVyTGVuZ3RoIiwiYnVpbGREZWNvZGVSZXN1bHQiLCJieXRlUG9zIiwiZmlyc3QiLCJnZXRTaXplIiwiaGFzTWluQnVmZmVyU2l6ZSIsIm5lZ2F0ZSIsImNhcnJ5IiwicmVhZEludDY0QkUiLCJkZWNvZGVBcnJheSIsImRlY29kZU1hcCIsImRlY29kZUZpeEV4dCIsImRlY29kZUV4dCIsInRvdGFsQnl0ZXNDb25zdW1lZCIsImRlY29kZVJlc3VsdCIsImtleVJlc3VsdCIsInZhbHVlUmVzdWx0IiwiaGVhZGVyU2l6ZSIsInRvRGVjb2RlIiwic2Vjb25kcyIsIm5hbm9zZWNvbmRzIiwidXBwZXIiLCJsb3dlciIsIm1pbGxpcyIsInJvdW5kIiwiZGVjb2RlVGltZXN0YW1wIiwiZW5jb2RlRmxvYXQiLCJ1c2VEb3VibGVQcmVjaXNpb24iLCJmcm91bmQiLCJhdm9pZFNsaWNlIiwiYWNjIiwiZHQiLCJlbmNvZGVkIiwibmFub3MiLCJ1cHBlck5hbm9zIiwidXBwZXJTZWNvbmRzIiwiZW5jb2RlRGF0ZSIsImVuY29kZUV4dCIsImVuY29kZU9iamVjdCIsImlzRmxvYXQiLCJjdXJyQnl0ZSIsIndyaXRlNjRCaXRVaW50Iiwid3JpdGU2NEJpdEludCIsIkJpbmFyeU1lc3NhZ2VGb3JtYXQiLCJsZW5CdWZmZXIiLCJzaXplUGFydCIsInVpbnQ4QXJyYXkiLCJudW1CaXRzVG9TaGlmdCIsIm51bUJ5dGVzIiwiYnl0ZVJlYWQiLCJTRVJJQUxJWkVEX1BJTkdfTUVTU0FHRSIsImVzbSIsIk1lc3NhZ2VQYWNrSHViUHJvdG9jb2xfTWVzc2FnZVBhY2tIdWJQcm90b2NvbCIsImVycm9yUmVzdWx0Iiwidm9pZFJlc3VsdCIsIm5vblZvaWRSZXN1bHQiLCJwYXJzZU1lc3NhZ2UiLCJ3cml0ZUludm9jYXRpb24iLCJ3cml0ZVN0cmVhbUludm9jYXRpb24iLCJ3cml0ZVN0cmVhbUl0ZW0iLCJ3cml0ZUNvbXBsZXRpb24iLCJ3cml0ZUNhbmNlbEludm9jYXRpb24iLCJwcm9wZXJ0aWVzIiwibXNncGFjazUiLCJtZXNzYWdlVHlwZSIsImNyZWF0ZUludm9jYXRpb25NZXNzYWdlIiwicmVhZEhlYWRlcnMiLCJjcmVhdGVQaW5nTWVzc2FnZSIsImNyZWF0ZUNsb3NlTWVzc2FnZSIsInJlc3VsdEtpbmQiLCJzdHJlYW1JbnZvY2F0aW9uTWVzc2FnZSIsInN0cmVhbUl0ZW1NZXNzYWdlIiwiY29tcGxldGlvbk1lc3NhZ2UiLCJjYW5jZWxJbnZvY2F0aW9uTWVzc2FnZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFB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WUFBQSxTQUFBSixHQUNBLElBQUFoMUMsRUFBQWcxQyxFQUFBLEdBQ0Esb0JBQUFoMUMsRUFDQSxVQUFBOUIsTUFBQSxvQkFFQSxPQUFBOEIsR0FFQTBsQyxFQTdOMEIsR0ViMUJodEMsRUFBQVUsRUFBQTJCLEVBQUEsNEJBQUErZCxJQUFBcGdCLEVBQUFVLEVBQUEyQixFQUFBLDJDQUFBdTVDLElBSU8sSUFBQXg3QixFQUFBIiwiZmlsZSI6ImJsYXpvci5leHRlbnNpb25zLnNpZ25hbHIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjkpO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAuTkVUIEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4vLyBUaGVzZSB2YWx1ZXMgYXJlIGRlc2lnbmVkIHRvIG1hdGNoIHRoZSBBU1AuTkVUIExvZyBMZXZlbHMgc2luY2UgdGhhdCdzIHRoZSBwYXR0ZXJuIHdlJ3JlIGVtdWxhdGluZyBoZXJlLlxyXG4vKiogSW5kaWNhdGVzIHRoZSBzZXZlcml0eSBvZiBhIGxvZyBtZXNzYWdlLlxyXG4gKlxyXG4gKiBMb2cgTGV2ZWxzIGFyZSBvcmRlcmVkIGluIGluY3JlYXNpbmcgc2V2ZXJpdHkuIFNvIGBEZWJ1Z2AgaXMgbW9yZSBzZXZlcmUgdGhhbiBgVHJhY2VgLCBldGMuXHJcbiAqL1xyXG5leHBvcnQgdmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciB2ZXJ5IGxvdyBzZXZlcml0eSBkaWFnbm9zdGljIG1lc3NhZ2VzLiAqL1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJUcmFjZVwiXSA9IDBdID0gXCJUcmFjZVwiO1xyXG4gICAgLyoqIExvZyBsZXZlbCBmb3IgbG93IHNldmVyaXR5IGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRlYnVnXCJdID0gMV0gPSBcIkRlYnVnXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBpbmZvcm1hdGlvbmFsIGRpYWdub3N0aWMgbWVzc2FnZXMuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkluZm9ybWF0aW9uXCJdID0gMl0gPSBcIkluZm9ybWF0aW9uXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBub24tZmF0YWwgcHJvYmxlbS4gKi9cclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV2FybmluZ1wiXSA9IDNdID0gXCJXYXJuaW5nXCI7XHJcbiAgICAvKiogTG9nIGxldmVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIHRoYXQgaW5kaWNhdGUgYSBmYWlsdXJlIGluIHRoZSBjdXJyZW50IG9wZXJhdGlvbi4gKi9cclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRXJyb3JcIl0gPSA0XSA9IFwiRXJyb3JcIjtcclxuICAgIC8qKiBMb2cgbGV2ZWwgZm9yIGRpYWdub3N0aWMgbWVzc2FnZXMgdGhhdCBpbmRpY2F0ZSBhIGZhaWx1cmUgdGhhdCB3aWxsIHRlcm1pbmF0ZSB0aGUgZW50aXJlIGFwcGxpY2F0aW9uLiAqL1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJDcml0aWNhbFwiXSA9IDVdID0gXCJDcml0aWNhbFwiO1xyXG4gICAgLyoqIFRoZSBoaWdoZXN0IHBvc3NpYmxlIGxvZyBsZXZlbC4gVXNlZCB3aGVuIGNvbmZpZ3VyaW5nIGxvZ2dpbmcgdG8gaW5kaWNhdGUgdGhhdCBubyBsb2cgbWVzc2FnZXMgc2hvdWxkIGJlIGVtaXR0ZWQuICovXHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIk5vbmVcIl0gPSA2XSA9IFwiTm9uZVwiO1xyXG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JTG9nZ2VyLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gXCIuL0lMb2dnZXJcIjtcclxuaW1wb3J0IHsgTnVsbExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlcnNcIjtcclxuLyoqIEBwcml2YXRlICovXHJcbnZhciBBcmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBcmcoKSB7XHJcbiAgICB9XHJcbiAgICBBcmcuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICh2YWwsIG5hbWUpIHtcclxuICAgICAgICBpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAnXCIgKyBuYW1lICsgXCInIGFyZ3VtZW50IGlzIHJlcXVpcmVkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQXJnLmlzSW4gPSBmdW5jdGlvbiAodmFsLCB2YWx1ZXMsIG5hbWUpIHtcclxuICAgICAgICAvLyBUeXBlU2NyaXB0IGVudW1zIGhhdmUga2V5cyBmb3IgKipib3RoKiogdGhlIG5hbWUgYW5kIHRoZSB2YWx1ZSBvZiBlYWNoIGVudW0gbWVtYmVyIG9uIHRoZSB0eXBlIGl0c2VsZi5cclxuICAgICAgICBpZiAoISh2YWwgaW4gdmFsdWVzKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFwiICsgbmFtZSArIFwiIHZhbHVlOiBcIiArIHZhbCArIFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFyZztcclxufSgpKTtcclxuZXhwb3J0IHsgQXJnIH07XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG52YXIgUGxhdGZvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybSgpIHtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybSwgXCJpc0Jyb3dzZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybSwgXCJpc1dlYldvcmtlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiAmJiBcImltcG9ydFNjcmlwdHNcIiBpbiBzZWxmO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLCBcImlzTm9kZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5pc0Jyb3dzZXIgJiYgIXRoaXMuaXNXZWJXb3JrZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gUGxhdGZvcm07XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFBsYXRmb3JtIH07XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YURldGFpbChkYXRhLCBpbmNsdWRlQ29udGVudCkge1xyXG4gICAgdmFyIGRldGFpbCA9IFwiXCI7XHJcbiAgICBpZiAoaXNBcnJheUJ1ZmZlcihkYXRhKSkge1xyXG4gICAgICAgIGRldGFpbCA9IFwiQmluYXJ5IGRhdGEgb2YgbGVuZ3RoIFwiICsgZGF0YS5ieXRlTGVuZ3RoO1xyXG4gICAgICAgIGlmIChpbmNsdWRlQ29udGVudCkge1xyXG4gICAgICAgICAgICBkZXRhaWwgKz0gXCIuIENvbnRlbnQ6ICdcIiArIGZvcm1hdEFycmF5QnVmZmVyKGRhdGEpICsgXCInXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBkZXRhaWwgPSBcIlN0cmluZyBkYXRhIG9mIGxlbmd0aCBcIiArIGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGlmIChpbmNsdWRlQ29udGVudCkge1xyXG4gICAgICAgICAgICBkZXRhaWwgKz0gXCIuIENvbnRlbnQ6ICdcIiArIGRhdGEgKyBcIidcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGV0YWlsO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0QXJyYXlCdWZmZXIoZGF0YSkge1xyXG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhKTtcclxuICAgIC8vIFVpbnQ4QXJyYXkubWFwIG9ubHkgc3VwcG9ydHMgcmV0dXJuaW5nIGFub3RoZXIgVWludDhBcnJheT9cclxuICAgIHZhciBzdHIgPSBcIlwiO1xyXG4gICAgdmlldy5mb3JFYWNoKGZ1bmN0aW9uIChudW0pIHtcclxuICAgICAgICB2YXIgcGFkID0gbnVtIDwgMTYgPyBcIjBcIiA6IFwiXCI7XHJcbiAgICAgICAgc3RyICs9IFwiMHhcIiArIHBhZCArIG51bS50b1N0cmluZygxNikgKyBcIiBcIjtcclxuICAgIH0pO1xyXG4gICAgLy8gVHJpbSBvZiB0cmFpbGluZyBzcGFjZS5cclxuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSAxKTtcclxufVxyXG4vLyBBbHNvIGluIHNpZ25hbHItcHJvdG9jb2wtbXNncGFjay9VdGlscy50c1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsICYmIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICh2YWwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxyXG4gICAgICAgICAgICAvLyBTb21ldGltZXMgd2UgZ2V0IGFuIEFycmF5QnVmZmVyIHRoYXQgZG9lc24ndCBzYXRpc2Z5IGluc3RhbmNlb2ZcclxuICAgICAgICAgICAgKHZhbC5jb25zdHJ1Y3RvciAmJiB2YWwuY29uc3RydWN0b3IubmFtZSA9PT0gXCJBcnJheUJ1ZmZlclwiKSk7XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShsb2dnZXIsIHRyYW5zcG9ydE5hbWUsIGh0dHBDbGllbnQsIHVybCwgYWNjZXNzVG9rZW5GYWN0b3J5LCBjb250ZW50LCBsb2dNZXNzYWdlQ29udGVudCkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYSwgaGVhZGVycywgdG9rZW4sIHJlc3BvbnNlVHlwZSwgcmVzcG9uc2U7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbkZhY3RvcnkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGFjY2Vzc1Rva2VuRmFjdG9yeSgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IChfYSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyB0b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFwiICsgdHJhbnNwb3J0TmFtZSArIFwiIHRyYW5zcG9ydCkgc2VuZGluZyBkYXRhLiBcIiArIGdldERhdGFEZXRhaWwoY29udGVudCwgbG9nTWVzc2FnZUNvbnRlbnQpICsgXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZSA9IGlzQXJyYXlCdWZmZXIoY29udGVudCkgPyBcImFycmF5YnVmZmVyXCIgOiBcInRleHRcIjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBodHRwQ2xpZW50LnBvc3QodXJsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogcmVzcG9uc2VUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoXCIgKyB0cmFuc3BvcnROYW1lICsgXCIgdHJhbnNwb3J0KSByZXF1ZXN0IGNvbXBsZXRlLiBSZXNwb25zZSBzdGF0dXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKGxvZ2dlcikge1xyXG4gICAgaWYgKGxvZ2dlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zb2xlTG9nZ2VyKExvZ0xldmVsLkluZm9ybWF0aW9uKTtcclxuICAgIH1cclxuICAgIGlmIChsb2dnZXIgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gTnVsbExvZ2dlci5pbnN0YW5jZTtcclxuICAgIH1cclxuICAgIGlmIChsb2dnZXIubG9nKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQ29uc29sZUxvZ2dlcihsb2dnZXIpO1xyXG59XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgb2JzZXJ2ZXIpIHtcclxuICAgICAgICB0aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcclxuICAgIH1cclxuICAgIFN1YmplY3RTdWJzY3JpcHRpb24ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zdWJqZWN0Lm9ic2VydmVycy5pbmRleE9mKHRoaXMub2JzZXJ2ZXIpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViamVjdC5vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3ViamVjdC5vYnNlcnZlcnMubGVuZ3RoID09PSAwICYmIHRoaXMuc3ViamVjdC5jYW5jZWxDYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLnN1YmplY3QuY2FuY2VsQ2FsbGJhY2soKS5jYXRjaChmdW5jdGlvbiAoXykgeyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpcHRpb247XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfTtcclxuLyoqIEBwcml2YXRlICovXHJcbnZhciBDb25zb2xlTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29uc29sZUxvZ2dlcihtaW5pbXVtTG9nTGV2ZWwpIHtcclxuICAgICAgICB0aGlzLm1pbmltdW1Mb2dMZXZlbCA9IG1pbmltdW1Mb2dMZXZlbDtcclxuICAgICAgICB0aGlzLm91dHB1dENvbnNvbGUgPSBjb25zb2xlO1xyXG4gICAgfVxyXG4gICAgQ29uc29sZUxvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGxvZ0xldmVsLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKGxvZ0xldmVsID49IHRoaXMubWluaW11bUxvZ0xldmVsKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobG9nTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nTGV2ZWwuQ3JpdGljYWw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0xldmVsLkVycm9yOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0Q29uc29sZS5lcnJvcihcIltcIiArIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArIFwiXSBcIiArIExvZ0xldmVsW2xvZ0xldmVsXSArIFwiOiBcIiArIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dMZXZlbC5XYXJuaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0Q29uc29sZS53YXJuKFwiW1wiICsgbmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgXCJdIFwiICsgTG9nTGV2ZWxbbG9nTGV2ZWxdICsgXCI6IFwiICsgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ0xldmVsLkluZm9ybWF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0Q29uc29sZS5pbmZvKFwiW1wiICsgbmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgXCJdIFwiICsgTG9nTGV2ZWxbbG9nTGV2ZWxdICsgXCI6IFwiICsgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZGVidWcgb25seSBnb2VzIHRvIGF0dGFjaGVkIGRlYnVnZ2VycyBpbiBOb2RlLCBzbyB3ZSB1c2UgY29uc29sZS5sb2cgZm9yIFRyYWNlIGFuZCBEZWJ1Z1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0Q29uc29sZS5sb2coXCJbXCIgKyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyBcIl0gXCIgKyBMb2dMZXZlbFtsb2dMZXZlbF0gKyBcIjogXCIgKyBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29uc29sZUxvZ2dlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQ29uc29sZUxvZ2dlciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1VdGlscy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBBYm9ydEVycm9yLCBIdHRwRXJyb3IsIFRpbWVvdXRFcnJvciB9IGZyb20gXCIuL0Vycm9yc1wiO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiLi9IdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG52YXIgWGhySHR0cENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhYaHJIdHRwQ2xpZW50LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gWGhySHR0cENsaWVudChsb2dnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGluaGVyaXREb2MgKi9cclxuICAgIFhockh0dHBDbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBhYm9ydCB3YXMgbm90IHNpZ25hbGVkIGJlZm9yZSBjYWxsaW5nIHNlbmRcclxuICAgICAgICBpZiAocmVxdWVzdC5hYm9ydFNpZ25hbCAmJiByZXF1ZXN0LmFib3J0U2lnbmFsLmFib3J0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBYm9ydEVycm9yKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlcXVlc3QubWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBtZXRob2QgZGVmaW5lZC5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlcXVlc3QudXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyB1cmwgZGVmaW5lZC5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlgtUmVxdWVzdGVkLVdpdGhcIiwgXCJYTUxIdHRwUmVxdWVzdFwiKTtcclxuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBzZXR0aW5nIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyIGZvciBSZWFjdCBOYXRpdmUgb24gQW5kcm9pZCBwbGF0Zm9ybS5cclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xyXG4gICAgICAgICAgICBpZiAoaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycylcclxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCBoZWFkZXJzW2hlYWRlcl0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVxdWVzdC5yZXNwb25zZVR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuYWJvcnRTaWduYWwpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuYWJvcnRTaWduYWwub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEFib3J0RXJyb3IoKSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gcmVxdWVzdC50aW1lb3V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5hYm9ydFNpZ25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuYWJvcnRTaWduYWwub25hYm9ydCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEh0dHBSZXNwb25zZSh4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLnJlc3BvbnNlIHx8IHhoci5yZXNwb25zZVRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgSHR0cEVycm9yKHhoci5zdGF0dXNUZXh0LCB4aHIuc3RhdHVzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBcIkVycm9yIGZyb20gSFRUUCByZXF1ZXN0LiBcIiArIHhoci5zdGF0dXMgKyBcIjogXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgSHR0cEVycm9yKHhoci5zdGF0dXNUZXh0LCB4aHIuc3RhdHVzKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIFwiVGltZW91dCBmcm9tIEhUVFAgcmVxdWVzdC5cIik7XHJcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IFRpbWVvdXRFcnJvcigpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQocmVxdWVzdC5jb250ZW50IHx8IFwiXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJIdHRwQ2xpZW50O1xyXG59KEh0dHBDbGllbnQpKTtcclxuZXhwb3J0IHsgWGhySHR0cENsaWVudCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1YaHJIdHRwQ2xpZW50LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLyoqIERlZmluZXMgdGhlIHR5cGUgb2YgYSBIdWIgTWVzc2FnZS4gKi9cclxuZXhwb3J0IHZhciBNZXNzYWdlVHlwZTtcclxuKGZ1bmN0aW9uIChNZXNzYWdlVHlwZSkge1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhbiBJbnZvY2F0aW9uIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSW52b2NhdGlvbk1lc3NhZ2V9IGludGVyZmFjZS4gKi9cclxuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiSW52b2NhdGlvblwiXSA9IDFdID0gXCJJbnZvY2F0aW9uXCI7XHJcbiAgICAvKiogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGEgU3RyZWFtSXRlbSBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlN0cmVhbUl0ZW1NZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlN0cmVhbUl0ZW1cIl0gPSAyXSA9IFwiU3RyZWFtSXRlbVwiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENvbXBsZXRpb24gbWVzc2FnZSBhbmQgaW1wbGVtZW50cyB0aGUge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5Db21wbGV0aW9uTWVzc2FnZX0gaW50ZXJmYWNlLiAqL1xyXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJDb21wbGV0aW9uXCJdID0gM10gPSBcIkNvbXBsZXRpb25cIjtcclxuICAgIC8qKiBJbmRpY2F0ZXMgdGhlIG1lc3NhZ2UgaXMgYSBTdHJlYW0gSW52b2NhdGlvbiBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlN0cmVhbUludm9jYXRpb25NZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlN0cmVhbUludm9jYXRpb25cIl0gPSA0XSA9IFwiU3RyZWFtSW52b2NhdGlvblwiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENhbmNlbCBJbnZvY2F0aW9uIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuQ2FuY2VsSW52b2NhdGlvbk1lc3NhZ2V9IGludGVyZmFjZS4gKi9cclxuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiQ2FuY2VsSW52b2NhdGlvblwiXSA9IDVdID0gXCJDYW5jZWxJbnZvY2F0aW9uXCI7XHJcbiAgICAvKiogSW5kaWNhdGVzIHRoZSBtZXNzYWdlIGlzIGEgUGluZyBtZXNzYWdlIGFuZCBpbXBsZW1lbnRzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLlBpbmdNZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlBpbmdcIl0gPSA2XSA9IFwiUGluZ1wiO1xyXG4gICAgLyoqIEluZGljYXRlcyB0aGUgbWVzc2FnZSBpcyBhIENsb3NlIG1lc3NhZ2UgYW5kIGltcGxlbWVudHMgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuQ2xvc2VNZXNzYWdlfSBpbnRlcmZhY2UuICovXHJcbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIkNsb3NlXCJdID0gN10gPSBcIkNsb3NlXCI7XHJcbn0pKE1lc3NhZ2VUeXBlIHx8IChNZXNzYWdlVHlwZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlIdWJQcm90b2NvbC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBBYm9ydEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tIFwiLi9IdHRwQ2xpZW50XCI7XHJcbmltcG9ydCB7IE5vZGVIdHRwQ2xpZW50IH0gZnJvbSBcIi4vTm9kZUh0dHBDbGllbnRcIjtcclxuaW1wb3J0IHsgWGhySHR0cENsaWVudCB9IGZyb20gXCIuL1hockh0dHBDbGllbnRcIjtcclxuLyoqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdHRwQ2xpZW50fS4gKi9cclxudmFyIERlZmF1bHRIdHRwQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKERlZmF1bHRIdHRwQ2xpZW50LCBfc3VwZXIpO1xyXG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuRGVmYXVsdEh0dHBDbGllbnR9LCB1c2luZyB0aGUgcHJvdmlkZWQge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5JTG9nZ2VyfSB0byBsb2cgbWVzc2FnZXMuICovXHJcbiAgICBmdW5jdGlvbiBEZWZhdWx0SHR0cENsaWVudChsb2dnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgX3RoaXMuaHR0cENsaWVudCA9IG5ldyBYaHJIdHRwQ2xpZW50KGxvZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpcy5odHRwQ2xpZW50ID0gbmV3IE5vZGVIdHRwQ2xpZW50KGxvZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xyXG4gICAgRGVmYXVsdEh0dHBDbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIC8vIENoZWNrIHRoYXQgYWJvcnQgd2FzIG5vdCBzaWduYWxlZCBiZWZvcmUgY2FsbGluZyBzZW5kXHJcbiAgICAgICAgaWYgKHJlcXVlc3QuYWJvcnRTaWduYWwgJiYgcmVxdWVzdC5hYm9ydFNpZ25hbC5hYm9ydGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQWJvcnRFcnJvcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXF1ZXN0Lm1ldGhvZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gbWV0aG9kIGRlZmluZWQuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXF1ZXN0LnVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gdXJsIGRlZmluZWQuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5zZW5kKHJlcXVlc3QpO1xyXG4gICAgfTtcclxuICAgIERlZmF1bHRIdHRwQ2xpZW50LnByb3RvdHlwZS5nZXRDb29raWVTdHJpbmcgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXRDb29raWVTdHJpbmcodXJsKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGVmYXVsdEh0dHBDbGllbnQ7XHJcbn0oSHR0cENsaWVudCkpO1xyXG5leHBvcnQgeyBEZWZhdWx0SHR0cENsaWVudCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0SHR0cENsaWVudC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsgSGFuZHNoYWtlUHJvdG9jb2wgfSBmcm9tIFwiLi9IYW5kc2hha2VQcm90b2NvbFwiO1xyXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gXCIuL0lIdWJQcm90b2NvbFwiO1xyXG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gXCIuL0lMb2dnZXJcIjtcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gXCIuL1N1YmplY3RcIjtcclxuaW1wb3J0IHsgQXJnIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxudmFyIERFRkFVTFRfVElNRU9VVF9JTl9NUyA9IDMwICogMTAwMDtcclxudmFyIERFRkFVTFRfUElOR19JTlRFUlZBTF9JTl9NUyA9IDE1ICogMTAwMDtcclxuLyoqIERlc2NyaWJlcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IHRvIHRoZSBzZXJ2ZXIuICovXHJcbmV4cG9ydCB2YXIgSHViQ29ubmVjdGlvblN0YXRlO1xyXG4oZnVuY3Rpb24gKEh1YkNvbm5lY3Rpb25TdGF0ZSkge1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBkaXNjb25uZWN0ZWQuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJEaXNjb25uZWN0ZWRcIl0gPSBcIkRpc2Nvbm5lY3RlZFwiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBjb25uZWN0aW5nLiAqL1xyXG4gICAgSHViQ29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGluZ1wiXSA9IFwiQ29ubmVjdGluZ1wiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBjb25uZWN0ZWQuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJDb25uZWN0ZWRcIl0gPSBcIkNvbm5lY3RlZFwiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyBkaXNjb25uZWN0aW5nLiAqL1xyXG4gICAgSHViQ29ubmVjdGlvblN0YXRlW1wiRGlzY29ubmVjdGluZ1wiXSA9IFwiRGlzY29ubmVjdGluZ1wiO1xyXG4gICAgLyoqIFRoZSBodWIgY29ubmVjdGlvbiBpcyByZWNvbm5lY3RpbmcuICovXHJcbiAgICBIdWJDb25uZWN0aW9uU3RhdGVbXCJSZWNvbm5lY3RpbmdcIl0gPSBcIlJlY29ubmVjdGluZ1wiO1xyXG59KShIdWJDb25uZWN0aW9uU3RhdGUgfHwgKEh1YkNvbm5lY3Rpb25TdGF0ZSA9IHt9KSk7XHJcbi8qKiBSZXByZXNlbnRzIGEgY29ubmVjdGlvbiB0byBhIFNpZ25hbFIgSHViLiAqL1xyXG52YXIgSHViQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEh1YkNvbm5lY3Rpb24oY29ubmVjdGlvbiwgbG9nZ2VyLCBwcm90b2NvbCwgcmVjb25uZWN0UG9saWN5KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChjb25uZWN0aW9uLCBcImNvbm5lY3Rpb25cIik7XHJcbiAgICAgICAgQXJnLmlzUmVxdWlyZWQobG9nZ2VyLCBcImxvZ2dlclwiKTtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChwcm90b2NvbCwgXCJwcm90b2NvbFwiKTtcclxuICAgICAgICB0aGlzLnNlcnZlclRpbWVvdXRJbk1pbGxpc2Vjb25kcyA9IERFRkFVTFRfVElNRU9VVF9JTl9NUztcclxuICAgICAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsSW5NaWxsaXNlY29uZHMgPSBERUZBVUxUX1BJTkdfSU5URVJWQUxfSU5fTVM7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IHByb3RvY29sO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RQb2xpY3kgPSByZWNvbm5lY3RQb2xpY3k7XHJcbiAgICAgICAgdGhpcy5oYW5kc2hha2VQcm90b2NvbCA9IG5ldyBIYW5kc2hha2VQcm90b2NvbCgpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5vbnJlY2VpdmUgPSBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gX3RoaXMucHJvY2Vzc0luY29taW5nRGF0YShkYXRhKTsgfTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24ub25jbG9zZSA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gX3RoaXMuY29ubmVjdGlvbkNsb3NlZChlcnJvcik7IH07XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcclxuICAgICAgICB0aGlzLm1ldGhvZHMgPSB7fTtcclxuICAgICAgICB0aGlzLmNsb3NlZENhbGxiYWNrcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0aW5nQ2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RlZENhbGxiYWNrcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaW52b2NhdGlvbklkID0gMDtcclxuICAgICAgICB0aGlzLnJlY2VpdmVkSGFuZHNoYWtlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9IEh1YkNvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FjaGVkUGluZ01lc3NhZ2UgPSB0aGlzLnByb3RvY29sLndyaXRlTWVzc2FnZSh7IHR5cGU6IE1lc3NhZ2VUeXBlLlBpbmcgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAvLyBVc2luZyBhIHB1YmxpYyBzdGF0aWMgZmFjdG9yeSBtZXRob2QgbWVhbnMgd2UgY2FuIGhhdmUgYSBwcml2YXRlIGNvbnN0cnVjdG9yIGFuZCBhbiBfaW50ZXJuYWxfXHJcbiAgICAvLyBjcmVhdGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgSHViQ29ubmVjdGlvbkJ1aWxkZXIuIEFuIFwiaW50ZXJuYWxcIiBjb25zdHJ1Y3RvciB3b3VsZCBqdXN0XHJcbiAgICAvLyBiZSBzdHJpcHBlZCBhd2F5IGFuZCB0aGUgJy5kLnRzJyBmaWxlIHdvdWxkIGhhdmUgbm8gY29uc3RydWN0b3IsIHdoaWNoIGlzIGludGVycHJldGVkIGFzIGFcclxuICAgIC8vIHB1YmxpYyBwYXJhbWV0ZXItbGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgIEh1YkNvbm5lY3Rpb24uY3JlYXRlID0gZnVuY3Rpb24gKGNvbm5lY3Rpb24sIGxvZ2dlciwgcHJvdG9jb2wsIHJlY29ubmVjdFBvbGljeSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSHViQ29ubmVjdGlvbihjb25uZWN0aW9uLCBsb2dnZXIsIHByb3RvY29sLCByZWNvbm5lY3RQb2xpY3kpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIdWJDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XHJcbiAgICAgICAgLyoqIEluZGljYXRlcyB0aGUgc3RhdGUgb2YgdGhlIHtAbGluayBIdWJDb25uZWN0aW9ufSB0byB0aGUgc2VydmVyLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSHViQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiY29ubmVjdGlvbklkXCIsIHtcclxuICAgICAgICAvKiogUmVwcmVzZW50cyB0aGUgY29ubmVjdGlvbiBpZCBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IG9uIHRoZSBzZXJ2ZXIuIFRoZSBjb25uZWN0aW9uIGlkIHdpbGwgYmUgbnVsbCB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGVpdGhlclxyXG4gICAgICAgICAqICBpbiB0aGUgZGlzY29ubmVjdGVkIHN0YXRlIG9yIGlmIHRoZSBuZWdvdGlhdGlvbiBzdGVwIHdhcyBza2lwcGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uID8gKHRoaXMuY29ubmVjdGlvbi5jb25uZWN0aW9uSWQgfHwgbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImJhc2VVcmxcIiwge1xyXG4gICAgICAgIC8qKiBJbmRpY2F0ZXMgdGhlIHVybCBvZiB0aGUge0BsaW5rIEh1YkNvbm5lY3Rpb259IHRvIHRoZSBzZXJ2ZXIuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uYmFzZVVybCB8fCBcIlwiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0cyBhIG5ldyB1cmwgZm9yIHRoZSBIdWJDb25uZWN0aW9uLiBOb3RlIHRoYXQgdGhlIHVybCBjYW4gb25seSBiZSBjaGFuZ2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgaW4gZWl0aGVyIHRoZSBEaXNjb25uZWN0ZWQgb3JcclxuICAgICAgICAgKiBSZWNvbm5lY3Rpbmcgc3RhdGVzLlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBjb25uZWN0IHRvLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgIT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQgJiYgdGhpcy5jb25uZWN0aW9uU3RhdGUgIT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5SZWNvbm5lY3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBIdWJDb25uZWN0aW9uIG11c3QgYmUgaW4gdGhlIERpc2Nvbm5lY3RlZCBvciBSZWNvbm5lY3Rpbmcgc3RhdGUgdG8gY2hhbmdlIHRoZSB1cmwuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdXJsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgSHViQ29ubmVjdGlvbiB1cmwgbXVzdCBiZSBhIHZhbGlkIHVybC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLmJhc2VVcmwgPSB1cmw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKiogU3RhcnRzIHRoZSBjb25uZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCwgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0UHJvbWlzZSA9IHRoaXMuc3RhcnRXaXRoU3RhdGVUcmFuc2l0aW9ucygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UHJvbWlzZTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydFdpdGhTdGF0ZVRyYW5zaXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVfMTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlICE9PSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHN0YXJ0IGEgSHViQ29ubmVjdGlvbiB0aGF0IGlzIG5vdCBpbiB0aGUgJ0Rpc2Nvbm5lY3RlZCcgc3RhdGUuXCIpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIlN0YXJ0aW5nIEh1YkNvbm5lY3Rpb24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnN0YXJ0SW50ZXJuYWwoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gSHViQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJIdWJDb25uZWN0aW9uIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiSHViQ29ubmVjdGlvbiBmYWlsZWQgdG8gc3RhcnQgc3VjY2Vzc2Z1bGx5IGJlY2F1c2Ugb2YgZXJyb3IgJ1wiICsgZV8xICsgXCInLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KGVfMSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydEludGVybmFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRzaGFrZVByb21pc2UsIGhhbmRzaGFrZVJlcXVlc3QsIGVfMjtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wRHVyaW5nU3RhcnRFcnJvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZEhhbmRzaGFrZVJlc3BvbnNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRzaGFrZVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kc2hha2VSZXNvbHZlciA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kc2hha2VSZWplY3RlciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY29ubmVjdGlvbi5zdGFydCh0aGlzLnByb3RvY29sLnRyYW5zZmVyRm9ybWF0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNSwgLCA3XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRzaGFrZVJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm90b2NvbDogdGhpcy5wcm90b2NvbC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5wcm90b2NvbC52ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU2VuZGluZyBoYW5kc2hha2UgcmVxdWVzdC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VuZE1lc3NhZ2UodGhpcy5oYW5kc2hha2VQcm90b2NvbC53cml0ZUhhbmRzaGFrZVJlcXVlc3QoaGFuZHNoYWtlUmVxdWVzdCkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIlVzaW5nIEh1YlByb3RvY29sICdcIiArIHRoaXMucHJvdG9jb2wubmFtZSArIFwiJy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmVuc2l2ZWx5IGNsZWFudXAgdGltZW91dCBpbiBjYXNlIHdlIHJlY2VpdmUgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlciBiZWZvcmUgd2UgZmluaXNoIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpbWVvdXRQZXJpb2QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEtlZXBBbGl2ZUludGVydmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGhhbmRzaGFrZVByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIGltcG9ydGFudCB0byBjaGVjayB0aGUgc3RvcER1cmluZ1N0YXJ0RXJyb3IgaW5zdGVhZCBvZiBqdXN0IHJlbHlpbmcgb24gdGhlIGhhbmRzaGFrZVByb21pc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVpbmcgcmVqZWN0ZWQgb24gY2xvc2UsIGJlY2F1c2UgdGhpcyBjb250aW51YXRpb24gY2FuIHJ1biBhZnRlciBib3RoIHRoZSBoYW5kc2hha2UgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcER1cmluZ1N0YXJ0RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgaW1wb3J0YW50IHRvIHRocm93IGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgcmVqZWN0ZWQgcHJvbWlzZSwgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIGFsbG93IGFueSBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNpdGlvbnMgdG8gb2NjdXIgYmV0d2VlbiBub3cgYW5kIHRoZSBjYWxsaW5nIGNvZGUgb2JzZXJ2aW5nIHRoZSBleGNlcHRpb25zLiBSZXR1cm5pbmcgYSByZWplY3RlZCBwcm9taXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIGNhdXNlIHRoZSBjYWxsaW5nIGNvbnRpbnVhdGlvbiB0byBnZXQgc2NoZWR1bGVkIHRvIHJ1biBsYXRlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuc3RvcER1cmluZ1N0YXJ0RXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJIdWIgaGFuZHNoYWtlIGZhaWxlZCB3aXRoIGVycm9yICdcIiArIGVfMiArIFwiJyBkdXJpbmcgc3RhcnQoKS4gU3RvcHBpbmcgSHViQ29ubmVjdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwUGluZ1RpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEh0dHBDb25uZWN0aW9uLnN0b3AoKSBzaG91bGQgbm90IGNvbXBsZXRlIHVudGlsIGFmdGVyIHRoZSBvbmNsb3NlIGNhbGxiYWNrIGlzIGludm9rZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB0cmFuc2l0aW9uIHRoZSBIdWJDb25uZWN0aW9uIHRvIHRoZSBkaXNjb25uZWN0ZWQgc3RhdGUgYmVmb3JlIEh0dHBDb25uZWN0aW9uLnN0b3AoKSBjb21wbGV0ZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY29ubmVjdGlvbi5zdG9wKGVfMildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSHR0cENvbm5lY3Rpb24uc3RvcCgpIHNob3VsZCBub3QgY29tcGxldGUgdW50aWwgYWZ0ZXIgdGhlIG9uY2xvc2UgY2FsbGJhY2sgaXMgaW52b2tlZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIHRyYW5zaXRpb24gdGhlIEh1YkNvbm5lY3Rpb24gdG8gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZSBiZWZvcmUgSHR0cENvbm5lY3Rpb24uc3RvcCgpIGNvbXBsZXRlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKiBTdG9wcyB0aGUgY29ubmVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY29ubmVjdGlvbiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgdGVybWluYXRlZCwgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0UHJvbWlzZSwgZV8zO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFByb21pc2UgPSB0aGlzLnN0YXJ0UHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wUHJvbWlzZSA9IHRoaXMuc3RvcEludGVybmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RvcFByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBd2FpdGluZyB1bmRlZmluZWQgY29udGludWVzIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN0YXJ0UHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBd2FpdGluZyB1bmRlZmluZWQgY29udGludWVzIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5zdG9wSW50ZXJuYWwgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNhbGwgdG8gSHViQ29ubmVjdGlvbi5zdG9wKFwiICsgZXJyb3IgKyBcIikgaWdub3JlZCBiZWNhdXNlIGl0IGlzIGFscmVhZHkgaW4gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlID09PSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiQ2FsbCB0byBIdHRwQ29ubmVjdGlvbi5zdG9wKFwiICsgZXJyb3IgKyBcIikgaWdub3JlZCBiZWNhdXNlIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHkgaW4gdGhlIGRpc2Nvbm5lY3Rpbmcgc3RhdGUuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9wUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGluZztcclxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU3RvcHBpbmcgSHViQ29ubmVjdGlvbi5cIik7XHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0RGVsYXlIYW5kbGUpIHtcclxuICAgICAgICAgICAgLy8gV2UncmUgaW4gYSByZWNvbm5lY3QgZGVsYXkgd2hpY2ggbWVhbnMgdGhlIHVuZGVybHlpbmcgY29ubmVjdGlvbiBpcyBjdXJyZW50bHkgYWxyZWFkeSBzdG9wcGVkLlxyXG4gICAgICAgICAgICAvLyBKdXN0IGNsZWFyIHRoZSBoYW5kbGUgdG8gc3RvcCB0aGUgcmVjb25uZWN0IGxvb3AgKHdoaWNoIG5vIG9uZSBpcyB3YWl0aW5nIG9uIHRoYW5rZnVsbHkpIGFuZFxyXG4gICAgICAgICAgICAvLyBmaXJlIHRoZSBvbmNsb3NlIGNhbGxiYWNrcy5cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gc3RvcHBlZCBkdXJpbmcgcmVjb25uZWN0IGRlbGF5LiBEb25lIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdERlbGF5SGFuZGxlKTtcclxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3REZWxheUhhbmRsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbGVhbnVwVGltZW91dCgpO1xyXG4gICAgICAgIHRoaXMuY2xlYW51cFBpbmdUaW1lcigpO1xyXG4gICAgICAgIHRoaXMuc3RvcER1cmluZ1N0YXJ0RXJyb3IgPSBlcnJvciB8fCBuZXcgRXJyb3IoXCJUaGUgY29ubmVjdGlvbiB3YXMgc3RvcHBlZCBiZWZvcmUgdGhlIGh1YiBoYW5kc2hha2UgY291bGQgY29tcGxldGUuXCIpO1xyXG4gICAgICAgIC8vIEh0dHBDb25uZWN0aW9uLnN0b3AoKSBzaG91bGQgbm90IGNvbXBsZXRlIHVudGlsIGFmdGVyIGVpdGhlciBIdHRwQ29ubmVjdGlvbi5zdGFydCgpIGZhaWxzXHJcbiAgICAgICAgLy8gb3IgdGhlIG9uY2xvc2UgY2FsbGJhY2sgaXMgaW52b2tlZC4gVGhlIG9uY2xvc2UgY2FsbGJhY2sgd2lsbCB0cmFuc2l0aW9uIHRoZSBIdWJDb25uZWN0aW9uXHJcbiAgICAgICAgLy8gdG8gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZSBpZiBuZWVkIGJlIGJlZm9yZSBIdHRwQ29ubmVjdGlvbi5zdG9wKCkgY29tcGxldGVzLlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc3RvcChlcnJvcik7XHJcbiAgICB9O1xyXG4gICAgLyoqIEludm9rZXMgYSBzdHJlYW1pbmcgaHViIG1ldGhvZCBvbiB0aGUgc2VydmVyIHVzaW5nIHRoZSBzcGVjaWZpZWQgbmFtZSBhbmQgYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlcGFyYW0gVCBUaGUgdHlwZSBvZiB0aGUgaXRlbXMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlci5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2ZXIgbWV0aG9kIHRvIGludm9rZS5cclxuICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MgVGhlIGFyZ3VtZW50cyB1c2VkIHRvIGludm9rZSB0aGUgc2VydmVyIG1ldGhvZC5cclxuICAgICAqIEByZXR1cm5zIHtJU3RyZWFtUmVzdWx0PFQ+fSBBbiBvYmplY3QgdGhhdCB5aWVsZHMgcmVzdWx0cyBmcm9tIHRoZSBzZXJ2ZXIgYXMgdGhleSBhcmUgcmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnN0cmVhbSA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVwbGFjZVN0cmVhbWluZ1BhcmFtcyhhcmdzKSwgc3RyZWFtcyA9IF9hWzBdLCBzdHJlYW1JZHMgPSBfYVsxXTtcclxuICAgICAgICB2YXIgaW52b2NhdGlvbkRlc2NyaXB0b3IgPSB0aGlzLmNyZWF0ZVN0cmVhbUludm9jYXRpb24obWV0aG9kTmFtZSwgYXJncywgc3RyZWFtSWRzKTtcclxuICAgICAgICB2YXIgcHJvbWlzZVF1ZXVlO1xyXG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuICAgICAgICBzdWJqZWN0LmNhbmNlbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FuY2VsSW52b2NhdGlvbiA9IF90aGlzLmNyZWF0ZUNhbmNlbEludm9jYXRpb24oaW52b2NhdGlvbkRlc2NyaXB0b3IuaW52b2NhdGlvbklkKTtcclxuICAgICAgICAgICAgZGVsZXRlIF90aGlzLmNhbGxiYWNrc1tpbnZvY2F0aW9uRGVzY3JpcHRvci5pbnZvY2F0aW9uSWRdO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZVF1ZXVlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNlbmRXaXRoUHJvdG9jb2woY2FuY2VsSW52b2NhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3NbaW52b2NhdGlvbkRlc2NyaXB0b3IuaW52b2NhdGlvbklkXSA9IGZ1bmN0aW9uIChpbnZvY2F0aW9uRXZlbnQsIGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW52b2NhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnZvY2F0aW9uRXZlbnQgd2lsbCBub3QgYmUgbnVsbCB3aGVuIGFuIGVycm9yIGlzIG5vdCBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAoaW52b2NhdGlvbkV2ZW50LnR5cGUgPT09IE1lc3NhZ2VUeXBlLkNvbXBsZXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW52b2NhdGlvbkV2ZW50LmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IobmV3IEVycm9yKGludm9jYXRpb25FdmVudC5lcnJvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dCgoaW52b2NhdGlvbkV2ZW50Lml0ZW0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvbWlzZVF1ZXVlID0gdGhpcy5zZW5kV2l0aFByb3RvY29sKGludm9jYXRpb25EZXNjcmlwdG9yKVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlKTtcclxuICAgICAgICAgICAgZGVsZXRlIF90aGlzLmNhbGxiYWNrc1tpbnZvY2F0aW9uRGVzY3JpcHRvci5pbnZvY2F0aW9uSWRdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGF1bmNoU3RyZWFtcyhzdHJlYW1zLCBwcm9taXNlUXVldWUpO1xyXG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLnJlc2V0S2VlcEFsaXZlSW50ZXJ2YWwoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmQobWVzc2FnZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5kcyBhIGpzIG9iamVjdCB0byB0aGUgc2VydmVyLlxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIGpzIG9iamVjdCB0byBzZXJpYWxpemUgYW5kIHNlbmQuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnNlbmRXaXRoUHJvdG9jb2wgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRNZXNzYWdlKHRoaXMucHJvdG9jb2wud3JpdGVNZXNzYWdlKG1lc3NhZ2UpKTtcclxuICAgIH07XHJcbiAgICAvKiogSW52b2tlcyBhIGh1YiBtZXRob2Qgb24gdGhlIHNlcnZlciB1c2luZyB0aGUgc3BlY2lmaWVkIG5hbWUgYW5kIGFyZ3VtZW50cy4gRG9lcyBub3Qgd2FpdCBmb3IgYSByZXNwb25zZSBmcm9tIHRoZSByZWNlaXZlci5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgUHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCByZXNvbHZlcyB3aGVuIHRoZSBjbGllbnQgaGFzIHNlbnQgdGhlIGludm9jYXRpb24gdG8gdGhlIHNlcnZlci4gVGhlIHNlcnZlciBtYXkgc3RpbGxcclxuICAgICAqIGJlIHByb2Nlc3NpbmcgdGhlIGludm9jYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZlciBtZXRob2QgdG8gaW52b2tlLlxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gYXJncyBUaGUgYXJndW1lbnRzIHVzZWQgdG8gaW52b2tlIHRoZSBzZXJ2ZXIgbWV0aG9kLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGludm9jYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNlbnQsIG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cclxuICAgICAqL1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlcGxhY2VTdHJlYW1pbmdQYXJhbXMoYXJncyksIHN0cmVhbXMgPSBfYVswXSwgc3RyZWFtSWRzID0gX2FbMV07XHJcbiAgICAgICAgdmFyIHNlbmRQcm9taXNlID0gdGhpcy5zZW5kV2l0aFByb3RvY29sKHRoaXMuY3JlYXRlSW52b2NhdGlvbihtZXRob2ROYW1lLCBhcmdzLCB0cnVlLCBzdHJlYW1JZHMpKTtcclxuICAgICAgICB0aGlzLmxhdW5jaFN0cmVhbXMoc3RyZWFtcywgc2VuZFByb21pc2UpO1xyXG4gICAgICAgIHJldHVybiBzZW5kUHJvbWlzZTtcclxuICAgIH07XHJcbiAgICAvKiogSW52b2tlcyBhIGh1YiBtZXRob2Qgb24gdGhlIHNlcnZlciB1c2luZyB0aGUgc3BlY2lmaWVkIG5hbWUgYW5kIGFyZ3VtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgUHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCByZXNvbHZlcyB3aGVuIHRoZSBzZXJ2ZXIgaW5kaWNhdGVzIGl0IGhhcyBmaW5pc2hlZCBpbnZva2luZyB0aGUgbWV0aG9kLiBXaGVuIHRoZSBwcm9taXNlXHJcbiAgICAgKiByZXNvbHZlcywgdGhlIHNlcnZlciBoYXMgZmluaXNoZWQgaW52b2tpbmcgdGhlIG1ldGhvZC4gSWYgdGhlIHNlcnZlciBtZXRob2QgcmV0dXJucyBhIHJlc3VsdCwgaXQgaXMgcHJvZHVjZWQgYXMgdGhlIHJlc3VsdCBvZlxyXG4gICAgICogcmVzb2x2aW5nIHRoZSBQcm9taXNlLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlcGFyYW0gVCBUaGUgZXhwZWN0ZWQgcmV0dXJuIHR5cGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmVyIG1ldGhvZCB0byBpbnZva2UuXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIFRoZSBhcmd1bWVudHMgdXNlZCB0byBpbnZva2UgdGhlIHNlcnZlciBtZXRob2QuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBzZXJ2ZXIgbWV0aG9kIChpZiBhbnkpLCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfYSA9IHRoaXMucmVwbGFjZVN0cmVhbWluZ1BhcmFtcyhhcmdzKSwgc3RyZWFtcyA9IF9hWzBdLCBzdHJlYW1JZHMgPSBfYVsxXTtcclxuICAgICAgICB2YXIgaW52b2NhdGlvbkRlc2NyaXB0b3IgPSB0aGlzLmNyZWF0ZUludm9jYXRpb24obWV0aG9kTmFtZSwgYXJncywgZmFsc2UsIHN0cmVhbUlkcyk7XHJcbiAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIC8vIGludm9jYXRpb25JZCB3aWxsIGFsd2F5cyBoYXZlIGEgdmFsdWUgZm9yIGEgbm9uLWJsb2NraW5nIGludm9jYXRpb25cclxuICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2tzW2ludm9jYXRpb25EZXNjcmlwdG9yLmludm9jYXRpb25JZF0gPSBmdW5jdGlvbiAoaW52b2NhdGlvbkV2ZW50LCBlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbnZvY2F0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZvY2F0aW9uRXZlbnQgd2lsbCBub3QgYmUgbnVsbCB3aGVuIGFuIGVycm9yIGlzIG5vdCBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludm9jYXRpb25FdmVudC50eXBlID09PSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZvY2F0aW9uRXZlbnQuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoaW52b2NhdGlvbkV2ZW50LmVycm9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGludm9jYXRpb25FdmVudC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiVW5leHBlY3RlZCBtZXNzYWdlIHR5cGU6IFwiICsgaW52b2NhdGlvbkV2ZW50LnR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlUXVldWUgPSBfdGhpcy5zZW5kV2l0aFByb3RvY29sKGludm9jYXRpb25EZXNjcmlwdG9yKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnZvY2F0aW9uSWQgd2lsbCBhbHdheXMgaGF2ZSBhIHZhbHVlIGZvciBhIG5vbi1ibG9ja2luZyBpbnZvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuY2FsbGJhY2tzW2ludm9jYXRpb25EZXNjcmlwdG9yLmludm9jYXRpb25JZF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5sYXVuY2hTdHJlYW1zKHN0cmVhbXMsIHByb21pc2VRdWV1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHA7XHJcbiAgICB9O1xyXG4gICAgLyoqIFJlZ2lzdGVycyBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgaHViIG1ldGhvZCB3aXRoIHRoZSBzcGVjaWZpZWQgbWV0aG9kIG5hbWUgaXMgaW52b2tlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgaHViIG1ldGhvZCB0byBkZWZpbmUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXdNZXRob2QgVGhlIGhhbmRsZXIgdGhhdCB3aWxsIGJlIHJhaXNlZCB3aGVuIHRoZSBodWIgbWV0aG9kIGlzIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUsIG5ld01ldGhvZCkge1xyXG4gICAgICAgIGlmICghbWV0aG9kTmFtZSB8fCAhbmV3TWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWV0aG9kTmFtZSA9IG1ldGhvZE5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoIXRoaXMubWV0aG9kc1ttZXRob2ROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLm1ldGhvZHNbbWV0aG9kTmFtZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJldmVudGluZyBhZGRpbmcgdGhlIHNhbWUgaGFuZGxlciBtdWx0aXBsZSB0aW1lcy5cclxuICAgICAgICBpZiAodGhpcy5tZXRob2RzW21ldGhvZE5hbWVdLmluZGV4T2YobmV3TWV0aG9kKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1ldGhvZHNbbWV0aG9kTmFtZV0ucHVzaChuZXdNZXRob2QpO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChtZXRob2ROYW1lLCBtZXRob2QpIHtcclxuICAgICAgICBpZiAoIW1ldGhvZE5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXRob2ROYW1lID0gbWV0aG9kTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMubWV0aG9kc1ttZXRob2ROYW1lXTtcclxuICAgICAgICBpZiAoIWhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlSWR4ID0gaGFuZGxlcnMuaW5kZXhPZihtZXRob2QpO1xyXG4gICAgICAgICAgICBpZiAocmVtb3ZlSWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKHJlbW92ZUlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubWV0aG9kc1ttZXRob2ROYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWV0aG9kc1ttZXRob2ROYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqIFJlZ2lzdGVycyBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQuIE9wdGlvbmFsbHkgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQgY29udGFpbmluZyB0aGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIGNvbm5lY3Rpb24gdG8gY2xvc2UgKGlmIGFueSkuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLm9uY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZWRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3RhcnRzIHJlY29ubmVjdGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgaGFuZGxlciB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHN0YXJ0cyByZWNvbm5lY3RpbmcuIE9wdGlvbmFsbHkgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQgY29udGFpbmluZyB0aGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIGNvbm5lY3Rpb24gdG8gc3RhcnQgcmVjb25uZWN0aW5nIChpZiBhbnkpLlxyXG4gICAgICovXHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5vbnJlY29ubmVjdGluZyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqIFJlZ2lzdGVycyBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBzdWNjZXNzZnVsbHkgcmVjb25uZWN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgaGFuZGxlciB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWxseSByZWNvbm5lY3RzLlxyXG4gICAgICovXHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5vbnJlY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0ZWRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnByb2Nlc3NJbmNvbWluZ0RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY2xlYW51cFRpbWVvdXQoKTtcclxuICAgICAgICBpZiAoIXRoaXMucmVjZWl2ZWRIYW5kc2hha2VSZXNwb25zZSkge1xyXG4gICAgICAgICAgICBkYXRhID0gdGhpcy5wcm9jZXNzSGFuZHNoYWtlUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRIYW5kc2hha2VSZXNwb25zZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERhdGEgbWF5IGhhdmUgYWxsIGJlZW4gcmVhZCB3aGVuIHByb2Nlc3NpbmcgaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgdGhlIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMucHJvdG9jb2wucGFyc2VNZXNzYWdlcyhkYXRhLCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbWVzc2FnZXNfMSA9IG1lc3NhZ2VzOyBfaSA8IG1lc3NhZ2VzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkludm9jYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlQ2xpZW50TWV0aG9kKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrc1ttZXNzYWdlLmludm9jYXRpb25JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gTWVzc2FnZVR5cGUuQ29tcGxldGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1ttZXNzYWdlLmludm9jYXRpb25JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlBpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgYWJvdXQgcGluZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5DbG9zZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkNsb3NlIG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBzZXJ2ZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIHdhaXQgb24gdGhlIHN0b3AgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BQcm9taXNlID0gdGhpcy5zdG9wSW50ZXJuYWwobWVzc2FnZS5lcnJvciA/IG5ldyBFcnJvcihcIlNlcnZlciByZXR1cm5lZCBhbiBlcnJvciBvbiBjbG9zZTogXCIgKyBtZXNzYWdlLmVycm9yKSA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBcIkludmFsaWQgbWVzc2FnZSB0eXBlOiBcIiArIG1lc3NhZ2UudHlwZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXNldFRpbWVvdXRQZXJpb2QoKTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5wcm9jZXNzSGFuZHNoYWtlUmVzcG9uc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgcmVzcG9uc2VNZXNzYWdlO1xyXG4gICAgICAgIHZhciByZW1haW5pbmdEYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIF9hID0gdGhpcy5oYW5kc2hha2VQcm90b2NvbC5wYXJzZUhhbmRzaGFrZVJlc3BvbnNlKGRhdGEpLCByZW1haW5pbmdEYXRhID0gX2FbMF0sIHJlc3BvbnNlTWVzc2FnZSA9IF9hWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiRXJyb3IgcGFyc2luZyBoYW5kc2hha2UgcmVzcG9uc2U6IFwiICsgZTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRzaGFrZVJlamVjdGVyKGVycm9yKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlNlcnZlciByZXR1cm5lZCBoYW5kc2hha2UgZXJyb3I6IFwiICsgcmVzcG9uc2VNZXNzYWdlLmVycm9yO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZHNoYWtlUmVqZWN0ZXIoZXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTZXJ2ZXIgaGFuZHNoYWtlIGNvbXBsZXRlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oYW5kc2hha2VSZXNvbHZlcigpO1xyXG4gICAgICAgIHJldHVybiByZW1haW5pbmdEYXRhO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnJlc2V0S2VlcEFsaXZlSW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNsZWFudXBQaW5nVGltZXIoKTtcclxuICAgICAgICB0aGlzLnBpbmdTZXJ2ZXJIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gSHViQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlbmRNZXNzYWdlKHRoaXMuY2FjaGVkUGluZ01lc3NhZ2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgZXJyb3IuIEl0IHNob3VsZCBiZSBzZWVuIGVsc2V3aGVyZSBpbiB0aGUgY2xpZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY29ubmVjdGlvbiBpcyBwcm9iYWJseSBpbiBhIGJhZCBvciBjbG9zZWQgc3RhdGUgbm93LCBjbGVhbnVwIHRoZSB0aW1lciBzbyBpdCBzdG9wcyB0cmlnZ2VyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cFBpbmdUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7IH0sIHRoaXMua2VlcEFsaXZlSW50ZXJ2YWxJbk1pbGxpc2Vjb25kcyk7XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUucmVzZXRUaW1lb3V0UGVyaW9kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uZmVhdHVyZXMgfHwgIXRoaXMuY29ubmVjdGlvbi5mZWF0dXJlcy5pbmhlcmVudEtlZXBBbGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHRpbWVvdXQgdGltZXJcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zZXJ2ZXJUaW1lb3V0KCk7IH0sIHRoaXMuc2VydmVyVGltZW91dEluTWlsbGlzZWNvbmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuc2VydmVyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUaGUgc2VydmVyIGhhc24ndCB0YWxrZWQgdG8gdXMgaW4gYSB3aGlsZS4gSXQgZG9lc24ndCBsaWtlIHVzIGFueW1vcmUgLi4uIDooXHJcbiAgICAgICAgLy8gVGVybWluYXRlIHRoZSBjb25uZWN0aW9uLCBidXQgd2UgZG9uJ3QgbmVlZCB0byB3YWl0IG9uIHRoZSBwcm9taXNlLiBUaGlzIGNvdWxkIHRyaWdnZXIgcmVjb25uZWN0aW5nLlxyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5zdG9wKG5ldyBFcnJvcihcIlNlcnZlciB0aW1lb3V0IGVsYXBzZWQgd2l0aG91dCByZWNlaXZpbmcgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlci5cIikpO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmludm9rZUNsaWVudE1ldGhvZCA9IGZ1bmN0aW9uIChpbnZvY2F0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG1ldGhvZHMgPSB0aGlzLm1ldGhvZHNbaW52b2NhdGlvbk1lc3NhZ2UudGFyZ2V0LnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgIGlmIChtZXRob2RzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0uYXBwbHkoX3RoaXMsIGludm9jYXRpb25NZXNzYWdlLmFyZ3VtZW50cyk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiQSBjYWxsYmFjayBmb3IgdGhlIG1ldGhvZCBcIiArIGludm9jYXRpb25NZXNzYWdlLnRhcmdldC50b0xvd2VyQ2FzZSgpICsgXCIgdGhyZXcgZXJyb3IgJ1wiICsgZSArIFwiJy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGludm9jYXRpb25NZXNzYWdlLmludm9jYXRpb25JZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIHYxLiBTbyB3ZSByZXR1cm4gYW4gZXJyb3IgdG8gYXZvaWQgYmxvY2tpbmcgdGhlIHNlcnZlciB3YWl0aW5nIGZvciB0aGUgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiU2VydmVyIHJlcXVlc3RlZCBhIHJlc3BvbnNlLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgdmVyc2lvbiBvZiB0aGUgY2xpZW50LlwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gd2FpdCBvbiB0aGUgc3RvcCBpdHNlbGYuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BQcm9taXNlID0gdGhpcy5zdG9wSW50ZXJuYWwobmV3IEVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIFwiTm8gY2xpZW50IG1ldGhvZCB3aXRoIHRoZSBuYW1lICdcIiArIGludm9jYXRpb25NZXNzYWdlLnRhcmdldCArIFwiJyBmb3VuZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmNvbm5lY3Rpb25DbG9zZWQgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiSHViQ29ubmVjdGlvbi5jb25uZWN0aW9uQ2xvc2VkKFwiICsgZXJyb3IgKyBcIikgY2FsbGVkIHdoaWxlIGluIHN0YXRlIFwiICsgdGhpcy5jb25uZWN0aW9uU3RhdGUgKyBcIi5cIik7XHJcbiAgICAgICAgLy8gVHJpZ2dlcmluZyB0aGlzLmhhbmRzaGFrZVJlamVjdGVyIGlzIGluc3VmZmljaWVudCBiZWNhdXNlIGl0IGNvdWxkIGFscmVhZHkgYmUgcmVzb2x2ZWQgd2l0aG91dCB0aGUgY29udGludWF0aW9uIGhhdmluZyBydW4geWV0LlxyXG4gICAgICAgIHRoaXMuc3RvcER1cmluZ1N0YXJ0RXJyb3IgPSB0aGlzLnN0b3BEdXJpbmdTdGFydEVycm9yIHx8IGVycm9yIHx8IG5ldyBFcnJvcihcIlRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBiZWZvcmUgdGhlIGh1YiBoYW5kc2hha2UgY291bGQgY29tcGxldGUuXCIpO1xyXG4gICAgICAgIC8vIElmIHRoZSBoYW5kc2hha2UgaXMgaW4gcHJvZ3Jlc3MsIHN0YXJ0IHdpbGwgYmUgd2FpdGluZyBmb3IgdGhlIGhhbmRzaGFrZSBwcm9taXNlLCBzbyB3ZSBjb21wbGV0ZSBpdC5cclxuICAgICAgICAvLyBJZiBpdCBoYXMgYWxyZWFkeSBjb21wbGV0ZWQsIHRoaXMgc2hvdWxkIGp1c3Qgbm9vcC5cclxuICAgICAgICBpZiAodGhpcy5oYW5kc2hha2VSZXNvbHZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRzaGFrZVJlc29sdmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FuY2VsQ2FsbGJhY2tzV2l0aEVycm9yKGVycm9yIHx8IG5ldyBFcnJvcihcIkludm9jYXRpb24gY2FuY2VsZWQgZHVlIHRvIHRoZSB1bmRlcmx5aW5nIGNvbm5lY3Rpb24gYmVpbmcgY2xvc2VkLlwiKSk7XHJcbiAgICAgICAgdGhpcy5jbGVhbnVwVGltZW91dCgpO1xyXG4gICAgICAgIHRoaXMuY2xlYW51cFBpbmdUaW1lcigpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gSHViQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUNsb3NlKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQgJiYgdGhpcy5yZWNvbm5lY3RQb2xpY3kpIHtcclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IEh1YkNvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUNsb3NlKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgbm9uZSBvZiB0aGUgYWJvdmUgaWYgY29uZGl0aW9ucyB3ZXJlIHRydWUgd2VyZSBjYWxsZWQgdGhlIEh1YkNvbm5lY3Rpb24gbXVzdCBiZSBpbiBlaXRoZXI6XHJcbiAgICAgICAgLy8gMS4gVGhlIENvbm5lY3Rpbmcgc3RhdGUgaW4gd2hpY2ggY2FzZSB0aGUgaGFuZHNoYWtlUmVzb2x2ZXIgd2lsbCBjb21wbGV0ZSBpdCBhbmQgc3RvcER1cmluZ1N0YXJ0RXJyb3Igd2lsbCBmYWlsIGl0LlxyXG4gICAgICAgIC8vIDIuIFRoZSBSZWNvbm5lY3Rpbmcgc3RhdGUgaW4gd2hpY2ggY2FzZSB0aGUgaGFuZHNoYWtlUmVzb2x2ZXIgd2lsbCBjb21wbGV0ZSBpdCBhbmQgc3RvcER1cmluZ1N0YXJ0RXJyb3Igd2lsbCBmYWlsIHRoZSBjdXJyZW50IHJlY29ubmVjdCBhdHRlbXB0XHJcbiAgICAgICAgLy8gICAgYW5kIHBvdGVudGlhbGx5IGNvbnRpbnVlIHRoZSByZWNvbm5lY3QoKSBsb29wLlxyXG4gICAgICAgIC8vIDMuIFRoZSBEaXNjb25uZWN0ZWQgc3RhdGUgaW4gd2hpY2ggY2FzZSB3ZSdyZSBhbHJlYWR5IGRvbmUuXHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuY29tcGxldGVDbG9zZSA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBIdWJDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmFwcGx5KF90aGlzLCBbZXJyb3JdKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgXCJBbiBvbmNsb3NlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIGVycm9yICdcIiArIGVycm9yICsgXCInIHRocmV3IGVycm9yICdcIiArIGUgKyBcIicuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLnJlY29ubmVjdCA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlY29ubmVjdFN0YXJ0VGltZSwgcHJldmlvdXNSZWNvbm5lY3RBdHRlbXB0cywgcmV0cnlFcnJvciwgbmV4dFJldHJ5RGVsYXksIGVfNDtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNSZWNvbm5lY3RBdHRlbXB0cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5RXJyb3IgPSBlcnJvciAhPT0gdW5kZWZpbmVkID8gZXJyb3IgOiBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHJlY29ubmVjdCBkdWUgdG8gYSB1bmtub3duIGVycm9yLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJldHJ5RGVsYXkgPSB0aGlzLmdldE5leHRSZXRyeURlbGF5KHByZXZpb3VzUmVjb25uZWN0QXR0ZW1wdHMrKywgMCwgcmV0cnlFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UmV0cnlEZWxheSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gbm90IHJlY29ubmVjdGluZyBiZWNhdXNlIHRoZSBJUmV0cnlQb2xpY3kgcmV0dXJuZWQgbnVsbCBvbiB0aGUgZmlyc3QgcmVjb25uZWN0IGF0dGVtcHQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUNsb3NlKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9IEh1YkNvbm5lY3Rpb25TdGF0ZS5SZWNvbm5lY3Rpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkNvbm5lY3Rpb24gcmVjb25uZWN0aW5nIGJlY2F1c2Ugb2YgZXJyb3IgJ1wiICsgZXJyb3IgKyBcIicuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkNvbm5lY3Rpb24gcmVjb25uZWN0aW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbnJlY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGluZ0NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmFwcGx5KF90aGlzLCBbZXJyb3JdKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgXCJBbiBvbnJlY29ubmVjdGluZyBjYWxsYmFjayBjYWxsZWQgd2l0aCBlcnJvciAnXCIgKyBlcnJvciArIFwiJyB0aHJldyBlcnJvciAnXCIgKyBlICsgXCInLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgYW4gb25yZWNvbm5lY3RpbmcgY2FsbGJhY2sgY2FsbGVkIGNvbm5lY3Rpb24uc3RvcCgpLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlICE9PSBIdWJDb25uZWN0aW9uU3RhdGUuUmVjb25uZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gbGVmdCB0aGUgcmVjb25uZWN0aW5nIHN0YXRlIGluIG9ucmVjb25uZWN0aW5nIGNhbGxiYWNrLiBEb25lIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG5leHRSZXRyeURlbGF5ICE9PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgXCJSZWNvbm5lY3QgYXR0ZW1wdCBudW1iZXIgXCIgKyBwcmV2aW91c1JlY29ubmVjdEF0dGVtcHRzICsgXCIgd2lsbCBzdGFydCBpbiBcIiArIG5leHRSZXRyeURlbGF5ICsgXCIgbXMuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdERlbGF5SGFuZGxlID0gc2V0VGltZW91dChyZXNvbHZlLCBuZXh0UmV0cnlEZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0RGVsYXlIYW5kbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSAhPT0gSHViQ29ubmVjdGlvblN0YXRlLlJlY29ubmVjdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNvbm5lY3Rpb24gbGVmdCB0aGUgcmVjb25uZWN0aW5nIHN0YXRlIGR1cmluZyByZWNvbm5lY3QgZGVsYXkuIERvbmUgcmVjb25uZWN0aW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzMsIDUsICwgNl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnN0YXJ0SW50ZXJuYWwoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gSHViQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIkh1YkNvbm5lY3Rpb24gcmVjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25yZWNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdGVkQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuYXBwbHkoX3RoaXMsIFtfdGhpcy5jb25uZWN0aW9uLmNvbm5lY3Rpb25JZF0pOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBcIkFuIG9ucmVjb25uZWN0ZWQgY2FsbGJhY2sgY2FsbGVkIHdpdGggY29ubmVjdGlvbklkICdcIiArIHRoaXMuY29ubmVjdGlvbi5jb25uZWN0aW9uSWQgKyBcIjsgdGhyZXcgZXJyb3IgJ1wiICsgZSArIFwiJy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV80ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiUmVjb25uZWN0IGF0dGVtcHQgZmFpbGVkIGJlY2F1c2Ugb2YgZXJyb3IgJ1wiICsgZV80ICsgXCInLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlICE9PSBIdWJDb25uZWN0aW9uU3RhdGUuUmVjb25uZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiQ29ubmVjdGlvbiBsZWZ0IHRoZSByZWNvbm5lY3Rpbmcgc3RhdGUgZHVyaW5nIHJlY29ubmVjdCBhdHRlbXB0LiBEb25lIHJlY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlFcnJvciA9IGVfNCBpbnN0YW5jZW9mIEVycm9yID8gZV80IDogbmV3IEVycm9yKGVfNC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFJldHJ5RGVsYXkgPSB0aGlzLmdldE5leHRSZXRyeURlbGF5KHByZXZpb3VzUmVjb25uZWN0QXR0ZW1wdHMrKywgRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSwgcmV0cnlFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiUmVjb25uZWN0IHJldHJpZXMgaGF2ZSBiZWVuIGV4aGF1c3RlZCBhZnRlciBcIiArIChEYXRlLm5vdygpIC0gcmVjb25uZWN0U3RhcnRUaW1lKSArIFwiIG1zIGFuZCBcIiArIHByZXZpb3VzUmVjb25uZWN0QXR0ZW1wdHMgKyBcIiBmYWlsZWQgYXR0ZW1wdHMuIENvbm5lY3Rpb24gZGlzY29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmdldE5leHRSZXRyeURlbGF5ID0gZnVuY3Rpb24gKHByZXZpb3VzUmV0cnlDb3VudCwgZWxhcHNlZE1pbGxpc2Vjb25kcywgcmV0cnlSZWFzb24pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWNvbm5lY3RQb2xpY3kubmV4dFJldHJ5RGVsYXlJbk1pbGxpc2Vjb25kcyh7XHJcbiAgICAgICAgICAgICAgICBlbGFwc2VkTWlsbGlzZWNvbmRzOiBlbGFwc2VkTWlsbGlzZWNvbmRzLFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNSZXRyeUNvdW50OiBwcmV2aW91c1JldHJ5Q291bnQsXHJcbiAgICAgICAgICAgICAgICByZXRyeVJlYXNvbjogcmV0cnlSZWFzb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiSVJldHJ5UG9saWN5Lm5leHRSZXRyeURlbGF5SW5NaWxsaXNlY29uZHMoXCIgKyBwcmV2aW91c1JldHJ5Q291bnQgKyBcIiwgXCIgKyBlbGFwc2VkTWlsbGlzZWNvbmRzICsgXCIpIHRocmV3IGVycm9yICdcIiArIGUgKyBcIicuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuY2FuY2VsQ2FsbGJhY2tzV2l0aEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge307XHJcbiAgICAgICAgT2JqZWN0LmtleXMoY2FsbGJhY2tzKVxyXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc1trZXldO1xyXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xlYW51cFBpbmdUaW1lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5waW5nU2VydmVySGFuZGxlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdTZXJ2ZXJIYW5kbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5jbGVhbnVwVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lb3V0SGFuZGxlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRIYW5kbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVJbnZvY2F0aW9uID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUsIGFyZ3MsIG5vbmJsb2NraW5nLCBzdHJlYW1JZHMpIHtcclxuICAgICAgICBpZiAobm9uYmxvY2tpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogYXJncyxcclxuICAgICAgICAgICAgICAgIHN0cmVhbUlkczogc3RyZWFtSWRzLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuSW52b2NhdGlvbixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpbnZvY2F0aW9uSWQgPSB0aGlzLmludm9jYXRpb25JZDtcclxuICAgICAgICAgICAgdGhpcy5pbnZvY2F0aW9uSWQrKztcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogYXJncyxcclxuICAgICAgICAgICAgICAgIGludm9jYXRpb25JZDogaW52b2NhdGlvbklkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBzdHJlYW1JZHM6IHN0cmVhbUlkcyxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogbWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkludm9jYXRpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmxhdW5jaFN0cmVhbXMgPSBmdW5jdGlvbiAoc3RyZWFtcywgcHJvbWlzZVF1ZXVlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoc3RyZWFtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTeW5jaHJvbml6ZSBzdHJlYW0gZGF0YSBzbyB0aGV5IGFycml2ZSBpbi1vcmRlciBvbiB0aGUgc2VydmVyXHJcbiAgICAgICAgaWYgKCFwcm9taXNlUXVldWUpIHtcclxuICAgICAgICAgICAgcHJvbWlzZVF1ZXVlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHN0cmVhbUlkKSB7XHJcbiAgICAgICAgICAgIHN0cmVhbXNbc3RyZWFtSWRdLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VRdWV1ZSA9IHByb21pc2VRdWV1ZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNlbmRXaXRoUHJvdG9jb2woX3RoaXMuY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2Uoc3RyZWFtSWQpKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnIgJiYgZXJyLnRvU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBlcnIudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVua25vd24gZXJyb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVF1ZXVlID0gcHJvbWlzZVF1ZXVlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2VuZFdpdGhQcm90b2NvbChfdGhpcy5jcmVhdGVDb21wbGV0aW9uTWVzc2FnZShzdHJlYW1JZCwgbWVzc2FnZSkpOyB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VRdWV1ZSA9IHByb21pc2VRdWV1ZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNlbmRXaXRoUHJvdG9jb2woX3RoaXMuY3JlYXRlU3RyZWFtSXRlbU1lc3NhZ2Uoc3RyZWFtSWQsIGl0ZW0pKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFdlIHdhbnQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBrZXlzLCBzaW5jZSB0aGUga2V5cyBhcmUgdGhlIHN0cmVhbSBpZHNcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cclxuICAgICAgICBmb3IgKHZhciBzdHJlYW1JZCBpbiBzdHJlYW1zKSB7XHJcbiAgICAgICAgICAgIF9sb29wXzEoc3RyZWFtSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5yZXBsYWNlU3RyZWFtaW5nUGFyYW1zID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgc3RyZWFtcyA9IFtdO1xyXG4gICAgICAgIHZhciBzdHJlYW1JZHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3VtZW50ID0gYXJnc1tpXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNPYnNlcnZhYmxlKGFyZ3VtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmVhbUlkID0gdGhpcy5pbnZvY2F0aW9uSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludm9jYXRpb25JZCsrO1xyXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHN0cmVhbSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICAgICAgICBzdHJlYW1zW3N0cmVhbUlkXSA9IGFyZ3VtZW50O1xyXG4gICAgICAgICAgICAgICAgc3RyZWFtSWRzLnB1c2goc3RyZWFtSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgc3RyZWFtIGZyb20gYXJnc1xyXG4gICAgICAgICAgICAgICAgYXJncy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtzdHJlYW1zLCBzdHJlYW1JZHNdO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmlzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICAvLyBUaGlzIGFsbG93cyBvdGhlciBzdHJlYW0gaW1wbGVtZW50YXRpb25zIHRvIGp1c3Qgd29yayAobGlrZSByeGpzKVxyXG4gICAgICAgIHJldHVybiBhcmcgJiYgYXJnLnN1YnNjcmliZSAmJiB0eXBlb2YgYXJnLnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZVN0cmVhbUludm9jYXRpb24gPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgYXJncywgc3RyZWFtSWRzKSB7XHJcbiAgICAgICAgdmFyIGludm9jYXRpb25JZCA9IHRoaXMuaW52b2NhdGlvbklkO1xyXG4gICAgICAgIHRoaXMuaW52b2NhdGlvbklkKys7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXJndW1lbnRzOiBhcmdzLFxyXG4gICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IGludm9jYXRpb25JZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzdHJlYW1JZHM6IHN0cmVhbUlkcyxcclxuICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2ROYW1lLFxyXG4gICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5TdHJlYW1JbnZvY2F0aW9uLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQ2FuY2VsSW52b2NhdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGludm9jYXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkNhbmNlbEludm9jYXRpb24sXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVTdHJlYW1JdGVtTWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgaXRlbSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGludm9jYXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXHJcbiAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW0sXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBIdWJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVDb21wbGV0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgZXJyb3IsIHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICAgICAgaW52b2NhdGlvbklkOiBpZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkNvbXBsZXRpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGludm9jYXRpb25JZDogaWQsXHJcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0LFxyXG4gICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5Db21wbGV0aW9uLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1YkNvbm5lY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEh1YkNvbm5lY3Rpb24gfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHViQ29ubmVjdGlvbi5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vKiogU3RyZWFtIGltcGxlbWVudGF0aW9uIHRvIHN0cmVhbSBpdGVtcyB0byB0aGUgc2VydmVyLiAqL1xyXG52YXIgU3ViamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN1YmplY3QoKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICAgIH1cclxuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLm9ic2VydmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5vYnNlcnZlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgaWYgKG9ic2VydmVyLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLm9ic2VydmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIuY29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3ViamVjdC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIG9ic2VydmVyKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3ViamVjdDtcclxufSgpKTtcclxuZXhwb3J0IHsgU3ViamVjdCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLy8gVGhpcyB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBiaXQgZmxhZyBpbiB0aGUgZnV0dXJlLCBzbyB3ZSBrZWVwIGl0IHVzaW5nIHBvd2VyLW9mLXR3byB2YWx1ZXMuXHJcbi8qKiBTcGVjaWZpZXMgYSBzcGVjaWZpYyBIVFRQIHRyYW5zcG9ydCB0eXBlLiAqL1xyXG5leHBvcnQgdmFyIEh0dHBUcmFuc3BvcnRUeXBlO1xyXG4oZnVuY3Rpb24gKEh0dHBUcmFuc3BvcnRUeXBlKSB7XHJcbiAgICAvKiogU3BlY2lmaWVzIG5vIHRyYW5zcG9ydCBwcmVmZXJlbmNlLiAqL1xyXG4gICAgSHR0cFRyYW5zcG9ydFR5cGVbSHR0cFRyYW5zcG9ydFR5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIC8qKiBTcGVjaWZpZXMgdGhlIFdlYlNvY2tldHMgdHJhbnNwb3J0LiAqL1xyXG4gICAgSHR0cFRyYW5zcG9ydFR5cGVbSHR0cFRyYW5zcG9ydFR5cGVbXCJXZWJTb2NrZXRzXCJdID0gMV0gPSBcIldlYlNvY2tldHNcIjtcclxuICAgIC8qKiBTcGVjaWZpZXMgdGhlIFNlcnZlci1TZW50IEV2ZW50cyB0cmFuc3BvcnQuICovXHJcbiAgICBIdHRwVHJhbnNwb3J0VHlwZVtIdHRwVHJhbnNwb3J0VHlwZVtcIlNlcnZlclNlbnRFdmVudHNcIl0gPSAyXSA9IFwiU2VydmVyU2VudEV2ZW50c1wiO1xyXG4gICAgLyoqIFNwZWNpZmllcyB0aGUgTG9uZyBQb2xsaW5nIHRyYW5zcG9ydC4gKi9cclxuICAgIEh0dHBUcmFuc3BvcnRUeXBlW0h0dHBUcmFuc3BvcnRUeXBlW1wiTG9uZ1BvbGxpbmdcIl0gPSA0XSA9IFwiTG9uZ1BvbGxpbmdcIjtcclxufSkoSHR0cFRyYW5zcG9ydFR5cGUgfHwgKEh0dHBUcmFuc3BvcnRUeXBlID0ge30pKTtcclxuLyoqIFNwZWNpZmllcyB0aGUgdHJhbnNmZXIgZm9ybWF0IGZvciBhIGNvbm5lY3Rpb24uICovXHJcbmV4cG9ydCB2YXIgVHJhbnNmZXJGb3JtYXQ7XHJcbihmdW5jdGlvbiAoVHJhbnNmZXJGb3JtYXQpIHtcclxuICAgIC8qKiBTcGVjaWZpZXMgdGhhdCBvbmx5IHRleHQgZGF0YSB3aWxsIGJlIHRyYW5zbWl0dGVkIG92ZXIgdGhlIGNvbm5lY3Rpb24uICovXHJcbiAgICBUcmFuc2ZlckZvcm1hdFtUcmFuc2ZlckZvcm1hdFtcIlRleHRcIl0gPSAxXSA9IFwiVGV4dFwiO1xyXG4gICAgLyoqIFNwZWNpZmllcyB0aGF0IGJpbmFyeSBkYXRhIHdpbGwgYmUgdHJhbnNtaXR0ZWQgb3ZlciB0aGUgY29ubmVjdGlvbi4gKi9cclxuICAgIFRyYW5zZmVyRm9ybWF0W1RyYW5zZmVyRm9ybWF0W1wiQmluYXJ5XCJdID0gMl0gPSBcIkJpbmFyeVwiO1xyXG59KShUcmFuc2ZlckZvcm1hdCB8fCAoVHJhbnNmZXJGb3JtYXQgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JVHJhbnNwb3J0LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLy8gMCwgMiwgMTAsIDMwIHNlY29uZCBkZWxheXMgYmVmb3JlIHJlY29ubmVjdCBhdHRlbXB0cy5cclxudmFyIERFRkFVTFRfUkVUUllfREVMQVlTX0lOX01JTExJU0VDT05EUyA9IFswLCAyMDAwLCAxMDAwMCwgMzAwMDAsIG51bGxdO1xyXG4vKiogQHByaXZhdGUgKi9cclxudmFyIERlZmF1bHRSZWNvbm5lY3RQb2xpY3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEZWZhdWx0UmVjb25uZWN0UG9saWN5KHJldHJ5RGVsYXlzKSB7XHJcbiAgICAgICAgdGhpcy5yZXRyeURlbGF5cyA9IHJldHJ5RGVsYXlzICE9PSB1bmRlZmluZWQgPyByZXRyeURlbGF5cy5jb25jYXQoW251bGxdKSA6IERFRkFVTFRfUkVUUllfREVMQVlTX0lOX01JTExJU0VDT05EUztcclxuICAgIH1cclxuICAgIERlZmF1bHRSZWNvbm5lY3RQb2xpY3kucHJvdG90eXBlLm5leHRSZXRyeURlbGF5SW5NaWxsaXNlY29uZHMgPSBmdW5jdGlvbiAocmV0cnlDb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlEZWxheXNbcmV0cnlDb250ZXh0LnByZXZpb3VzUmV0cnlDb3VudF07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlZmF1bHRSZWNvbm5lY3RQb2xpY3k7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IERlZmF1bHRSZWNvbm5lY3RQb2xpY3kgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdFJlY29ubmVjdFBvbGljeS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbi8vIFJvdWdoIHBvbHlmaWxsIG9mIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydENvbnRyb2xsZXJcclxuLy8gV2UgZG9uJ3QgYWN0dWFsbHkgZXZlciB1c2UgdGhlIEFQSSBiZWluZyBwb2x5ZmlsbGVkLCB3ZSBhbHdheXMgdXNlIHRoZSBwb2x5ZmlsbCBiZWNhdXNlXHJcbi8vIGl0J3MgYSB2ZXJ5IG5ldyBBUEkgcmlnaHQgbm93LlxyXG4vLyBOb3QgZXhwb3J0ZWQgZnJvbSBpbmRleC5cclxuLyoqIEBwcml2YXRlICovXHJcbnZhciBBYm9ydENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBYm9ydENvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdGhpcy5pc0Fib3J0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9uYWJvcnQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgQWJvcnRDb250cm9sbGVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBYm9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub25hYm9ydCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbmFib3J0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFib3J0Q29udHJvbGxlci5wcm90b3R5cGUsIFwic2lnbmFsXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJvcnRDb250cm9sbGVyLnByb3RvdHlwZSwgXCJhYm9ydGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNBYm9ydGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEFib3J0Q29udHJvbGxlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQWJvcnRDb250cm9sbGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFib3J0Q29udHJvbGxlci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsgQWJvcnRDb250cm9sbGVyIH0gZnJvbSBcIi4vQWJvcnRDb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEh0dHBFcnJvciwgVGltZW91dEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIi4vSUxvZ2dlclwiO1xyXG5pbXBvcnQgeyBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgQXJnLCBnZXREYXRhRGV0YWlsLCBzZW5kTWVzc2FnZSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8vIE5vdCBleHBvcnRlZCBmcm9tICdpbmRleCcsIHRoaXMgdHlwZSBpcyBpbnRlcm5hbC5cclxuLyoqIEBwcml2YXRlICovXHJcbnZhciBMb25nUG9sbGluZ1RyYW5zcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIExvbmdQb2xsaW5nVHJhbnNwb3J0KGh0dHBDbGllbnQsIGFjY2Vzc1Rva2VuRmFjdG9yeSwgbG9nZ2VyLCBsb2dNZXNzYWdlQ29udGVudCkge1xyXG4gICAgICAgIHRoaXMuaHR0cENsaWVudCA9IGh0dHBDbGllbnQ7XHJcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnkgPSBhY2Nlc3NUb2tlbkZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5wb2xsQWJvcnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlQ29udGVudCA9IGxvZ01lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25yZWNlaXZlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmdQb2xsaW5nVHJhbnNwb3J0LnByb3RvdHlwZSwgXCJwb2xsQWJvcnRlZFwiLCB7XHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlcm5hbCB0eXBlLCBub3QgZXhwb3J0ZWQgZnJvbSAnaW5kZXgnIHNvIHRoaXMgaXMgcmVhbGx5IGp1c3QgaW50ZXJuYWwuXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvbGxBYm9ydC5hYm9ydGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgTG9uZ1BvbGxpbmdUcmFuc3BvcnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAodXJsLCB0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBvbGxPcHRpb25zLCB0b2tlbiwgcG9sbFVybCwgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFyZy5pc1JlcXVpcmVkKHVybCwgXCJ1cmxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFyZy5pc1JlcXVpcmVkKHRyYW5zZmVyRm9ybWF0LCBcInRyYW5zZmVyRm9ybWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcmcuaXNJbih0cmFuc2ZlckZvcm1hdCwgVHJhbnNmZXJGb3JtYXQsIFwidHJhbnNmZXJGb3JtYXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgQ29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IGJpbmFyeSBmb3JtYXQgb24gTm9kZSBhbmQgQnJvd3NlcnMgdGhhdCBzdXBwb3J0IGJpbmFyeSBjb250ZW50IChpbmRpY2F0ZWQgYnkgdGhlIHByZXNlbmNlIG9mIHJlc3BvbnNlVHlwZSBwcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZmVyRm9ybWF0ID09PSBUcmFuc2ZlckZvcm1hdC5CaW5hcnkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG5ldyBYTUxIdHRwUmVxdWVzdCgpLnJlc3BvbnNlVHlwZSAhPT0gXCJzdHJpbmdcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpbmFyeSBwcm90b2NvbHMgb3ZlciBYbWxIdHRwUmVxdWVzdCBub3QgaW1wbGVtZW50aW5nIGFkdmFuY2VkIGZlYXR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsOiB0aGlzLnBvbGxBYm9ydC5zaWduYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZmVyRm9ybWF0ID09PSBUcmFuc2ZlckZvcm1hdC5CaW5hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbGxPcHRpb25zLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldEFjY2Vzc1Rva2VuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhZGVyVG9rZW4ocG9sbE9wdGlvbnMsIHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9sbFVybCA9IHVybCArIFwiJl89XCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgcG9sbGluZzogXCIgKyBwb2xsVXJsICsgXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHBDbGllbnQuZ2V0KHBvbGxVcmwsIHBvbGxPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIFVuZXhwZWN0ZWQgcmVzcG9uc2UgY29kZTogXCIgKyByZXNwb25zZS5zdGF0dXNDb2RlICsgXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBydW5uaW5nIGFzIGZhbHNlIHNvIHRoYXQgdGhlIHBvbGwgaW1tZWRpYXRlbHkgZW5kcyBhbmQgcnVucyB0aGUgY2xvc2UgbG9naWNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VFcnJvciA9IG5ldyBIdHRwRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCB8fCBcIlwiLCByZXNwb25zZS5zdGF0dXNDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmluZyA9IHRoaXMucG9sbCh0aGlzLnVybCwgcG9sbE9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExvbmdQb2xsaW5nVHJhbnNwb3J0LnByb3RvdHlwZS5nZXRBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMb25nUG9sbGluZ1RyYW5zcG9ydC5wcm90b3R5cGUudXBkYXRlSGVhZGVyVG9rZW4gPSBmdW5jdGlvbiAocmVxdWVzdCwgdG9rZW4pIHtcclxuICAgICAgICBpZiAoIXJlcXVlc3QuaGVhZGVycykge1xyXG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zdHJpbmctbGl0ZXJhbFxyXG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyB0b2tlbjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc3RyaW5nLWxpdGVyYWxcclxuICAgICAgICBpZiAocmVxdWVzdC5oZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSkge1xyXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc3RyaW5nLWxpdGVyYWxcclxuICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExvbmdQb2xsaW5nVHJhbnNwb3J0LnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gKHVybCwgcG9sbE9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiwgcG9sbFVybCwgcmVzcG9uc2UsIGVfMTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAsIDgsIDldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldEFjY2Vzc1Rva2VuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhZGVyVG9rZW4ocG9sbE9wdGlvbnMsIHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFszLCA1LCAsIDZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9sbFVybCA9IHVybCArIFwiJl89XCIgKyBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgcG9sbGluZzogXCIgKyBwb2xsVXJsICsgXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHBDbGllbnQuZ2V0KHBvbGxVcmwsIHBvbGxPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIFBvbGwgdGVybWluYXRlZCBieSBzZXJ2ZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgVW5leHBlY3RlZCByZXNwb25zZSBjb2RlOiBcIiArIHJlc3BvbnNlLnN0YXR1c0NvZGUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHN0YXR1cyBjb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRXJyb3IgPSBuZXcgSHR0cEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgXCJcIiwgcmVzcG9uc2Uuc3RhdHVzQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBkYXRhIHJlY2VpdmVkLiBcIiArIGdldERhdGFEZXRhaWwocmVzcG9uc2UuY29udGVudCwgdGhpcy5sb2dNZXNzYWdlQ29udGVudCkgKyBcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25yZWNlaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25yZWNlaXZlKHJlc3BvbnNlLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW5vdGhlciB3YXkgdGltZW91dCBtYW5pZmVzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgUG9sbCB0aW1lZCBvdXQsIHJlaXNzdWluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgYnV0IGRpc3JlZ2FyZCBlcnJvcnMgdGhhdCBvY2N1ciBhZnRlciBzdG9wcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIFBvbGwgZXJyb3JlZCBhZnRlciBzaHV0ZG93bjogXCIgKyBlXzEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8xIGluc3RhbmNlb2YgVGltZW91dEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHRpbWVvdXRzIGFuZCByZWlzc3VlIHRoZSBwb2xsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBQb2xsIHRpbWVkIG91dCwgcmVpc3N1aW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBjb25uZWN0aW9uIHdpdGggdGhlIGVycm9yIGFzIHRoZSByZXN1bHQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUVycm9yID0gZV8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBQb2xsaW5nIGNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugd2lsbCByZWFjaCBoZXJlIHdpdGggcG9sbEFib3J0ZWQ9PWZhbHNlIHdoZW4gdGhlIHNlcnZlciByZXR1cm5lZCBhIHJlc3BvbnNlIGNhdXNpbmcgdGhlIHRyYW5zcG9ydCB0byBzdG9wLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwb2xsQWJvcnRlZD09dHJ1ZSB0aGVuIGNsaWVudCBpbml0aWF0ZWQgdGhlIHN0b3AgYW5kIHRoZSBzdG9wIG1ldGhvZCB3aWxsIHJhaXNlIHRoZSBjbG9zZSBldmVudCBhZnRlciBERUxFVEUgaXMgc2VudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBvbGxBYm9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhaXNlT25DbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExvbmdQb2xsaW5nVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCBzZW5kIHVudGlsIHRoZSB0cmFuc3BvcnQgaXMgY29ubmVjdGVkXCIpKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc2VuZE1lc3NhZ2UodGhpcy5sb2dnZXIsIFwiTG9uZ1BvbGxpbmdcIiwgdGhpcy5odHRwQ2xpZW50LCB0aGlzLnVybCwgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnksIGRhdGEsIHRoaXMubG9nTWVzc2FnZUNvbnRlbnQpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTG9uZ1BvbGxpbmdUcmFuc3BvcnQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGVsZXRlT3B0aW9ucywgdG9rZW47XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBTdG9wcGluZyBwb2xsaW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGVsbCByZWNlaXZpbmcgbG9vcCB0byBzdG9wLCBhYm9ydCBhbnkgY3VycmVudCByZXF1ZXN0LCBhbmQgdGhlbiB3YWl0IGZvciBpdCB0byBmaW5pc2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9sbEFib3J0LmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgLCA1LCA2XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVjZWl2aW5nXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCBERUxFVEUgdG8gY2xlYW4gdXAgbG9uZyBwb2xsaW5nIG9uIHRoZSBzZXJ2ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIHNlbmRpbmcgREVMRVRFIHJlcXVlc3QgdG8gXCIgKyB0aGlzLnVybCArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldEFjY2Vzc1Rva2VuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhZGVyVG9rZW4oZGVsZXRlT3B0aW9ucywgdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHBDbGllbnQuZGVsZXRlKHRoaXMudXJsLCBkZWxldGVPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoTG9uZ1BvbGxpbmcgdHJhbnNwb3J0KSBERUxFVEUgcmVxdWVzdCBzZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKExvbmdQb2xsaW5nIHRyYW5zcG9ydCkgU3RvcCBmaW5pc2hlZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhaXNlIGNsb3NlIGV2ZW50IGhlcmUgaW5zdGVhZCBvZiBpbiBwb2xsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0IG5lZWRzIHRvIGhhcHBlbiBhZnRlciB0aGUgREVMRVRFIHJlcXVlc3QgaXMgc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJhaXNlT25DbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMb25nUG9sbGluZ1RyYW5zcG9ydC5wcm90b3R5cGUucmFpc2VPbkNsb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9uY2xvc2UpIHtcclxuICAgICAgICAgICAgdmFyIGxvZ01lc3NhZ2UgPSBcIihMb25nUG9sbGluZyB0cmFuc3BvcnQpIEZpcmluZyBvbmNsb3NlIGV2ZW50LlwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dNZXNzYWdlICs9IFwiIEVycm9yOiBcIiArIHRoaXMuY2xvc2VFcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIGxvZ01lc3NhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLm9uY2xvc2UodGhpcy5jbG9zZUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExvbmdQb2xsaW5nVHJhbnNwb3J0O1xyXG59KCkpO1xyXG5leHBvcnQgeyBMb25nUG9sbGluZ1RyYW5zcG9ydCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb25nUG9sbGluZ1RyYW5zcG9ydC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IFRyYW5zZmVyRm9ybWF0IH0gZnJvbSBcIi4vSVRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBcmcsIGdldERhdGFEZXRhaWwsIFBsYXRmb3JtLCBzZW5kTWVzc2FnZSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG52YXIgU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQoaHR0cENsaWVudCwgYWNjZXNzVG9rZW5GYWN0b3J5LCBsb2dnZXIsIGxvZ01lc3NhZ2VDb250ZW50LCBldmVudFNvdXJjZUNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5odHRwQ2xpZW50ID0gaHR0cENsaWVudDtcclxuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSA9IGFjY2Vzc1Rva2VuRmFjdG9yeTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2VDb250ZW50ID0gbG9nTWVzc2FnZUNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5ldmVudFNvdXJjZUNvbnN0cnVjdG9yID0gZXZlbnRTb3VyY2VDb25zdHJ1Y3RvcjtcclxuICAgICAgICB0aGlzLm9ucmVjZWl2ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbmNsb3NlID0gbnVsbDtcclxuICAgIH1cclxuICAgIFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAodXJsLCB0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcmcuaXNSZXF1aXJlZCh1cmwsIFwidXJsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcmcuaXNSZXF1aXJlZCh0cmFuc2ZlckZvcm1hdCwgXCJ0cmFuc2ZlckZvcm1hdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXJnLmlzSW4odHJhbnNmZXJGb3JtYXQsIFRyYW5zZmVyRm9ybWF0LCBcInRyYW5zZmVyRm9ybWF0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFNTRSB0cmFuc3BvcnQpIENvbm5lY3RpbmcuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdXJsIGJlZm9yZSBhY2Nlc3NUb2tlbkZhY3RvcnkgYmVjYXVzZSB0aGlzLnVybCBpcyBvbmx5IGZvciBzZW5kIGFuZCB3ZSBzZXQgdGhlIGF1dGggaGVhZGVyIGluc3RlYWQgb2YgdGhlIHF1ZXJ5IHN0cmluZyBmb3Igc2VuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYWNjZXNzVG9rZW5GYWN0b3J5KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPCAwID8gXCI/XCIgOiBcIiZcIikgKyAoXCJhY2Nlc3NfdG9rZW49XCIgKyBlbmNvZGVVUklDb21wb25lbnQodG9rZW4pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZmVyRm9ybWF0ICE9PSBUcmFuc2ZlckZvcm1hdC5UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlRoZSBTZXJ2ZXItU2VudCBFdmVudHMgdHJhbnNwb3J0IG9ubHkgc3VwcG9ydHMgdGhlICdUZXh0JyB0cmFuc2ZlciBmb3JtYXRcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5pc0Jyb3dzZXIgfHwgUGxhdGZvcm0uaXNXZWJXb3JrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZSA9IG5ldyBfdGhpcy5ldmVudFNvdXJjZUNvbnN0cnVjdG9yKHVybCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24tYnJvd3NlciBwYXNzZXMgY29va2llcyB2aWEgdGhlIGRpY3Rpb25hcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29va2llcyA9IF90aGlzLmh0dHBDbGllbnQuZ2V0Q29va2llU3RyaW5nKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2UgPSBuZXcgX3RoaXMuZXZlbnRTb3VyY2VDb25zdHJ1Y3Rvcih1cmwsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7IENvb2tpZTogY29va2llcyB9IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25yZWNlaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFNTRSB0cmFuc3BvcnQpIGRhdGEgcmVjZWl2ZWQuIFwiICsgZ2V0RGF0YURldGFpbChlLmRhdGEsIF90aGlzLmxvZ01lc3NhZ2VDb250ZW50KSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbnJlY2VpdmUoZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZS5kYXRhIHx8IFwiRXJyb3Igb2NjdXJyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5JbmZvcm1hdGlvbiwgXCJTU0UgY29ubmVjdGVkIHRvIFwiICsgX3RoaXMudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRTb3VyY2UgPSBldmVudFNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnRTb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHNlbmQgdW50aWwgdGhlIHRyYW5zcG9ydCBpcyBjb25uZWN0ZWRcIikpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBzZW5kTWVzc2FnZSh0aGlzLmxvZ2dlciwgXCJTU0VcIiwgdGhpcy5odHRwQ2xpZW50LCB0aGlzLnVybCwgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnksIGRhdGEsIHRoaXMubG9nTWVzc2FnZUNvbnRlbnQpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfTtcclxuICAgIFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudFNvdXJjZSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50U291cmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRTb3VyY2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9uY2xvc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jbG9zZShlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydDtcclxufSgpKTtcclxuZXhwb3J0IHsgU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gXCIuL0lMb2dnZXJcIjtcclxuaW1wb3J0IHsgVHJhbnNmZXJGb3JtYXQgfSBmcm9tIFwiLi9JVHJhbnNwb3J0XCI7XHJcbmltcG9ydCB7IEFyZywgZ2V0RGF0YURldGFpbCwgUGxhdGZvcm0gfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vKiogQHByaXZhdGUgKi9cclxudmFyIFdlYlNvY2tldFRyYW5zcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFdlYlNvY2tldFRyYW5zcG9ydChodHRwQ2xpZW50LCBhY2Nlc3NUb2tlbkZhY3RvcnksIGxvZ2dlciwgbG9nTWVzc2FnZUNvbnRlbnQsIHdlYlNvY2tldENvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnkgPSBhY2Nlc3NUb2tlbkZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlQ29udGVudCA9IGxvZ01lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IgPSB3ZWJTb2NrZXRDb25zdHJ1Y3RvcjtcclxuICAgICAgICB0aGlzLmh0dHBDbGllbnQgPSBodHRwQ2xpZW50O1xyXG4gICAgICAgIHRoaXMub25yZWNlaXZlID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9uY2xvc2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgV2ViU29ja2V0VHJhbnNwb3J0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHVybCwgdHJhbnNmZXJGb3JtYXQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbjtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXJnLmlzUmVxdWlyZWQodXJsLCBcInVybFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXJnLmlzUmVxdWlyZWQodHJhbnNmZXJGb3JtYXQsIFwidHJhbnNmZXJGb3JtYXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFyZy5pc0luKHRyYW5zZmVyRm9ybWF0LCBUcmFuc2ZlckZvcm1hdCwgXCJ0cmFuc2ZlckZvcm1hdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLlRyYWNlLCBcIihXZWJTb2NrZXRzIHRyYW5zcG9ydCkgQ29ubmVjdGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSAodXJsLmluZGV4T2YoXCI/XCIpIDwgMCA/IFwiP1wiIDogXCImXCIpICsgKFwiYWNjZXNzX3Rva2VuPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9eaHR0cC8sIFwid3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2ViU29ja2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZXMgPSBfdGhpcy5odHRwQ2xpZW50LmdldENvb2tpZVN0cmluZyh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXRmb3JtLmlzTm9kZSAmJiBjb29raWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBwYXNzIGNvb2tpZXMgd2hlbiBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJTb2NrZXQgPSBuZXcgX3RoaXMud2ViU29ja2V0Q29uc3RydWN0b3IodXJsLCB1bmRlZmluZWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llOiBcIlwiICsgY29va2llcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2ViU29ja2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lIGlzIG5vdCBoYXBweSB3aXRoIHBhc3NpbmcgJ3VuZGVmaW5lZCcgYXMgcHJvdG9jb2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJTb2NrZXQgPSBuZXcgX3RoaXMud2ViU29ja2V0Q29uc3RydWN0b3IodXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2ZlckZvcm1hdCA9PT0gVHJhbnNmZXJGb3JtYXQuQmluYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViU29ja2V0LmJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViU29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uIChfZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkluZm9ybWF0aW9uLCBcIldlYlNvY2tldCBjb25uZWN0ZWQgdG8gXCIgKyB1cmwgKyBcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMud2ViU29ja2V0ID0gd2ViU29ja2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJTb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXJyb3JFdmVudCBpcyBhIGJyb3dzZXIgb25seSB0eXBlIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHR5cGUgZXhpc3RzIGJlZm9yZSB1c2luZyBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBldmVudCBpbnN0YW5jZW9mIEVycm9yRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIHdpdGggdGhlIHRyYW5zcG9ydC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViU29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5UcmFjZSwgXCIoV2ViU29ja2V0cyB0cmFuc3BvcnQpIGRhdGEgcmVjZWl2ZWQuIFwiICsgZ2V0RGF0YURldGFpbChtZXNzYWdlLmRhdGEsIF90aGlzLmxvZ01lc3NhZ2VDb250ZW50KSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25yZWNlaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9ucmVjZWl2ZShtZXNzYWdlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJTb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuY2xvc2UoZXZlbnQpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFdlYlNvY2tldFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud2ViU29ja2V0ICYmIHRoaXMud2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFdlYlNvY2tldHMgdHJhbnNwb3J0KSBzZW5kaW5nIGRhdGEuIFwiICsgZ2V0RGF0YURldGFpbChkYXRhLCB0aGlzLmxvZ01lc3NhZ2VDb250ZW50KSArIFwiLlwiKTtcclxuICAgICAgICAgICAgdGhpcy53ZWJTb2NrZXQuc2VuZChkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJXZWJTb2NrZXQgaXMgbm90IGluIHRoZSBPUEVOIHN0YXRlXCIpO1xyXG4gICAgfTtcclxuICAgIFdlYlNvY2tldFRyYW5zcG9ydC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy53ZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgd2Vic29ja2V0IGhhbmRsZXJzIGJlY2F1c2Ugd2UgYXJlIGNvbnNpZGVyaW5nIHRoZSBzb2NrZXQgY2xvc2VkIG5vd1xyXG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAvLyBNYW51YWxseSBpbnZva2Ugb25jbG9zZSBjYWxsYmFjayBpbmxpbmUgc28gd2Uga25vdyB0aGUgSHR0cENvbm5lY3Rpb24gd2FzIGNsb3NlZCBwcm9wZXJseSBiZWZvcmUgcmV0dXJuaW5nXHJcbiAgICAgICAgICAgIC8vIFRoaXMgYWxzbyBzb2x2ZXMgYW4gaXNzdWUgd2hlcmUgd2Vic29ja2V0Lm9uY2xvc2UgY291bGQgdGFrZSAxOCsgc2Vjb25kcyB0byB0cmlnZ2VyIGR1cmluZyBuZXR3b3JrIGRpc2Nvbm5lY3RzXHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UodW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfTtcclxuICAgIFdlYlNvY2tldFRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyB3ZWJTb2NrZXQgd2lsbCBiZSBudWxsIGlmIHRoZSB0cmFuc3BvcnQgZGlkIG5vdCBzdGFydCBzdWNjZXNzZnVsbHlcclxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuVHJhY2UsIFwiKFdlYlNvY2tldHMgdHJhbnNwb3J0KSBzb2NrZXQgY2xvc2VkLlwiKTtcclxuICAgICAgICBpZiAodGhpcy5vbmNsb3NlKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudCAmJiAoZXZlbnQud2FzQ2xlYW4gPT09IGZhbHNlIHx8IGV2ZW50LmNvZGUgIT09IDEwMDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2xvc2UobmV3IEVycm9yKFwiV2ViU29ja2V0IGNsb3NlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGV2ZW50LmNvZGUgKyBcIiAoXCIgKyBldmVudC5yZWFzb24gKyBcIikuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBXZWJTb2NrZXRUcmFuc3BvcnQ7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFdlYlNvY2tldFRyYW5zcG9ydCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJTb2NrZXRUcmFuc3BvcnQuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSAuTkVUIEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbmltcG9ydCB7IERlZmF1bHRIdHRwQ2xpZW50IH0gZnJvbSBcIi4vRGVmYXVsdEh0dHBDbGllbnRcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IEh0dHBUcmFuc3BvcnRUeXBlLCBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgTG9uZ1BvbGxpbmdUcmFuc3BvcnQgfSBmcm9tIFwiLi9Mb25nUG9sbGluZ1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0IH0gZnJvbSBcIi4vU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBcmcsIGNyZWF0ZUxvZ2dlciwgUGxhdGZvcm0gfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5pbXBvcnQgeyBXZWJTb2NrZXRUcmFuc3BvcnQgfSBmcm9tIFwiLi9XZWJTb2NrZXRUcmFuc3BvcnRcIjtcclxudmFyIE1BWF9SRURJUkVDVFMgPSAxMDA7XHJcbnZhciBXZWJTb2NrZXRNb2R1bGUgPSBudWxsO1xyXG52YXIgRXZlbnRTb3VyY2VNb2R1bGUgPSBudWxsO1xyXG5pZiAoUGxhdGZvcm0uaXNOb2RlICYmIHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAvLyBJbiBvcmRlciB0byBpZ25vcmUgdGhlIGR5bmFtaWMgcmVxdWlyZSBpbiB3ZWJwYWNrIGJ1aWxkcyB3ZSBuZWVkIHRvIGRvIHRoaXMgbWFnaWNcclxuICAgIC8vIEB0cy1pZ25vcmU6IFRTIGRvZXNuJ3Qga25vdyBhYm91dCB0aGVzZSBuYW1lc1xyXG4gICAgdmFyIHJlcXVpcmVGdW5jID0gdHlwZW9mIF9fd2VicGFja19yZXF1aXJlX18gPT09IFwiZnVuY3Rpb25cIiA/IF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fIDogcmVxdWlyZTtcclxuICAgIFdlYlNvY2tldE1vZHVsZSA9IHJlcXVpcmVGdW5jKFwid3NcIik7XHJcbiAgICBFdmVudFNvdXJjZU1vZHVsZSA9IHJlcXVpcmVGdW5jKFwiZXZlbnRzb3VyY2VcIik7XHJcbn1cclxuLyoqIEBwcml2YXRlICovXHJcbnZhciBIdHRwQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEh0dHBDb25uZWN0aW9uKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XHJcbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IHt9O1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKHVybCwgXCJ1cmxcIik7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBjcmVhdGVMb2dnZXIob3B0aW9ucy5sb2dnZXIpO1xyXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IHRoaXMucmVzb2x2ZVVybCh1cmwpO1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMubG9nTWVzc2FnZUNvbnRlbnQgPSBvcHRpb25zLmxvZ01lc3NhZ2VDb250ZW50IHx8IGZhbHNlO1xyXG4gICAgICAgIGlmICghUGxhdGZvcm0uaXNOb2RlICYmIHR5cGVvZiBXZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgIW9wdGlvbnMuV2ViU29ja2V0KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuV2ViU29ja2V0ID0gV2ViU29ja2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChQbGF0Zm9ybS5pc05vZGUgJiYgIW9wdGlvbnMuV2ViU29ja2V0KSB7XHJcbiAgICAgICAgICAgIGlmIChXZWJTb2NrZXRNb2R1bGUpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuV2ViU29ja2V0ID0gV2ViU29ja2V0TW9kdWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghUGxhdGZvcm0uaXNOb2RlICYmIHR5cGVvZiBFdmVudFNvdXJjZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhb3B0aW9ucy5FdmVudFNvdXJjZSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLkV2ZW50U291cmNlID0gRXZlbnRTb3VyY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFBsYXRmb3JtLmlzTm9kZSAmJiAhb3B0aW9ucy5FdmVudFNvdXJjZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIEV2ZW50U291cmNlTW9kdWxlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLkV2ZW50U291cmNlID0gRXZlbnRTb3VyY2VNb2R1bGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5odHRwQ2xpZW50ID0gb3B0aW9ucy5odHRwQ2xpZW50IHx8IG5ldyBEZWZhdWx0SHR0cENsaWVudCh0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBcIkRpc2Nvbm5lY3RlZFwiIC8qIERpc2Nvbm5lY3RlZCAqLztcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLm9ucmVjZWl2ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbmNsb3NlID0gbnVsbDtcclxuICAgIH1cclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICh0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UsIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyRm9ybWF0ID0gdHJhbnNmZXJGb3JtYXQgfHwgVHJhbnNmZXJGb3JtYXQuQmluYXJ5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcmcuaXNJbih0cmFuc2ZlckZvcm1hdCwgVHJhbnNmZXJGb3JtYXQsIFwidHJhbnNmZXJGb3JtYXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTdGFydGluZyBjb25uZWN0aW9uIHdpdGggdHJhbnNmZXIgZm9ybWF0ICdcIiArIFRyYW5zZmVyRm9ybWF0W3RyYW5zZmVyRm9ybWF0XSArIFwiJy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSAhPT0gXCJEaXNjb25uZWN0ZWRcIiAvKiBEaXNjb25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDYW5ub3Qgc3RhcnQgYW4gSHR0cENvbm5lY3Rpb24gdGhhdCBpcyBub3QgaW4gdGhlICdEaXNjb25uZWN0ZWQnIHN0YXRlLlwiKSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gXCJDb25uZWN0aW5nIFwiIC8qIENvbm5lY3RpbmcgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJbnRlcm5hbFByb21pc2UgPSB0aGlzLnN0YXJ0SW50ZXJuYWwodHJhbnNmZXJGb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnN0YXJ0SW50ZXJuYWxQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGluZ1wiIC8qIERpc2Nvbm5lY3RpbmcgKi8pKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiRmFpbGVkIHRvIHN0YXJ0IHRoZSBIdHRwQ29ubmVjdGlvbiBiZWZvcmUgc3RvcCgpIHdhcyBjYWxsZWQuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBhd2FpdCBzdG9wUHJvbWlzZSBpbnNpZGUgc3RhcnRJbnRlcm5hbCBzaW5jZSBzdG9wSW50ZXJuYWwgYXdhaXRzIHRoZSBzdGFydEludGVybmFsUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zdG9wUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW5ub3QgYXdhaXQgc3RvcFByb21pc2UgaW5zaWRlIHN0YXJ0SW50ZXJuYWwgc2luY2Ugc3RvcEludGVybmFsIGF3YWl0cyB0aGUgc3RhcnRJbnRlcm5hbFByb21pc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlICE9PSBcIkNvbm5lY3RlZFwiIC8qIENvbm5lY3RlZCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSHR0cENvbm5lY3Rpb24uc3RhcnRJbnRlcm5hbCBjb21wbGV0ZWQgZ3JhY2VmdWxseSBidXQgZGlkbid0IGVudGVyIHRoZSBjb25uZWN0aW9uIGludG8gdGhlIGNvbm5lY3RlZCBzdGF0ZSFcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cENvbm5lY3Rpb24ucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSAhPT0gXCJDb25uZWN0ZWRcIiAvKiBDb25uZWN0ZWQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCBzZW5kIGRhdGEgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbm90IGluIHRoZSAnQ29ubmVjdGVkJyBTdGF0ZS5cIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2VuZFF1ZXVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZFF1ZXVlID0gbmV3IFRyYW5zcG9ydFNlbmRRdWV1ZSh0aGlzLnRyYW5zcG9ydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyYW5zcG9ydCB3aWxsIG5vdCBiZSBudWxsIGlmIHN0YXRlIGlzIGNvbm5lY3RlZFxyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRRdWV1ZS5zZW5kKGRhdGEpO1xyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGVkXCIgLyogRGlzY29ubmVjdGVkICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiQ2FsbCB0byBIdHRwQ29ubmVjdGlvbi5zdG9wKFwiICsgZXJyb3IgKyBcIikgaWdub3JlZCBiZWNhdXNlIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHkgaW4gdGhlIGRpc2Nvbm5lY3RlZCBzdGF0ZS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJEaXNjb25uZWN0aW5nXCIgLyogRGlzY29ubmVjdGluZyAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkRlYnVnLCBcIkNhbGwgdG8gSHR0cENvbm5lY3Rpb24uc3RvcChcIiArIGVycm9yICsgXCIpIGlnbm9yZWQgYmVjYXVzZSB0aGUgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBkaXNjb25uZWN0aW5nIHN0YXRlLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnN0b3BQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9IFwiRGlzY29ubmVjdGluZ1wiIC8qIERpc2Nvbm5lY3RpbmcgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcFByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY29tcGxldGUgc3RvcCgpIHVudGlsIHN0b3BDb25uZWN0aW9uKCkgY29tcGxldGVzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RvcFByb21pc2VSZXNvbHZlciA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9wSW50ZXJuYWwgc2hvdWxkIG5ldmVyIHRocm93IHNvIGp1c3Qgb2JzZXJ2ZSBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zdG9wSW50ZXJuYWwoZXJyb3IpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3BJbnRlcm5hbCBzaG91bGQgbmV2ZXIgdGhyb3cgc28ganVzdCBvYnNlcnZlIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RvcFByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5zdG9wSW50ZXJuYWwgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlXzEsIGVfMiwgZV8zO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZXJyb3IgYXMgc29vbiBhcyBwb3NzaWJsZSBvdGhlcndpc2UgdGhlcmUgaXMgYSByYWNlIGJldHdlZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHRyYW5zcG9ydCBjbG9zaW5nIGFuZCBwcm92aWRpbmcgYW4gZXJyb3IgYW5kIHRoZSBlcnJvciBmcm9tIGEgY2xvc2UgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSB3b3VsZCBwcmVmZXIgdGhlIGNsb3NlIG1lc3NhZ2UgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcEVycm9yID0gZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RhcnRJbnRlcm5hbFByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VuZFF1ZXVlKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs1LCA3LCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZW5kUXVldWUuc3RvcCgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgXCJUcmFuc3BvcnRTZW5kUXVldWUuc3RvcCgpIHRocmV3IGVycm9yICdcIiArIGVfMiArIFwiJy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUXVldWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gOTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50cmFuc3BvcnQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEwLCAxMiwgLCAxM10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnRyYW5zcG9ydC5zdG9wKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLkVycm9yLCBcIkh0dHBDb25uZWN0aW9uLnRyYW5zcG9ydC5zdG9wKCkgdGhyZXcgZXJyb3IgJ1wiICsgZV8zICsgXCInLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDE1XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiSHR0cENvbm5lY3Rpb24udHJhbnNwb3J0IGlzIHVuZGVmaW5lZCBpbiBIdHRwQ29ubmVjdGlvbi5zdG9wKCkgYmVjYXVzZSBzdGFydCgpIGZhaWxlZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcENvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxNTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydEludGVybmFsID0gZnVuY3Rpb24gKHRyYW5zZmVyRm9ybWF0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdXJsLCBuZWdvdGlhdGVSZXNwb25zZSwgcmVkaXJlY3RzLCBfbG9vcF8xLCB0aGlzXzEsIGVfNDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlVXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSA9IHRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbkZhY3Rvcnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMTIsICwgMTNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuc2tpcE5lZ290aWF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLnRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cykpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGFkZCBhIGNvbm5lY3Rpb24gSUQgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdGhpcy5jb25zdHJ1Y3RUcmFuc3BvcnQoSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBqdXN0IGNhbGwgY29ubmVjdCBkaXJlY3RseSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIGZhbGxiYWNrIG9yIG5lZ290aWF0ZSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RhcnRUcmFuc3BvcnQodXJsLCB0cmFuc2ZlckZvcm1hdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIGp1c3QgY2FsbCBjb25uZWN0IGRpcmVjdGx5IGluIHRoaXMgY2FzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZmFsbGJhY2sgb3IgbmVnb3RpYXRlIGluIHRoaXMgY2FzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHRocm93IG5ldyBFcnJvcihcIk5lZ290aWF0aW9uIGNhbiBvbmx5IGJlIHNraXBwZWQgd2hlbiB1c2luZyB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydCBkaXJlY3RseS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMgLypicmVhayovLCAxMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdvdGlhdGVSZXNwb25zZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0cyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNjZXNzVG9rZW5fMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpc18xLmdldE5lZ290aWF0aW9uUmVzcG9uc2UodXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZ290aWF0ZVJlc3BvbnNlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgdHJpZXMgdG8gc3RvcCB0aGUgY29ubmVjdGlvbiB3aGVuIGl0IGlzIGJlaW5nIHN0YXJ0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzXzEuY29ubmVjdGlvblN0YXRlID09PSBcIkRpc2Nvbm5lY3RpbmdcIiAvKiBEaXNjb25uZWN0aW5nICovIHx8IHRoaXNfMS5jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGVkXCIgLyogRGlzY29ubmVjdGVkICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbm5lY3Rpb24gd2FzIHN0b3BwZWQgZHVyaW5nIG5lZ290aWF0aW9uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWdvdGlhdGVSZXNwb25zZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihuZWdvdGlhdGVSZXNwb25zZS5lcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVnb3RpYXRlUmVzcG9uc2UuUHJvdG9jb2xWZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGV0ZWN0ZWQgYSBjb25uZWN0aW9uIGF0dGVtcHQgdG8gYW4gQVNQLk5FVCBTaWduYWxSIFNlcnZlci4gVGhpcyBjbGllbnQgb25seSBzdXBwb3J0cyBjb25uZWN0aW5nIHRvIGFuIEFTUC5ORVQgQ29yZSBTaWduYWxSIFNlcnZlci4gU2VlIGh0dHBzOi8vYWthLm1zL3NpZ25hbHItY29yZS1kaWZmZXJlbmNlcyBmb3IgZGV0YWlscy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVnb3RpYXRlUmVzcG9uc2UudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbmVnb3RpYXRlUmVzcG9uc2UudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZ290aWF0ZVJlc3BvbnNlLmFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5fMSA9IG5lZ290aWF0ZVJlc3BvbnNlLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5hY2Nlc3NUb2tlbkZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBhY2Nlc3NUb2tlbl8xOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNSAvKnlpZWxkKiovLCBfbG9vcF8xKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDg7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVnb3RpYXRlUmVzcG9uc2UudXJsICYmIHJlZGlyZWN0cyA8IE1BWF9SRURJUkVDVFMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RzID09PSBNQVhfUkVESVJFQ1RTICYmIG5lZ290aWF0ZVJlc3BvbnNlLnVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmVnb3RpYXRlIHJlZGlyZWN0aW9uIGxpbWl0IGV4Y2VlZGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25JZCA9IG5lZ290aWF0ZVJlc3BvbnNlLmNvbm5lY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jcmVhdGVUcmFuc3BvcnQodXJsLCB0aGlzLm9wdGlvbnMudHJhbnNwb3J0LCBuZWdvdGlhdGVSZXNwb25zZSwgdHJhbnNmZXJGb3JtYXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0IGluc3RhbmNlb2YgTG9uZ1BvbGxpbmdUcmFuc3BvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmVhdHVyZXMuaW5oZXJlbnRLZWVwQWxpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJDb25uZWN0aW5nIFwiIC8qIENvbm5lY3RpbmcgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY29ubmVjdGlvbiB0cmFuc2l0aW9ucyB0byB0aGUgY29ubmVjdGVkIHN0YXRlIHByaW9yIHRvIGNvbXBsZXRpbmcgdGhpcy5zdGFydEludGVybmFsUHJvbWlzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0KCkgd2lsbCBoYW5kbGUgdGhlIGNhc2Ugd2hlbiBzdG9wIHdhcyBjYWxsZWQgYW5kIHN0YXJ0SW50ZXJuYWwgZXhpdHMgc3RpbGwgaW4gdGhlIGRpc2Nvbm5lY3Rpbmcgc3RhdGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiVGhlIEh0dHBDb25uZWN0aW9uIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBcIkNvbm5lY3RlZFwiIC8qIENvbm5lY3RlZCAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV80ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiRmFpbGVkIHRvIHN0YXJ0IHRoZSBjb25uZWN0aW9uOiBcIiArIGVfNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gXCJEaXNjb25uZWN0ZWRcIiAvKiBEaXNjb25uZWN0ZWQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoZV80KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBIdHRwQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TmVnb3RpYXRpb25SZXNwb25zZSA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgaGVhZGVycywgdG9rZW4sIG5lZ290aWF0ZVVybCwgcmVzcG9uc2UsIGVfNTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYWNjZXNzVG9rZW5GYWN0b3J5KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IChfYSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hW1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZ290aWF0ZVVybCA9IHRoaXMucmVzb2x2ZU5lZ290aWF0ZVVybCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU2VuZGluZyBuZWdvdGlhdGlvbiByZXF1ZXN0OiBcIiArIG5lZ290aWF0ZVVybCArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFszLCA1LCAsIDZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5odHRwQ2xpZW50LnBvc3QobmVnb3RpYXRlVXJsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXR1cyBjb2RlIHJldHVybmVkIGZyb20gbmVnb3RpYXRlIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSkpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgSlNPTi5wYXJzZShyZXNwb25zZS5jb250ZW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzUgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5FcnJvciwgXCJGYWlsZWQgdG8gY29tcGxldGUgbmVnb3RpYXRpb24gd2l0aCB0aGUgc2VydmVyOiBcIiArIGVfNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChlXzUpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cENvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3RVcmwgPSBmdW5jdGlvbiAodXJsLCBjb25uZWN0aW9uSWQpIHtcclxuICAgICAgICBpZiAoIWNvbm5lY3Rpb25JZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKFwiP1wiKSA9PT0gLTEgPyBcIj9cIiA6IFwiJlwiKSArIChcImlkPVwiICsgY29ubmVjdGlvbklkKTtcclxuICAgIH07XHJcbiAgICBIdHRwQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlVHJhbnNwb3J0ID0gZnVuY3Rpb24gKHVybCwgcmVxdWVzdGVkVHJhbnNwb3J0LCBuZWdvdGlhdGVSZXNwb25zZSwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uZWN0VXJsLCB0cmFuc3BvcnRFeGNlcHRpb25zLCB0cmFuc3BvcnRzLCBfaSwgdHJhbnNwb3J0c18xLCBlbmRwb2ludCwgdHJhbnNwb3J0T3JFcnJvciwgZXhfMSwgZXhfMiwgbWVzc2FnZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdFVybCA9IHRoaXMuY3JlYXRlQ29ubmVjdFVybCh1cmwsIG5lZ290aWF0ZVJlc3BvbnNlLmNvbm5lY3Rpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0lUcmFuc3BvcnQocmVxdWVzdGVkVHJhbnNwb3J0KSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJDb25uZWN0aW9uIHdhcyBwcm92aWRlZCBhbiBpbnN0YW5jZSBvZiBJVHJhbnNwb3J0LCB1c2luZyB0aGF0IGRpcmVjdGx5LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSByZXF1ZXN0ZWRUcmFuc3BvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RhcnRUcmFuc3BvcnQoY29ubmVjdFVybCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0RXhjZXB0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRzID0gbmVnb3RpYXRlUmVzcG9uc2UuYXZhaWxhYmxlVHJhbnNwb3J0cyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCB0cmFuc3BvcnRzXzEgPSB0cmFuc3BvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IHRyYW5zcG9ydHNfMS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gdHJhbnNwb3J0c18xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0T3JFcnJvciA9IHRoaXMucmVzb2x2ZVRyYW5zcG9ydE9yRXJyb3IoZW5kcG9pbnQsIHJlcXVlc3RlZFRyYW5zcG9ydCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0cmFuc3BvcnRPckVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGVycm9yIGFuZCBjb250aW51ZSwgd2UgZG9uJ3Qgd2FudCB0byBjYXVzZSBhIHJlLW5lZ290aWF0ZSBpbiB0aGVzZSBjYXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRFeGNlcHRpb25zLnB1c2goZW5kcG9pbnQudHJhbnNwb3J0ICsgXCIgZmFpbGVkOiBcIiArIHRyYW5zcG9ydE9yRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNJVHJhbnNwb3J0KHRyYW5zcG9ydE9yRXJyb3IpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0T3JFcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhbmVnb3RpYXRlUmVzcG9uc2UuY29ubmVjdGlvbklkKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs1LCA3LCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXROZWdvdGlhdGlvblJlc3BvbnNlKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnb3RpYXRlUmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KGV4XzEpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RVcmwgPSB0aGlzLmNyZWF0ZUNvbm5lY3RVcmwodXJsLCBuZWdvdGlhdGVSZXNwb25zZS5jb25uZWN0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzksIDExLCAsIDEyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc3RhcnRUcmFuc3BvcnQoY29ubmVjdFVybCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleF8yID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiRmFpbGVkIHRvIHN0YXJ0IHRoZSB0cmFuc3BvcnQgJ1wiICsgZW5kcG9pbnQudHJhbnNwb3J0ICsgXCInOiBcIiArIGV4XzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdvdGlhdGVSZXNwb25zZS5jb25uZWN0aW9uSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydEV4Y2VwdGlvbnMucHVzaChlbmRwb2ludC50cmFuc3BvcnQgKyBcIiBmYWlsZWQ6IFwiICsgZXhfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSAhPT0gXCJDb25uZWN0aW5nIFwiIC8qIENvbm5lY3RpbmcgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkZhaWxlZCB0byBzZWxlY3QgdHJhbnNwb3J0IGJlZm9yZSBzdG9wKCkgd2FzIGNhbGxlZC5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc3BvcnRFeGNlcHRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJVbmFibGUgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyIHdpdGggYW55IG9mIHRoZSBhdmFpbGFibGUgdHJhbnNwb3J0cy4gXCIgKyB0cmFuc3BvcnRFeGNlcHRpb25zLmpvaW4oXCIgXCIpKSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJOb25lIG9mIHRoZSB0cmFuc3BvcnRzIHN1cHBvcnRlZCBieSB0aGUgY2xpZW50IGFyZSBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZlci5cIikpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cENvbm5lY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdFRyYW5zcG9ydCA9IGZ1bmN0aW9uICh0cmFuc3BvcnQpIHtcclxuICAgICAgICBzd2l0Y2ggKHRyYW5zcG9ydCkge1xyXG4gICAgICAgICAgICBjYXNlIEh0dHBUcmFuc3BvcnRUeXBlLldlYlNvY2tldHM6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5XZWJTb2NrZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInV2ViU29ja2V0JyBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgZW52aXJvbm1lbnQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJTb2NrZXRUcmFuc3BvcnQodGhpcy5odHRwQ2xpZW50LCB0aGlzLmFjY2Vzc1Rva2VuRmFjdG9yeSwgdGhpcy5sb2dnZXIsIHRoaXMub3B0aW9ucy5sb2dNZXNzYWdlQ29udGVudCB8fCBmYWxzZSwgdGhpcy5vcHRpb25zLldlYlNvY2tldCk7XHJcbiAgICAgICAgICAgIGNhc2UgSHR0cFRyYW5zcG9ydFR5cGUuU2VydmVyU2VudEV2ZW50czpcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLkV2ZW50U291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ0V2ZW50U291cmNlJyBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgZW52aXJvbm1lbnQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0KHRoaXMuaHR0cENsaWVudCwgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnksIHRoaXMubG9nZ2VyLCB0aGlzLm9wdGlvbnMubG9nTWVzc2FnZUNvbnRlbnQgfHwgZmFsc2UsIHRoaXMub3B0aW9ucy5FdmVudFNvdXJjZSk7XHJcbiAgICAgICAgICAgIGNhc2UgSHR0cFRyYW5zcG9ydFR5cGUuTG9uZ1BvbGxpbmc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExvbmdQb2xsaW5nVHJhbnNwb3J0KHRoaXMuaHR0cENsaWVudCwgdGhpcy5hY2Nlc3NUb2tlbkZhY3RvcnksIHRoaXMubG9nZ2VyLCB0aGlzLm9wdGlvbnMubG9nTWVzc2FnZUNvbnRlbnQgfHwgZmFsc2UpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc3BvcnQ6IFwiICsgdHJhbnNwb3J0ICsgXCIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdHRwQ29ubmVjdGlvbi5wcm90b3R5cGUuc3RhcnRUcmFuc3BvcnQgPSBmdW5jdGlvbiAodXJsLCB0cmFuc2ZlckZvcm1hdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnQub25yZWNlaXZlID0gdGhpcy5vbnJlY2VpdmU7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnQub25jbG9zZSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5zdG9wQ29ubmVjdGlvbihlKTsgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuY29ubmVjdCh1cmwsIHRyYW5zZmVyRm9ybWF0KTtcclxuICAgIH07XHJcbiAgICBIdHRwQ29ubmVjdGlvbi5wcm90b3R5cGUucmVzb2x2ZVRyYW5zcG9ydE9yRXJyb3IgPSBmdW5jdGlvbiAoZW5kcG9pbnQsIHJlcXVlc3RlZFRyYW5zcG9ydCwgcmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpIHtcclxuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gSHR0cFRyYW5zcG9ydFR5cGVbZW5kcG9pbnQudHJhbnNwb3J0XTtcclxuICAgICAgICBpZiAodHJhbnNwb3J0ID09PSBudWxsIHx8IHRyYW5zcG9ydCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTa2lwcGluZyB0cmFuc3BvcnQgJ1wiICsgZW5kcG9pbnQudHJhbnNwb3J0ICsgXCInIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGNsaWVudC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJTa2lwcGluZyB0cmFuc3BvcnQgJ1wiICsgZW5kcG9pbnQudHJhbnNwb3J0ICsgXCInIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGNsaWVudC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0TWF0Y2hlcyhyZXF1ZXN0ZWRUcmFuc3BvcnQsIHRyYW5zcG9ydCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2ZlckZvcm1hdHMgPSBlbmRwb2ludC50cmFuc2ZlckZvcm1hdHMubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBUcmFuc2ZlckZvcm1hdFtzXTsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmZXJGb3JtYXRzLmluZGV4T2YocmVxdWVzdGVkVHJhbnNmZXJGb3JtYXQpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuV2ViU29ja2V0cyAmJiAhdGhpcy5vcHRpb25zLldlYlNvY2tldCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRyYW5zcG9ydCA9PT0gSHR0cFRyYW5zcG9ydFR5cGUuU2VydmVyU2VudEV2ZW50cyAmJiAhdGhpcy5vcHRpb25zLkV2ZW50U291cmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU2tpcHBpbmcgdHJhbnNwb3J0ICdcIiArIEh0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF0gKyBcIicgYmVjYXVzZSBpdCBpcyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgZW52aXJvbm1lbnQuJ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIidcIiArIEh0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF0gKyBcIicgaXMgbm90IHN1cHBvcnRlZCBpbiB5b3VyIGVudmlyb25tZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTZWxlY3RpbmcgdHJhbnNwb3J0ICdcIiArIEh0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF0gKyBcIicuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRGVidWcsIFwiU2tpcHBpbmcgdHJhbnNwb3J0ICdcIiArIEh0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF0gKyBcIicgYmVjYXVzZSBpdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZXF1ZXN0ZWQgdHJhbnNmZXIgZm9ybWF0ICdcIiArIFRyYW5zZmVyRm9ybWF0W3JlcXVlc3RlZFRyYW5zZmVyRm9ybWF0XSArIFwiJy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIidcIiArIEh0dHBUcmFuc3BvcnRUeXBlW3RyYW5zcG9ydF0gKyBcIicgZG9lcyBub3Qgc3VwcG9ydCBcIiArIFRyYW5zZmVyRm9ybWF0W3JlcXVlc3RlZFRyYW5zZmVyRm9ybWF0XSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJTa2lwcGluZyB0cmFuc3BvcnQgJ1wiICsgSHR0cFRyYW5zcG9ydFR5cGVbdHJhbnNwb3J0XSArIFwiJyBiZWNhdXNlIGl0IHdhcyBkaXNhYmxlZCBieSB0aGUgY2xpZW50LlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCInXCIgKyBIdHRwVHJhbnNwb3J0VHlwZVt0cmFuc3BvcnRdICsgXCInIGlzIGRpc2FibGVkIGJ5IHRoZSBjbGllbnQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5pc0lUcmFuc3BvcnQgPSBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zcG9ydCAmJiB0eXBlb2YgKHRyYW5zcG9ydCkgPT09IFwib2JqZWN0XCIgJiYgXCJjb25uZWN0XCIgaW4gdHJhbnNwb3J0O1xyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5zdG9wQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJIdHRwQ29ubmVjdGlvbi5zdG9wQ29ubmVjdGlvbihcIiArIGVycm9yICsgXCIpIGNhbGxlZCB3aGlsZSBpbiBzdGF0ZSBcIiArIHRoaXMuY29ubmVjdGlvblN0YXRlICsgXCIuXCIpO1xyXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBzdG9wRXJyb3IsIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGUgZXJyb3IgZnJvbSB0aGUgdHJhbnNwb3J0XHJcbiAgICAgICAgZXJyb3IgPSB0aGlzLnN0b3BFcnJvciB8fCBlcnJvcjtcclxuICAgICAgICB0aGlzLnN0b3BFcnJvciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uU3RhdGUgPT09IFwiRGlzY29ubmVjdGVkXCIgLyogRGlzY29ubmVjdGVkICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5EZWJ1ZywgXCJDYWxsIHRvIEh0dHBDb25uZWN0aW9uLnN0b3BDb25uZWN0aW9uKFwiICsgZXJyb3IgKyBcIikgd2FzIGlnbm9yZWQgYmVjYXVzZSB0aGUgY29ubmVjdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBkaXNjb25uZWN0ZWQgc3RhdGUuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJDb25uZWN0aW5nIFwiIC8qIENvbm5lY3RpbmcgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKExvZ0xldmVsLldhcm5pbmcsIFwiQ2FsbCB0byBIdHRwQ29ubmVjdGlvbi5zdG9wQ29ubmVjdGlvbihcIiArIGVycm9yICsgXCIpIHdhcyBpZ25vcmVkIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaGFzbid0IHlldCBsZWZ0IHRoZSBpbiB0aGUgY29ubmVjdGluZyBzdGF0ZS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXRlID09PSBcIkRpc2Nvbm5lY3RpbmdcIiAvKiBEaXNjb25uZWN0aW5nICovKSB7XHJcbiAgICAgICAgICAgIC8vIEEgY2FsbCB0byBzdG9wKCkgaW5kdWNlZCB0aGlzIGNhbGwgdG8gc3RvcENvbm5lY3Rpb24gYW5kIG5lZWRzIHRvIGJlIGNvbXBsZXRlZC5cclxuICAgICAgICAgICAgLy8gQW55IHN0b3AoKSBhd2FpdGVycyB3aWxsIGJlIHNjaGVkdWxlZCB0byBjb250aW51ZSBhZnRlciB0aGUgb25jbG9zZSBjYWxsYmFjayBmaXJlcy5cclxuICAgICAgICAgICAgdGhpcy5zdG9wUHJvbWlzZVJlc29sdmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgd2l0aCBlcnJvciAnXCIgKyBlcnJvciArIFwiJy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9IFwiRGlzY29ubmVjdGVkXCIgLyogRGlzY29ubmVjdGVkICovO1xyXG4gICAgICAgIGlmICh0aGlzLm9uY2xvc2UgJiYgdGhpcy5jb25uZWN0aW9uU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2xvc2UoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuRXJyb3IsIFwiSHR0cENvbm5lY3Rpb24ub25jbG9zZShcIiArIGVycm9yICsgXCIpIHRocmV3IGVycm9yICdcIiArIGUgKyBcIicuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh0dHBDb25uZWN0aW9uLnByb3RvdHlwZS5yZXNvbHZlVXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIC8vIHN0YXJ0c1dpdGggaXMgbm90IHN1cHBvcnRlZCBpbiBJRVxyXG4gICAgICAgIGlmICh1cmwubGFzdEluZGV4T2YoXCJodHRwczovL1wiLCAwKSA9PT0gMCB8fCB1cmwubGFzdEluZGV4T2YoXCJodHRwOi8vXCIsIDApID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghUGxhdGZvcm0uaXNCcm93c2VyIHx8ICF3aW5kb3cuZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgJ1wiICsgdXJsICsgXCInLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgdXJsIHRvIHRoZSBocmVmIHByb3Blcnkgb2YgYW4gYW5jaG9yIHRhZyBoYW5kbGVzIG5vcm1hbGl6YXRpb25cclxuICAgICAgICAvLyBmb3IgdXMuIFRoZXJlIGFyZSAzIG1haW4gY2FzZXMuXHJcbiAgICAgICAgLy8gMS4gUmVsYXRpdmUgIHBhdGggbm9ybWFsaXphdGlvbiBlLmcgXCJiXCIgLT4gXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYS9iXCJcclxuICAgICAgICAvLyAyLiBBYnNvbHV0ZSBwYXRoIG5vcm1hbGl6YXRpb24gZS5nIFwiL2EvYlwiIC0+IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2EvYlwiXHJcbiAgICAgICAgLy8gMy4gTmV0d29ya3BhdGggcmVmZXJlbmNlIG5vcm1hbGl6YXRpb24gZS5nIFwiLy9sb2NhbGhvc3Q6NTAwMC9hL2JcIiAtPiBcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hL2JcIlxyXG4gICAgICAgIHZhciBhVGFnID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgIGFUYWcuaHJlZiA9IHVybDtcclxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiTm9ybWFsaXppbmcgJ1wiICsgdXJsICsgXCInIHRvICdcIiArIGFUYWcuaHJlZiArIFwiJy5cIik7XHJcbiAgICAgICAgcmV0dXJuIGFUYWcuaHJlZjtcclxuICAgIH07XHJcbiAgICBIdHRwQ29ubmVjdGlvbi5wcm90b3R5cGUucmVzb2x2ZU5lZ290aWF0ZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZihcIj9cIik7XHJcbiAgICAgICAgdmFyIG5lZ290aWF0ZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXggPT09IC0xID8gdXJsLmxlbmd0aCA6IGluZGV4KTtcclxuICAgICAgICBpZiAobmVnb3RpYXRlVXJsW25lZ290aWF0ZVVybC5sZW5ndGggLSAxXSAhPT0gXCIvXCIpIHtcclxuICAgICAgICAgICAgbmVnb3RpYXRlVXJsICs9IFwiL1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZWdvdGlhdGVVcmwgKz0gXCJuZWdvdGlhdGVcIjtcclxuICAgICAgICBuZWdvdGlhdGVVcmwgKz0gaW5kZXggPT09IC0xID8gXCJcIiA6IHVybC5zdWJzdHJpbmcoaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiBuZWdvdGlhdGVVcmw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh0dHBDb25uZWN0aW9uO1xyXG59KCkpO1xyXG5leHBvcnQgeyBIdHRwQ29ubmVjdGlvbiB9O1xyXG5mdW5jdGlvbiB0cmFuc3BvcnRNYXRjaGVzKHJlcXVlc3RlZFRyYW5zcG9ydCwgYWN0dWFsVHJhbnNwb3J0KSB7XHJcbiAgICByZXR1cm4gIXJlcXVlc3RlZFRyYW5zcG9ydCB8fCAoKGFjdHVhbFRyYW5zcG9ydCAmIHJlcXVlc3RlZFRyYW5zcG9ydCkgIT09IDApO1xyXG59XHJcbnZhciBUcmFuc3BvcnRTZW5kUXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnRTZW5kUXVldWUodHJhbnNwb3J0KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcclxuICAgICAgICB0aGlzLmV4ZWN1dGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyZWREYXRhID0gbmV3IFByb21pc2VTb3VyY2UoKTtcclxuICAgICAgICB0aGlzLnRyYW5zcG9ydFJlc3VsdCA9IG5ldyBQcm9taXNlU291cmNlKCk7XHJcbiAgICAgICAgdGhpcy5zZW5kTG9vcFByb21pc2UgPSB0aGlzLnNlbmRMb29wKCk7XHJcbiAgICB9XHJcbiAgICBUcmFuc3BvcnRTZW5kUXVldWUucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuYnVmZmVyRGF0YShkYXRhKTtcclxuICAgICAgICBpZiAoIXRoaXMudHJhbnNwb3J0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0UmVzdWx0ID0gbmV3IFByb21pc2VTb3VyY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0UmVzdWx0LnByb21pc2U7XHJcbiAgICB9O1xyXG4gICAgVHJhbnNwb3J0U2VuZFF1ZXVlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZXhlY3V0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyZWREYXRhLnJlc29sdmUoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kTG9vcFByb21pc2U7XHJcbiAgICB9O1xyXG4gICAgVHJhbnNwb3J0U2VuZFF1ZXVlLnByb3RvdHlwZS5idWZmZXJEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoICYmIHR5cGVvZiAodGhpcy5idWZmZXJbMF0pICE9PSB0eXBlb2YgKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGRhdGEgdG8gYmUgb2YgdHlwZSBcIiArIHR5cGVvZiAodGhpcy5idWZmZXIpICsgXCIgYnV0IHdhcyBvZiB0eXBlIFwiICsgdHlwZW9mIChkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goZGF0YSk7XHJcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyZWREYXRhLnJlc29sdmUoKTtcclxuICAgIH07XHJcbiAgICBUcmFuc3BvcnRTZW5kUXVldWUucHJvdG90eXBlLnNlbmRMb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zcG9ydFJlc3VsdCwgZGF0YSwgZXJyb3JfMTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZW5kQnVmZmVyZWREYXRhLnByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZXhlY3V0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BvcnRSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydFJlc3VsdC5yZWplY3QoXCJDb25uZWN0aW9uIHN0b3BwZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyZWREYXRhID0gbmV3IFByb21pc2VTb3VyY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0UmVzdWx0ID0gdGhpcy50cmFuc3BvcnRSZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0UmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdHlwZW9mICh0aGlzLmJ1ZmZlclswXSkgPT09IFwic3RyaW5nXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIuam9pbihcIlwiKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc3BvcnRTZW5kUXVldWUuY29uY2F0QnVmZmVycyh0aGlzLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMudHJhbnNwb3J0LnNlbmQoZGF0YSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnRSZXN1bHQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydFJlc3VsdC5yZWplY3QoZXJyb3JfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFszIC8qYnJlYWsqLywgMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFRyYW5zcG9ydFNlbmRRdWV1ZS5jb25jYXRCdWZmZXJzID0gZnVuY3Rpb24gKGFycmF5QnVmZmVycykge1xyXG4gICAgICAgIHZhciB0b3RhbExlbmd0aCA9IGFycmF5QnVmZmVycy5tYXAoZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGIuYnl0ZUxlbmd0aDsgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGFycmF5QnVmZmVyc18xID0gYXJyYXlCdWZmZXJzOyBfaSA8IGFycmF5QnVmZmVyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGFycmF5QnVmZmVyc18xW19pXTtcclxuICAgICAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShpdGVtKSwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IGl0ZW0uYnl0ZUxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVHJhbnNwb3J0U2VuZFF1ZXVlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBUcmFuc3BvcnRTZW5kUXVldWUgfTtcclxudmFyIFByb21pc2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcm9taXNlU291cmNlKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfYSA9IFtyZXNvbHZlLCByZWplY3RdLCBfdGhpcy5yZXNvbHZlciA9IF9hWzBdLCBfdGhpcy5yZWplY3RlciA9IF9hWzFdLCBfYTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFByb21pc2VTb3VyY2UucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlcigpO1xyXG4gICAgfTtcclxuICAgIFByb21pc2VTb3VyY2UucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLnJlamVjdGVyKHJlYXNvbik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VTb3VyY2U7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBDb25uZWN0aW9uLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tIFwiLi9JSHViUHJvdG9jb2xcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IFRyYW5zZmVyRm9ybWF0IH0gZnJvbSBcIi4vSVRyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBOdWxsTG9nZ2VyIH0gZnJvbSBcIi4vTG9nZ2Vyc1wiO1xyXG5pbXBvcnQgeyBUZXh0TWVzc2FnZUZvcm1hdCB9IGZyb20gXCIuL1RleHRNZXNzYWdlRm9ybWF0XCI7XHJcbnZhciBKU09OX0hVQl9QUk9UT0NPTF9OQU1FID0gXCJqc29uXCI7XHJcbi8qKiBJbXBsZW1lbnRzIHRoZSBKU09OIEh1YiBQcm90b2NvbC4gKi9cclxudmFyIEpzb25IdWJQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEpzb25IdWJQcm90b2NvbCgpIHtcclxuICAgICAgICAvKiogQGluaGVyaXREb2MgKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBKU09OX0hVQl9QUk9UT0NPTF9OQU1FO1xyXG4gICAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IDE7XHJcbiAgICAgICAgLyoqIEBpbmhlcml0RG9jICovXHJcbiAgICAgICAgdGhpcy50cmFuc2ZlckZvcm1hdCA9IFRyYW5zZmVyRm9ybWF0LlRleHQ7XHJcbiAgICB9XHJcbiAgICAvKiogQ3JlYXRlcyBhbiBhcnJheSBvZiB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1Yk1lc3NhZ2V9IG9iamVjdHMgZnJvbSB0aGUgc3BlY2lmaWVkIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0lMb2dnZXJ9IGxvZ2dlciBBIGxvZ2dlciB0aGF0IHdpbGwgYmUgdXNlZCB0byBsb2cgbWVzc2FnZXMgdGhhdCBvY2N1ciBkdXJpbmcgcGFyc2luZy5cclxuICAgICAqL1xyXG4gICAgSnNvbkh1YlByb3RvY29sLnByb3RvdHlwZS5wYXJzZU1lc3NhZ2VzID0gZnVuY3Rpb24gKGlucHV0LCBsb2dnZXIpIHtcclxuICAgICAgICAvLyBUaGUgaW50ZXJmYWNlIGRvZXMgYWxsb3cgXCJBcnJheUJ1ZmZlclwiIHRvIGJlIHBhc3NlZCBpbiwgYnV0IHRoaXMgaW1wbGVtZW50YXRpb24gZG9lcyBub3QuIFNvIGxldCdzIHRocm93IGEgdXNlZnVsIGVycm9yLlxyXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgSlNPTiBodWIgcHJvdG9jb2wuIEV4cGVjdGVkIGEgc3RyaW5nLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbnB1dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dnZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbG9nZ2VyID0gTnVsbExvZ2dlci5pbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFyc2UgdGhlIG1lc3NhZ2VzXHJcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gVGV4dE1lc3NhZ2VGb3JtYXQucGFyc2UoaW5wdXQpO1xyXG4gICAgICAgIHZhciBodWJNZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbWVzc2FnZXNfMSA9IG1lc3NhZ2VzOyBfaSA8IG1lc3NhZ2VzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZXNfMVtfaV07XHJcbiAgICAgICAgICAgIHZhciBwYXJzZWRNZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRNZXNzYWdlLnR5cGUgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF5bG9hZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChwYXJzZWRNZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuSW52b2NhdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSW52b2NhdGlvbk1lc3NhZ2UocGFyc2VkTWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N0cmVhbUl0ZW1NZXNzYWdlKHBhcnNlZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0aW9uTWVzc2FnZShwYXJzZWRNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuUGluZzpcclxuICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUgdmFsdWUsIG5vIG5lZWQgdG8gdmFsaWRhdGVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ2xvc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsIG9wdGlvbmFsIHZhbHVlcywgbm8gbmVlZCB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAvLyBGdXR1cmUgcHJvdG9jb2wgY2hhbmdlcyBjYW4gYWRkIG1lc3NhZ2UgdHlwZXMsIG9sZCBjbGllbnRzIGNhbiBpZ25vcmUgdGhlbVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiVW5rbm93biBtZXNzYWdlIHR5cGUgJ1wiICsgcGFyc2VkTWVzc2FnZS50eXBlICsgXCInIGlnbm9yZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh1Yk1lc3NhZ2VzLnB1c2gocGFyc2VkTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBodWJNZXNzYWdlcztcclxuICAgIH07XHJcbiAgICAvKiogV3JpdGVzIHRoZSBzcGVjaWZpZWQge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJNZXNzYWdlfSB0byBhIHN0cmluZyBhbmQgcmV0dXJucyBpdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0h1Yk1lc3NhZ2V9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gd3JpdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyBjb250YWluaW5nIHRoZSBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBKc29uSHViUHJvdG9jb2wucHJvdG90eXBlLndyaXRlTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIFRleHRNZXNzYWdlRm9ybWF0LndyaXRlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgIH07XHJcbiAgICBKc29uSHViUHJvdG9jb2wucHJvdG90eXBlLmlzSW52b2NhdGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RW1wdHlTdHJpbmcobWVzc2FnZS50YXJnZXQsIFwiSW52YWxpZCBwYXlsb2FkIGZvciBJbnZvY2F0aW9uIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIGlmIChtZXNzYWdlLmludm9jYXRpb25JZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Tm90RW1wdHlTdHJpbmcobWVzc2FnZS5pbnZvY2F0aW9uSWQsIFwiSW52YWxpZCBwYXlsb2FkIGZvciBJbnZvY2F0aW9uIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBKc29uSHViUHJvdG9jb2wucHJvdG90eXBlLmlzU3RyZWFtSXRlbU1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RW1wdHlTdHJpbmcobWVzc2FnZS5pbnZvY2F0aW9uSWQsIFwiSW52YWxpZCBwYXlsb2FkIGZvciBTdHJlYW1JdGVtIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIGlmIChtZXNzYWdlLml0ZW0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgZm9yIFN0cmVhbUl0ZW0gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEpzb25IdWJQcm90b2NvbC5wcm90b3R5cGUuaXNDb21wbGV0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UucmVzdWx0ICYmIG1lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkIGZvciBDb21wbGV0aW9uIG1lc3NhZ2UuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1lc3NhZ2UucmVzdWx0ICYmIG1lc3NhZ2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5hc3NlcnROb3RFbXB0eVN0cmluZyhtZXNzYWdlLmVycm9yLCBcIkludmFsaWQgcGF5bG9hZCBmb3IgQ29tcGxldGlvbiBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hc3NlcnROb3RFbXB0eVN0cmluZyhtZXNzYWdlLmludm9jYXRpb25JZCwgXCJJbnZhbGlkIHBheWxvYWQgZm9yIENvbXBsZXRpb24gbWVzc2FnZS5cIik7XHJcbiAgICB9O1xyXG4gICAgSnNvbkh1YlByb3RvY29sLnByb3RvdHlwZS5hc3NlcnROb3RFbXB0eVN0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEpzb25IdWJQcm90b2NvbDtcclxufSgpKTtcclxuZXhwb3J0IHsgSnNvbkh1YlByb3RvY29sIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpzb25IdWJQcm90b2NvbC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbmltcG9ydCB7IERlZmF1bHRSZWNvbm5lY3RQb2xpY3kgfSBmcm9tIFwiLi9EZWZhdWx0UmVjb25uZWN0UG9saWN5XCI7XHJcbmltcG9ydCB7IEh0dHBDb25uZWN0aW9uIH0gZnJvbSBcIi4vSHR0cENvbm5lY3Rpb25cIjtcclxuaW1wb3J0IHsgSHViQ29ubmVjdGlvbiB9IGZyb20gXCIuL0h1YkNvbm5lY3Rpb25cIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IEpzb25IdWJQcm90b2NvbCB9IGZyb20gXCIuL0pzb25IdWJQcm90b2NvbFwiO1xyXG5pbXBvcnQgeyBOdWxsTG9nZ2VyIH0gZnJvbSBcIi4vTG9nZ2Vyc1wiO1xyXG5pbXBvcnQgeyBBcmcsIENvbnNvbGVMb2dnZXIgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcclxudmFyIExvZ0xldmVsTmFtZU1hcHBpbmcgPSB7XHJcbiAgICB0cmFjZTogTG9nTGV2ZWwuVHJhY2UsXHJcbiAgICBkZWJ1ZzogTG9nTGV2ZWwuRGVidWcsXHJcbiAgICBpbmZvOiBMb2dMZXZlbC5JbmZvcm1hdGlvbixcclxuICAgIGluZm9ybWF0aW9uOiBMb2dMZXZlbC5JbmZvcm1hdGlvbixcclxuICAgIHdhcm46IExvZ0xldmVsLldhcm5pbmcsXHJcbiAgICB3YXJuaW5nOiBMb2dMZXZlbC5XYXJuaW5nLFxyXG4gICAgZXJyb3I6IExvZ0xldmVsLkVycm9yLFxyXG4gICAgY3JpdGljYWw6IExvZ0xldmVsLkNyaXRpY2FsLFxyXG4gICAgbm9uZTogTG9nTGV2ZWwuTm9uZSxcclxufTtcclxuZnVuY3Rpb24gcGFyc2VMb2dMZXZlbChuYW1lKSB7XHJcbiAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nIHZpYSBsb3dlci1jYXNpbmdcclxuICAgIC8vIFllcywgSSBrbm93IGNhc2UtZm9sZGluZyBpcyBhIGNvbXBsaWNhdGVkIHByb2JsZW0gaW4gVW5pY29kZSwgYnV0IHdlIG9ubHkgc3VwcG9ydFxyXG4gICAgLy8gdGhlIEFTQ0lJIHN0cmluZ3MgZGVmaW5lZCBpbiBMb2dMZXZlbE5hbWVNYXBwaW5nIGFueXdheSwgc28gaXQncyBmaW5lIC1hbnVyc2UuXHJcbiAgICB2YXIgbWFwcGluZyA9IExvZ0xldmVsTmFtZU1hcHBpbmdbbmFtZS50b0xvd2VyQ2FzZSgpXTtcclxuICAgIGlmICh0eXBlb2YgbWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiBtYXBwaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBsb2cgbGV2ZWw6IFwiICsgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqIEEgYnVpbGRlciBmb3IgY29uZmlndXJpbmcge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdWJDb25uZWN0aW9ufSBpbnN0YW5jZXMuICovXHJcbnZhciBIdWJDb25uZWN0aW9uQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEh1YkNvbm5lY3Rpb25CdWlsZGVyKCkge1xyXG4gICAgfVxyXG4gICAgSHViQ29ubmVjdGlvbkJ1aWxkZXIucHJvdG90eXBlLmNvbmZpZ3VyZUxvZ2dpbmcgPSBmdW5jdGlvbiAobG9nZ2luZykge1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKGxvZ2dpbmcsIFwibG9nZ2luZ1wiKTtcclxuICAgICAgICBpZiAoaXNMb2dnZXIobG9nZ2luZykpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG9nZ2luZyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgbG9nTGV2ZWwgPSBwYXJzZUxvZ0xldmVsKGxvZ2dpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKGxvZ0xldmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIobG9nZ2luZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIEh1YkNvbm5lY3Rpb25CdWlsZGVyLnByb3RvdHlwZS53aXRoVXJsID0gZnVuY3Rpb24gKHVybCwgdHJhbnNwb3J0VHlwZU9yT3B0aW9ucykge1xyXG4gICAgICAgIEFyZy5pc1JlcXVpcmVkKHVybCwgXCJ1cmxcIik7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgLy8gRmxvdy10eXBpbmcga25vd3Mgd2hlcmUgaXQncyBhdC4gU2luY2UgSHR0cFRyYW5zcG9ydFR5cGUgaXMgYSBudW1iZXIgYW5kIElIdHRwQ29ubmVjdGlvbk9wdGlvbnMgaXMgZ3VhcmFudGVlZFxyXG4gICAgICAgIC8vIHRvIGJlIGFuIG9iamVjdCwgd2Uga25vdyAoYXMgZG9lcyBUeXBlU2NyaXB0KSB0aGlzIGNvbXBhcmlzb24gaXMgYWxsIHdlIG5lZWQgdG8gZmlndXJlIG91dCB3aGljaCBvdmVybG9hZCB3YXMgY2FsbGVkLlxyXG4gICAgICAgIGlmICh0eXBlb2YgdHJhbnNwb3J0VHlwZU9yT3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucyA9IF9fYXNzaWduKHt9LCB0aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucywgdHJhbnNwb3J0VHlwZU9yT3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucyA9IF9fYXNzaWduKHt9LCB0aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucywgeyB0cmFuc3BvcnQ6IHRyYW5zcG9ydFR5cGVPck9wdGlvbnMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKiBDb25maWd1cmVzIHRoZSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb259IHRvIHVzZSB0aGUgc3BlY2lmaWVkIEh1YiBQcm90b2NvbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0lIdWJQcm90b2NvbH0gcHJvdG9jb2wgVGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuSUh1YlByb3RvY29sfSBpbXBsZW1lbnRhdGlvbiB0byB1c2UuXHJcbiAgICAgKi9cclxuICAgIEh1YkNvbm5lY3Rpb25CdWlsZGVyLnByb3RvdHlwZS53aXRoSHViUHJvdG9jb2wgPSBmdW5jdGlvbiAocHJvdG9jb2wpIHtcclxuICAgICAgICBBcmcuaXNSZXF1aXJlZChwcm90b2NvbCwgXCJwcm90b2NvbFwiKTtcclxuICAgICAgICB0aGlzLnByb3RvY29sID0gcHJvdG9jb2w7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgSHViQ29ubmVjdGlvbkJ1aWxkZXIucHJvdG90eXBlLndpdGhBdXRvbWF0aWNSZWNvbm5lY3QgPSBmdW5jdGlvbiAocmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFBvbGljeSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHJlY29ubmVjdFBvbGljeSBoYXMgYWxyZWFkeSBiZWVuIHNldC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdFBvbGljeSA9IG5ldyBEZWZhdWx0UmVjb25uZWN0UG9saWN5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeSkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RQb2xpY3kgPSBuZXcgRGVmYXVsdFJlY29ubmVjdFBvbGljeShyZXRyeURlbGF5c09yUmVjb25uZWN0UG9saWN5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0UG9saWN5ID0gcmV0cnlEZWxheXNPclJlY29ubmVjdFBvbGljeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqIENyZWF0ZXMgYSB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb259IGZyb20gdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBzcGVjaWZpZWQgaW4gdGhpcyBidWlsZGVyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtIdWJDb25uZWN0aW9ufSBUaGUgY29uZmlndXJlZCB7QGxpbmsgQG1pY3Jvc29mdC9zaWduYWxyLkh1YkNvbm5lY3Rpb259LlxyXG4gICAgICovXHJcbiAgICBIdWJDb25uZWN0aW9uQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gSWYgaHR0cENvbm5lY3Rpb25PcHRpb25zIGhhcyBhIGxvZ2dlciwgdXNlIGl0LiBPdGhlcndpc2UsIG92ZXJyaWRlIGl0IHdpdGggdGhlIG9uZVxyXG4gICAgICAgIC8vIHByb3ZpZGVkIHRvIGNvbmZpZ3VyZUxvZ2dlclxyXG4gICAgICAgIHZhciBodHRwQ29ubmVjdGlvbk9wdGlvbnMgPSB0aGlzLmh0dHBDb25uZWN0aW9uT3B0aW9ucyB8fCB7fTtcclxuICAgICAgICAvLyBJZiBpdCdzICdudWxsJywgdGhlIHVzZXIgKipleHBsaWNpdGx5KiogYXNrZWQgZm9yIG51bGwsIGRvbid0IG1lc3Mgd2l0aCBpdC5cclxuICAgICAgICBpZiAoaHR0cENvbm5lY3Rpb25PcHRpb25zLmxvZ2dlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG91ciBsb2dnZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHRoYXQncyBPSywgdGhlIEh0dHBDb25uZWN0aW9uIGNvbnN0cnVjdG9yIHdpbGwgaGFuZGxlIGl0LlxyXG4gICAgICAgICAgICBodHRwQ29ubmVjdGlvbk9wdGlvbnMubG9nZ2VyID0gdGhpcy5sb2dnZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdyBjcmVhdGUgdGhlIGNvbm5lY3Rpb25cclxuICAgICAgICBpZiAoIXRoaXMudXJsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAnSHViQ29ubmVjdGlvbkJ1aWxkZXIud2l0aFVybCcgbWV0aG9kIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBidWlsZGluZyB0aGUgY29ubmVjdGlvbi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gbmV3IEh0dHBDb25uZWN0aW9uKHRoaXMudXJsLCBodHRwQ29ubmVjdGlvbk9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBIdWJDb25uZWN0aW9uLmNyZWF0ZShjb25uZWN0aW9uLCB0aGlzLmxvZ2dlciB8fCBOdWxsTG9nZ2VyLmluc3RhbmNlLCB0aGlzLnByb3RvY29sIHx8IG5ldyBKc29uSHViUHJvdG9jb2woKSwgdGhpcy5yZWNvbm5lY3RQb2xpY3kpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIdWJDb25uZWN0aW9uQnVpbGRlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgSHViQ29ubmVjdGlvbkJ1aWxkZXIgfTtcclxuZnVuY3Rpb24gaXNMb2dnZXIobG9nZ2VyKSB7XHJcbiAgICByZXR1cm4gbG9nZ2VyLmxvZyAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh1YkNvbm5lY3Rpb25CdWlsZGVyLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLy8gVmVyc2lvbiB0b2tlbiB0aGF0IHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIHByZXBhY2sgY29tbWFuZFxyXG4vKiogVGhlIHZlcnNpb24gb2YgdGhlIFNpZ25hbFIgY2xpZW50LiAqL1xyXG5leHBvcnQgdmFyIFZFUlNJT04gPSBcIjMuMC4wXCI7XHJcbmV4cG9ydCB7IEFib3J0RXJyb3IsIEh0dHBFcnJvciwgVGltZW91dEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmV4cG9ydCB7IEh0dHBDbGllbnQsIEh0dHBSZXNwb25zZSB9IGZyb20gXCIuL0h0dHBDbGllbnRcIjtcclxuZXhwb3J0IHsgRGVmYXVsdEh0dHBDbGllbnQgfSBmcm9tIFwiLi9EZWZhdWx0SHR0cENsaWVudFwiO1xyXG5leHBvcnQgeyBIdWJDb25uZWN0aW9uLCBIdWJDb25uZWN0aW9uU3RhdGUgfSBmcm9tIFwiLi9IdWJDb25uZWN0aW9uXCI7XHJcbmV4cG9ydCB7IEh1YkNvbm5lY3Rpb25CdWlsZGVyIH0gZnJvbSBcIi4vSHViQ29ubmVjdGlvbkJ1aWxkZXJcIjtcclxuZXhwb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tIFwiLi9JSHViUHJvdG9jb2xcIjtcclxuZXhwb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmV4cG9ydCB7IEh0dHBUcmFuc3BvcnRUeXBlLCBUcmFuc2ZlckZvcm1hdCB9IGZyb20gXCIuL0lUcmFuc3BvcnRcIjtcclxuZXhwb3J0IHsgTnVsbExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlcnNcIjtcclxuZXhwb3J0IHsgSnNvbkh1YlByb3RvY29sIH0gZnJvbSBcIi4vSnNvbkh1YlByb3RvY29sXCI7XHJcbmV4cG9ydCB7IFN1YmplY3QgfSBmcm9tIFwiLi9TdWJqZWN0XCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbi8qKiBFcnJvciB0aHJvd24gd2hlbiBhbiBIVFRQIHJlcXVlc3QgZmFpbHMuICovXHJcbnZhciBIdHRwRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHR0cEVycm9yLCBfc3VwZXIpO1xyXG4gICAgLyoqIENvbnN0cnVjdHMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEBtaWNyb3NvZnQvc2lnbmFsci5IdHRwRXJyb3J9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvck1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c0NvZGUgVGhlIEhUVFAgc3RhdHVzIGNvZGUgcmVwcmVzZW50ZWQgYnkgdGhpcyBlcnJvci5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gSHR0cEVycm9yKGVycm9yTWVzc2FnZSwgc3RhdHVzQ29kZSkge1xyXG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0cnVlUHJvdG8gPSBfbmV3VGFyZ2V0LnByb3RvdHlwZTtcclxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yTWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcclxuICAgICAgICAvLyBXb3JrYXJvdW5kIGlzc3VlIGluIFR5cGVzY3JpcHQgY29tcGlsZXJcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEzOTY1I2lzc3VlY29tbWVudC0yNzg1NzAyMDBcclxuICAgICAgICBfdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh0dHBFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnQgeyBIdHRwRXJyb3IgfTtcclxuLyoqIEVycm9yIHRocm93biB3aGVuIGEgdGltZW91dCBlbGFwc2VzLiAqL1xyXG52YXIgVGltZW91dEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFRpbWVvdXRFcnJvciwgX3N1cGVyKTtcclxuICAgIC8qKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuVGltZW91dEVycm9yfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JNZXNzYWdlIEEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gVGltZW91dEVycm9yKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlID09PSB2b2lkIDApIHsgZXJyb3JNZXNzYWdlID0gXCJBIHRpbWVvdXQgb2NjdXJyZWQuXCI7IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0cnVlUHJvdG8gPSBfbmV3VGFyZ2V0LnByb3RvdHlwZTtcclxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVycm9yTWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICAvLyBXb3JrYXJvdW5kIGlzc3VlIGluIFR5cGVzY3JpcHQgY29tcGlsZXJcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzEzOTY1I2lzc3VlY29tbWVudC0yNzg1NzAyMDBcclxuICAgICAgICBfdGhpcy5fX3Byb3RvX18gPSB0cnVlUHJvdG87XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRpbWVvdXRFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnQgeyBUaW1lb3V0RXJyb3IgfTtcclxuLyoqIEVycm9yIHRocm93biB3aGVuIGFuIGFjdGlvbiBpcyBhYm9ydGVkLiAqL1xyXG52YXIgQWJvcnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBYm9ydEVycm9yLCBfc3VwZXIpO1xyXG4gICAgLyoqIENvbnN0cnVjdHMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEFib3J0RXJyb3J9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvck1lc3NhZ2UgQSBkZXNjcmlwdGl2ZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBBYm9ydEVycm9yKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlID09PSB2b2lkIDApIHsgZXJyb3JNZXNzYWdlID0gXCJBbiBhYm9ydCBvY2N1cnJlZC5cIjsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHRydWVQcm90byA9IF9uZXdUYXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3JNZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIC8vIFdvcmthcm91bmQgaXNzdWUgaW4gVHlwZXNjcmlwdCBjb21waWxlclxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTM5NjUjaXNzdWVjb21tZW50LTI3ODU3MDIwMFxyXG4gICAgICAgIF90aGlzLl9fcHJvdG9fXyA9IHRydWVQcm90bztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQWJvcnRFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnQgeyBBYm9ydEVycm9yIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVycm9ycy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbi8qKiBSZXByZXNlbnRzIGFuIEhUVFAgcmVzcG9uc2UuICovXHJcbnZhciBIdHRwUmVzcG9uc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIdHRwUmVzcG9uc2Uoc3RhdHVzQ29kZSwgc3RhdHVzVGV4dCwgY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh0dHBSZXNwb25zZTtcclxufSgpKTtcclxuZXhwb3J0IHsgSHR0cFJlc3BvbnNlIH07XHJcbi8qKiBBYnN0cmFjdGlvbiBvdmVyIGFuIEhUVFAgY2xpZW50LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIGFuIGFic3RyYWN0aW9uIG92ZXIgYW4gSFRUUCBjbGllbnQgc28gdGhhdCBhIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgcHJvdmlkZWQgb24gZGlmZmVyZW50IHBsYXRmb3Jtcy5cclxuICovXHJcbnZhciBIdHRwQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSHR0cENsaWVudCgpIHtcclxuICAgIH1cclxuICAgIEh0dHBDbGllbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG1ldGhvZDogXCJHRVRcIiwgdXJsOiB1cmwgfSkpO1xyXG4gICAgfTtcclxuICAgIEh0dHBDbGllbnQucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZChfX2Fzc2lnbih7fSwgb3B0aW9ucywgeyBtZXRob2Q6IFwiUE9TVFwiLCB1cmw6IHVybCB9KSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cENsaWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbmQoX19hc3NpZ24oe30sIG9wdGlvbnMsIHsgbWV0aG9kOiBcIkRFTEVURVwiLCB1cmw6IHVybCB9KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqIEdldHMgYWxsIGNvb2tpZXMgdGhhdCBhcHBseSB0byB0aGUgc3BlY2lmaWVkIFVSTC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdXJsIFRoZSBVUkwgdGhhdCB0aGUgY29va2llcyBhcmUgdmFsaWQgZm9yLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgY29udGFpbmluZyBhbGwgdGhlIGtleS12YWx1ZSBjb29raWUgcGFpcnMgZm9yIHRoZSBzcGVjaWZpZWQgVVJMLlxyXG4gICAgICovXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBIdHRwQ2xpZW50LnByb3RvdHlwZS5nZXRDb29raWVTdHJpbmcgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh0dHBDbGllbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEh0dHBDbGllbnQgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SHR0cENsaWVudC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbi8qKiBBIGxvZ2dlciB0aGF0IGRvZXMgbm90aGluZyB3aGVuIGxvZyBtZXNzYWdlcyBhcmUgc2VudCB0byBpdC4gKi9cclxudmFyIE51bGxMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBOdWxsTG9nZ2VyKCkge1xyXG4gICAgfVxyXG4gICAgLyoqIEBpbmhlcml0RG9jICovXHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIE51bGxMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChfbG9nTGV2ZWwsIF9tZXNzYWdlKSB7XHJcbiAgICB9O1xyXG4gICAgLyoqIFRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBAbWljcm9zb2Z0L3NpZ25hbHIuTnVsbExvZ2dlcn0uICovXHJcbiAgICBOdWxsTG9nZ2VyLmluc3RhbmNlID0gbmV3IE51bGxMb2dnZXIoKTtcclxuICAgIHJldHVybiBOdWxsTG9nZ2VyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBOdWxsTG9nZ2VyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvZ2dlcnMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSAuTkVUIEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4vLyBOb3QgZXhwb3J0ZWQgZnJvbSBpbmRleFxyXG4vKiogQHByaXZhdGUgKi9cclxudmFyIFRleHRNZXNzYWdlRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGV4dE1lc3NhZ2VGb3JtYXQoKSB7XHJcbiAgICB9XHJcbiAgICBUZXh0TWVzc2FnZUZvcm1hdC53cml0ZSA9IGZ1bmN0aW9uIChvdXRwdXQpIHtcclxuICAgICAgICByZXR1cm4gXCJcIiArIG91dHB1dCArIFRleHRNZXNzYWdlRm9ybWF0LlJlY29yZFNlcGFyYXRvcjtcclxuICAgIH07XHJcbiAgICBUZXh0TWVzc2FnZUZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgIGlmIChpbnB1dFtpbnB1dC5sZW5ndGggLSAxXSAhPT0gVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaXMgaW5jb21wbGV0ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtZXNzYWdlcyA9IGlucHV0LnNwbGl0KFRleHRNZXNzYWdlRm9ybWF0LlJlY29yZFNlcGFyYXRvcik7XHJcbiAgICAgICAgbWVzc2FnZXMucG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xyXG4gICAgfTtcclxuICAgIFRleHRNZXNzYWdlRm9ybWF0LlJlY29yZFNlcGFyYXRvckNvZGUgPSAweDFlO1xyXG4gICAgVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yID0gU3RyaW5nLmZyb21DaGFyQ29kZShUZXh0TWVzc2FnZUZvcm1hdC5SZWNvcmRTZXBhcmF0b3JDb2RlKTtcclxuICAgIHJldHVybiBUZXh0TWVzc2FnZUZvcm1hdDtcclxufSgpKTtcclxuZXhwb3J0IHsgVGV4dE1lc3NhZ2VGb3JtYXQgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dE1lc3NhZ2VGb3JtYXQuanMubWFwIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpXG52YXIgQnVmZmVyID0gYnVmZmVyLkJ1ZmZlclxuXG4vLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzXG5mdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldXG4gIH1cbn1cbmlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXJcbn0gZWxzZSB7XG4gIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpXG4gIGNvcHlQcm9wcyhidWZmZXIsIGV4cG9ydHMpXG4gIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlclxufVxuXG5mdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBDb3B5IHN0YXRpYyBtZXRob2RzIGZyb20gQnVmZmVyXG5jb3B5UHJvcHMoQnVmZmVyLCBTYWZlQnVmZmVyKVxuXG5TYWZlQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cblNhZmVCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHZhciBidWYgPSBCdWZmZXIoc2l6ZSlcbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBidWYuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmZpbGwoZmlsbClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYnVmLmZpbGwoMClcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihzaXplKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gYnVmZmVyLlNsb3dCdWZmZXIoc2l6ZSlcbn1cbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdzYWZlLWJ1ZmZlcicpLkJ1ZmZlclxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpXG52YXIgYmwgPSByZXF1aXJlKCdibCcpXG52YXIgc3RyZWFtcyA9IHJlcXVpcmUoJy4vbGliL3N0cmVhbXMnKVxudmFyIGJ1aWxkRGVjb2RlID0gcmVxdWlyZSgnLi9saWIvZGVjb2RlcicpXG52YXIgYnVpbGRFbmNvZGUgPSByZXF1aXJlKCcuL2xpYi9lbmNvZGVyJylcblxuZnVuY3Rpb24gbXNncGFjayAob3B0aW9ucykge1xuICB2YXIgZW5jb2RpbmdUeXBlcyA9IFtdXG4gIHZhciBkZWNvZGluZ1R5cGVzID0gW11cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7XG4gICAgZm9yY2VGbG9hdDY0OiBmYWxzZSxcbiAgICBjb21wYXRpYmlsaXR5TW9kZTogZmFsc2UsXG4gICAgZGlzYWJsZVRpbWVzdGFtcEVuY29kaW5nOiBmYWxzZSAvLyBpZiB0cnVlLCBza2lwcyBlbmNvZGluZyBEYXRlcyB1c2luZyB0aGUgbXNncGFjayB0aW1lc3RhbXAgZXh0IGZvcm1hdCAoLTEpXG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlckVuY29kZXIgKGNoZWNrLCBlbmNvZGUpIHtcbiAgICBhc3NlcnQoY2hlY2ssICdtdXN0IGhhdmUgYW4gZW5jb2RlIGZ1bmN0aW9uJylcbiAgICBhc3NlcnQoZW5jb2RlLCAnbXVzdCBoYXZlIGFuIGVuY29kZSBmdW5jdGlvbicpXG5cbiAgICBlbmNvZGluZ1R5cGVzLnB1c2goe1xuICAgICAgY2hlY2s6IGNoZWNrLCBlbmNvZGU6IGVuY29kZVxuICAgIH0pXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXJEZWNvZGVyICh0eXBlLCBkZWNvZGUpIHtcbiAgICBhc3NlcnQodHlwZSA+PSAwLCAnbXVzdCBoYXZlIGEgbm9uLW5lZ2F0aXZlIHR5cGUnKVxuICAgIGFzc2VydChkZWNvZGUsICdtdXN0IGhhdmUgYSBkZWNvZGUgZnVuY3Rpb24nKVxuXG4gICAgZGVjb2RpbmdUeXBlcy5wdXNoKHtcbiAgICAgIHR5cGU6IHR5cGUsIGRlY29kZTogZGVjb2RlXG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlciAodHlwZSwgY29uc3RydWN0b3IsIGVuY29kZSwgZGVjb2RlKSB7XG4gICAgYXNzZXJ0KGNvbnN0cnVjdG9yLCAnbXVzdCBoYXZlIGEgY29uc3RydWN0b3InKVxuICAgIGFzc2VydChlbmNvZGUsICdtdXN0IGhhdmUgYW4gZW5jb2RlIGZ1bmN0aW9uJylcbiAgICBhc3NlcnQodHlwZSA+PSAwLCAnbXVzdCBoYXZlIGEgbm9uLW5lZ2F0aXZlIHR5cGUnKVxuICAgIGFzc2VydChkZWNvZGUsICdtdXN0IGhhdmUgYSBkZWNvZGUgZnVuY3Rpb24nKVxuXG4gICAgZnVuY3Rpb24gY2hlY2sgKG9iaikge1xuICAgICAgcmV0dXJuIChvYmogaW5zdGFuY2VvZiBjb25zdHJ1Y3RvcilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZUVuY29kZSAob2JqKSB7XG4gICAgICB2YXIgYnVmID0gYmwoKVxuICAgICAgdmFyIGhlYWRlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxKVxuXG4gICAgICBoZWFkZXIud3JpdGVJbnQ4KHR5cGUsIDApXG5cbiAgICAgIGJ1Zi5hcHBlbmQoaGVhZGVyKVxuICAgICAgYnVmLmFwcGVuZChlbmNvZGUob2JqKSlcblxuICAgICAgcmV0dXJuIGJ1ZlxuICAgIH1cblxuICAgIHRoaXMucmVnaXN0ZXJFbmNvZGVyKGNoZWNrLCByZUVuY29kZSlcbiAgICB0aGlzLnJlZ2lzdGVyRGVjb2Rlcih0eXBlLCBkZWNvZGUpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlbmNvZGU6IGJ1aWxkRW5jb2RlKGVuY29kaW5nVHlwZXMsIG9wdGlvbnMuZm9yY2VGbG9hdDY0LCBvcHRpb25zLmNvbXBhdGliaWxpdHlNb2RlLCBvcHRpb25zLmRpc2FibGVUaW1lc3RhbXBFbmNvZGluZyksXG4gICAgZGVjb2RlOiBidWlsZERlY29kZShkZWNvZGluZ1R5cGVzKSxcbiAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgcmVnaXN0ZXJFbmNvZGVyOiByZWdpc3RlckVuY29kZXIsXG4gICAgcmVnaXN0ZXJEZWNvZGVyOiByZWdpc3RlckRlY29kZXIsXG4gICAgZW5jb2Rlcjogc3RyZWFtcy5lbmNvZGVyLFxuICAgIGRlY29kZXI6IHN0cmVhbXMuZGVjb2RlcixcbiAgICAvLyBuZWVkZWQgZm9yIGxldmVsdXAgc3VwcG9ydFxuICAgIGJ1ZmZlcjogdHJ1ZSxcbiAgICB0eXBlOiAnbXNncGFjazUnLFxuICAgIEluY29tcGxldGVCdWZmZXJFcnJvcjogYnVpbGREZWNvZGUuSW5jb21wbGV0ZUJ1ZmZlckVycm9yXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtc2dwYWNrXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgcG5hID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfXJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IER1cGxleDtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcbnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV93cml0YWJsZScpO1xuXG51dGlsLmluaGVyaXRzKER1cGxleCwgUmVhZGFibGUpO1xuXG57XG4gIC8vIGF2b2lkIHNjb3BlIGNyZWVwLCB0aGUga2V5cyBhcnJheSBjYW4gdGhlbiBiZSBjb2xsZWN0ZWRcbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKFdyaXRhYmxlLnByb3RvdHlwZSk7XG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG5cbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgdGhpcy5hbGxvd0hhbGZPcGVuID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG5cbiAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICB9XG59KTtcblxuLy8gdGhlIG5vLWhhbGYtb3BlbiBlbmZvcmNlclxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIGlmIHdlIGFsbG93IGhhbGYtb3BlbiBzdGF0ZSwgb3IgaWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsXG4gIC8vIHRoZW4gd2UncmUgb2suXG4gIGlmICh0aGlzLmFsbG93SGFsZk9wZW4gfHwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuO1xuXG4gIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi5cbiAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suXG4gIHBuYS5uZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25FbmROVChzZWxmKSB7XG4gIHNlbGYuZW5kKCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5cbkR1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLnB1c2gobnVsbCk7XG4gIHRoaXMuZW5kKCk7XG5cbiAgcG5hLm5leHRUaWNrKGNiLCBlcnIpO1xufTsiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IEJ1ZmZlci5pc0J1ZmZlcjtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuIiwiJ3VzZSBzdHJpY3QnXG52YXIgRHVwbGV4U3RyZWFtID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtJykuRHVwbGV4XG4gICwgdXRpbCAgICAgICAgID0gcmVxdWlyZSgndXRpbCcpXG4gICwgQnVmZmVyICAgICAgID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXJcblxuZnVuY3Rpb24gQnVmZmVyTGlzdCAoY2FsbGJhY2spIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlckxpc3QpKVxuICAgIHJldHVybiBuZXcgQnVmZmVyTGlzdChjYWxsYmFjaylcblxuICB0aGlzLl9idWZzICA9IFtdXG4gIHRoaXMubGVuZ3RoID0gMFxuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2tcblxuICAgIHZhciBwaXBlciA9IGZ1bmN0aW9uIHBpcGVyIChlcnIpIHtcbiAgICAgIGlmICh0aGlzLl9jYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayhlcnIpXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbFxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKVxuXG4gICAgdGhpcy5vbigncGlwZScsIGZ1bmN0aW9uIG9uUGlwZSAoc3JjKSB7XG4gICAgICBzcmMub24oJ2Vycm9yJywgcGlwZXIpXG4gICAgfSlcbiAgICB0aGlzLm9uKCd1bnBpcGUnLCBmdW5jdGlvbiBvblVucGlwZSAoc3JjKSB7XG4gICAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgcGlwZXIpXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFwcGVuZChjYWxsYmFjaylcbiAgfVxuXG4gIER1cGxleFN0cmVhbS5jYWxsKHRoaXMpXG59XG5cblxudXRpbC5pbmhlcml0cyhCdWZmZXJMaXN0LCBEdXBsZXhTdHJlYW0pXG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuX29mZnNldCA9IGZ1bmN0aW9uIF9vZmZzZXQgKG9mZnNldCkge1xuICB2YXIgdG90ID0gMCwgaSA9IDAsIF90XG4gIGlmIChvZmZzZXQgPT09IDApIHJldHVybiBbIDAsIDAgXVxuICBmb3IgKDsgaSA8IHRoaXMuX2J1ZnMubGVuZ3RoOyBpKyspIHtcbiAgICBfdCA9IHRvdCArIHRoaXMuX2J1ZnNbaV0ubGVuZ3RoXG4gICAgaWYgKG9mZnNldCA8IF90IHx8IGkgPT0gdGhpcy5fYnVmcy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gWyBpLCBvZmZzZXQgLSB0b3QgXVxuICAgIH1cbiAgICB0b3QgPSBfdFxuICB9XG59XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLl9yZXZlcnNlT2Zmc2V0ID0gZnVuY3Rpb24gKGJsT2Zmc2V0KSB7XG4gIHZhciBidWZmZXJJZCA9IGJsT2Zmc2V0WzBdXG4gIHZhciBvZmZzZXQgPSBibE9mZnNldFsxXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcklkOyBpKyspIHtcbiAgICBvZmZzZXQgKz0gdGhpcy5fYnVmc1tpXS5sZW5ndGhcbiAgfVxuICByZXR1cm4gb2Zmc2V0XG59XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZCAoYnVmKSB7XG4gIHZhciBpID0gMFxuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgIHRoaXMuX2FwcGVuZEJ1ZmZlcihidWYpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShidWYpKSB7XG4gICAgZm9yICg7IGkgPCBidWYubGVuZ3RoOyBpKyspXG4gICAgICB0aGlzLmFwcGVuZChidWZbaV0pXG4gIH0gZWxzZSBpZiAoYnVmIGluc3RhbmNlb2YgQnVmZmVyTGlzdCkge1xuICAgIC8vIHVud3JhcCBhcmd1bWVudCBpbnRvIGluZGl2aWR1YWwgQnVmZmVyTGlzdHNcbiAgICBmb3IgKDsgaSA8IGJ1Zi5fYnVmcy5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuYXBwZW5kKGJ1Zi5fYnVmc1tpXSlcbiAgfSBlbHNlIGlmIChidWYgIT0gbnVsbCkge1xuICAgIC8vIGNvZXJjZSBudW1iZXIgYXJndW1lbnRzIHRvIHN0cmluZ3MsIHNpbmNlIEJ1ZmZlcihudW1iZXIpIGRvZXNcbiAgICAvLyB1bmluaXRpYWxpemVkIG1lbW9yeSBhbGxvY2F0aW9uXG4gICAgaWYgKHR5cGVvZiBidWYgPT0gJ251bWJlcicpXG4gICAgICBidWYgPSBidWYudG9TdHJpbmcoKVxuXG4gICAgdGhpcy5fYXBwZW5kQnVmZmVyKEJ1ZmZlci5mcm9tKGJ1ZikpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLl9hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiBhcHBlbmRCdWZmZXIgKGJ1Zikge1xuICB0aGlzLl9idWZzLnB1c2goYnVmKVxuICB0aGlzLmxlbmd0aCArPSBidWYubGVuZ3RoXG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChidWYsIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICB0aGlzLl9hcHBlbmRCdWZmZXIoYnVmKVxuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJylcbiAgICBjYWxsYmFjaygpXG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiBfcmVhZCAoc2l6ZSkge1xuICBpZiAoIXRoaXMubGVuZ3RoKVxuICAgIHJldHVybiB0aGlzLnB1c2gobnVsbClcblxuICBzaXplID0gTWF0aC5taW4oc2l6ZSwgdGhpcy5sZW5ndGgpXG4gIHRoaXMucHVzaCh0aGlzLnNsaWNlKDAsIHNpemUpKVxuICB0aGlzLmNvbnN1bWUoc2l6ZSlcbn1cblxuXG5CdWZmZXJMaXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiBlbmQgKGNodW5rKSB7XG4gIER1cGxleFN0cmVhbS5wcm90b3R5cGUuZW5kLmNhbGwodGhpcywgY2h1bmspXG5cbiAgaWYgKHRoaXMuX2NhbGxiYWNrKSB7XG4gICAgdGhpcy5fY2FsbGJhY2sobnVsbCwgdGhpcy5zbGljZSgpKVxuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbFxuICB9XG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCkge1xuICBpZiAoaW5kZXggPiB0aGlzLmxlbmd0aCB8fCBpbmRleCA8IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldChpbmRleClcbiAgcmV0dXJuIHRoaXMuX2J1ZnNbb2Zmc2V0WzBdXVtvZmZzZXRbMV1dXG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICBpZiAodHlwZW9mIHN0YXJ0ID09ICdudW1iZXInICYmIHN0YXJ0IDwgMClcbiAgICBzdGFydCArPSB0aGlzLmxlbmd0aFxuICBpZiAodHlwZW9mIGVuZCA9PSAnbnVtYmVyJyAmJiBlbmQgPCAwKVxuICAgIGVuZCArPSB0aGlzLmxlbmd0aFxuICByZXR1cm4gdGhpcy5jb3B5KG51bGwsIDAsIHN0YXJ0LCBlbmQpXG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKGRzdCwgZHN0U3RhcnQsIHNyY1N0YXJ0LCBzcmNFbmQpIHtcbiAgaWYgKHR5cGVvZiBzcmNTdGFydCAhPSAnbnVtYmVyJyB8fCBzcmNTdGFydCA8IDApXG4gICAgc3JjU3RhcnQgPSAwXG4gIGlmICh0eXBlb2Ygc3JjRW5kICE9ICdudW1iZXInIHx8IHNyY0VuZCA+IHRoaXMubGVuZ3RoKVxuICAgIHNyY0VuZCA9IHRoaXMubGVuZ3RoXG4gIGlmIChzcmNTdGFydCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm4gZHN0IHx8IEJ1ZmZlci5hbGxvYygwKVxuICBpZiAoc3JjRW5kIDw9IDApXG4gICAgcmV0dXJuIGRzdCB8fCBCdWZmZXIuYWxsb2MoMClcblxuICB2YXIgY29weSAgID0gISFkc3RcbiAgICAsIG9mZiAgICA9IHRoaXMuX29mZnNldChzcmNTdGFydClcbiAgICAsIGxlbiAgICA9IHNyY0VuZCAtIHNyY1N0YXJ0XG4gICAgLCBieXRlcyAgPSBsZW5cbiAgICAsIGJ1Zm9mZiA9IChjb3B5ICYmIGRzdFN0YXJ0KSB8fCAwXG4gICAgLCBzdGFydCAgPSBvZmZbMV1cbiAgICAsIGxcbiAgICAsIGlcblxuICAvLyBjb3B5L3NsaWNlIGV2ZXJ5dGhpbmdcbiAgaWYgKHNyY1N0YXJ0ID09PSAwICYmIHNyY0VuZCA9PSB0aGlzLmxlbmd0aCkge1xuICAgIGlmICghY29weSkgeyAvLyBzbGljZSwgYnV0IGZ1bGwgY29uY2F0IGlmIG11bHRpcGxlIGJ1ZmZlcnNcbiAgICAgIHJldHVybiB0aGlzLl9idWZzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IHRoaXMuX2J1ZnNbMF1cbiAgICAgICAgOiBCdWZmZXIuY29uY2F0KHRoaXMuX2J1ZnMsIHRoaXMubGVuZ3RoKVxuICAgIH1cblxuICAgIC8vIGNvcHksIG5lZWQgdG8gY29weSBpbmRpdmlkdWFsIGJ1ZmZlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5fYnVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fYnVmc1tpXS5jb3B5KGRzdCwgYnVmb2ZmKVxuICAgICAgYnVmb2ZmICs9IHRoaXMuX2J1ZnNbaV0ubGVuZ3RoXG4gICAgfVxuXG4gICAgcmV0dXJuIGRzdFxuICB9XG5cbiAgLy8gZWFzeSwgY2hlYXAgY2FzZSB3aGVyZSBpdCdzIGEgc3Vic2V0IG9mIG9uZSBvZiB0aGUgYnVmZmVyc1xuICBpZiAoYnl0ZXMgPD0gdGhpcy5fYnVmc1tvZmZbMF1dLmxlbmd0aCAtIHN0YXJ0KSB7XG4gICAgcmV0dXJuIGNvcHlcbiAgICAgID8gdGhpcy5fYnVmc1tvZmZbMF1dLmNvcHkoZHN0LCBkc3RTdGFydCwgc3RhcnQsIHN0YXJ0ICsgYnl0ZXMpXG4gICAgICA6IHRoaXMuX2J1ZnNbb2ZmWzBdXS5zbGljZShzdGFydCwgc3RhcnQgKyBieXRlcylcbiAgfVxuXG4gIGlmICghY29weSkgLy8gYSBzbGljZSwgd2UgbmVlZCBzb21ldGhpbmcgdG8gY29weSBpbiB0b1xuICAgIGRzdCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW4pXG5cbiAgZm9yIChpID0gb2ZmWzBdOyBpIDwgdGhpcy5fYnVmcy5sZW5ndGg7IGkrKykge1xuICAgIGwgPSB0aGlzLl9idWZzW2ldLmxlbmd0aCAtIHN0YXJ0XG5cbiAgICBpZiAoYnl0ZXMgPiBsKSB7XG4gICAgICB0aGlzLl9idWZzW2ldLmNvcHkoZHN0LCBidWZvZmYsIHN0YXJ0KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idWZzW2ldLmNvcHkoZHN0LCBidWZvZmYsIHN0YXJ0LCBzdGFydCArIGJ5dGVzKVxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBidWZvZmYgKz0gbFxuICAgIGJ5dGVzIC09IGxcblxuICAgIGlmIChzdGFydClcbiAgICAgIHN0YXJ0ID0gMFxuICB9XG5cbiAgcmV0dXJuIGRzdFxufVxuXG5CdWZmZXJMaXN0LnByb3RvdHlwZS5zaGFsbG93U2xpY2UgPSBmdW5jdGlvbiBzaGFsbG93U2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgc3RhcnQgPSBzdGFydCB8fCAwXG4gIGVuZCA9IHR5cGVvZiBlbmQgIT09ICdudW1iZXInID8gdGhpcy5sZW5ndGggOiBlbmRcblxuICBpZiAoc3RhcnQgPCAwKVxuICAgIHN0YXJ0ICs9IHRoaXMubGVuZ3RoXG4gIGlmIChlbmQgPCAwKVxuICAgIGVuZCArPSB0aGlzLmxlbmd0aFxuXG4gIGlmIChzdGFydCA9PT0gZW5kKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXJMaXN0KClcbiAgfVxuICB2YXIgc3RhcnRPZmZzZXQgPSB0aGlzLl9vZmZzZXQoc3RhcnQpXG4gICAgLCBlbmRPZmZzZXQgPSB0aGlzLl9vZmZzZXQoZW5kKVxuICAgICwgYnVmZmVycyA9IHRoaXMuX2J1ZnMuc2xpY2Uoc3RhcnRPZmZzZXRbMF0sIGVuZE9mZnNldFswXSArIDEpXG5cbiAgaWYgKGVuZE9mZnNldFsxXSA9PSAwKVxuICAgIGJ1ZmZlcnMucG9wKClcbiAgZWxzZVxuICAgIGJ1ZmZlcnNbYnVmZmVycy5sZW5ndGgtMV0gPSBidWZmZXJzW2J1ZmZlcnMubGVuZ3RoLTFdLnNsaWNlKDAsIGVuZE9mZnNldFsxXSlcblxuICBpZiAoc3RhcnRPZmZzZXRbMV0gIT0gMClcbiAgICBidWZmZXJzWzBdID0gYnVmZmVyc1swXS5zbGljZShzdGFydE9mZnNldFsxXSlcblxuICByZXR1cm4gbmV3IEJ1ZmZlckxpc3QoYnVmZmVycylcbn1cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIHRoaXMuc2xpY2Uoc3RhcnQsIGVuZCkudG9TdHJpbmcoZW5jb2RpbmcpXG59XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmNvbnN1bWUgPSBmdW5jdGlvbiBjb25zdW1lIChieXRlcykge1xuICB3aGlsZSAodGhpcy5fYnVmcy5sZW5ndGgpIHtcbiAgICBpZiAoYnl0ZXMgPj0gdGhpcy5fYnVmc1swXS5sZW5ndGgpIHtcbiAgICAgIGJ5dGVzIC09IHRoaXMuX2J1ZnNbMF0ubGVuZ3RoXG4gICAgICB0aGlzLmxlbmd0aCAtPSB0aGlzLl9idWZzWzBdLmxlbmd0aFxuICAgICAgdGhpcy5fYnVmcy5zaGlmdCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1ZnNbMF0gPSB0aGlzLl9idWZzWzBdLnNsaWNlKGJ5dGVzKVxuICAgICAgdGhpcy5sZW5ndGggLT0gYnl0ZXNcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuZHVwbGljYXRlID0gZnVuY3Rpb24gZHVwbGljYXRlICgpIHtcbiAgdmFyIGkgPSAwXG4gICAgLCBjb3B5ID0gbmV3IEJ1ZmZlckxpc3QoKVxuXG4gIGZvciAoOyBpIDwgdGhpcy5fYnVmcy5sZW5ndGg7IGkrKylcbiAgICBjb3B5LmFwcGVuZCh0aGlzLl9idWZzW2ldKVxuXG4gIHJldHVybiBjb3B5XG59XG5cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICB0aGlzLl9idWZzLmxlbmd0aCA9IDBcbiAgdGhpcy5sZW5ndGggPSAwXG4gIHRoaXMucHVzaChudWxsKVxufVxuXG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoLCBvZmZzZXQsIGVuY29kaW5nKSB7XG4gIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBvZmZzZXQgPSB1bmRlZmluZWRcbiAgfVxuICBpZiAodHlwZW9mIHNlYXJjaCA9PT0gJ2Z1bmN0aW9uJyB8fCBBcnJheS5pc0FycmF5KHNlYXJjaCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEJ1ZmZlckxpc3QsIG9yIFVpbnQ4QXJyYXkuJylcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VhcmNoID09PSAnbnVtYmVyJykge1xuICAgICAgc2VhcmNoID0gQnVmZmVyLmZyb20oW3NlYXJjaF0pXG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlYXJjaCA9PT0gJ3N0cmluZycpIHtcbiAgICBzZWFyY2ggPSBCdWZmZXIuZnJvbShzZWFyY2gsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKHNlYXJjaCBpbnN0YW5jZW9mIEJ1ZmZlckxpc3QpIHtcbiAgICBzZWFyY2ggPSBzZWFyY2guc2xpY2UoKVxuICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoc2VhcmNoKSkge1xuICAgIHNlYXJjaCA9IEJ1ZmZlci5mcm9tKHNlYXJjaClcbiAgfVxuXG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQgfHwgMClcbiAgaWYgKGlzTmFOKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSAwXG4gIH1cblxuICBpZiAob2Zmc2V0IDwgMCkge1xuICAgIG9mZnNldCA9IHRoaXMubGVuZ3RoICsgb2Zmc2V0XG4gIH1cblxuICBpZiAob2Zmc2V0IDwgMCkge1xuICAgIG9mZnNldCA9IDBcbiAgfVxuXG4gIGlmIChzZWFyY2gubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9mZnNldCA+IHRoaXMubGVuZ3RoID8gdGhpcy5sZW5ndGggOiBvZmZzZXRcbiAgfVxuXG4gIHZhciBibE9mZnNldCA9IHRoaXMuX29mZnNldChvZmZzZXQpXG4gIHZhciBibEluZGV4ID0gYmxPZmZzZXRbMF0gLy8gaW5kZXggb2Ygd2hpY2ggaW50ZXJuYWwgYnVmZmVyIHdlJ3JlIHdvcmtpbmcgb25cbiAgdmFyIGJ1ZmZPZmZzZXQgPSBibE9mZnNldFsxXSAvLyBvZmZzZXQgb2YgdGhlIGludGVybmFsIGJ1ZmZlciB3ZSdyZSB3b3JraW5nIG9uXG5cbiAgLy8gc2NhbiBvdmVyIGVhY2ggYnVmZmVyXG4gIGZvciAoYmxJbmRleDsgYmxJbmRleCA8IHRoaXMuX2J1ZnMubGVuZ3RoOyBibEluZGV4KyspIHtcbiAgICB2YXIgYnVmZiA9IHRoaXMuX2J1ZnNbYmxJbmRleF1cbiAgICB3aGlsZShidWZmT2Zmc2V0IDwgYnVmZi5sZW5ndGgpIHtcbiAgICAgIHZhciBhdmFpbGFibGVXaW5kb3cgPSBidWZmLmxlbmd0aCAtIGJ1ZmZPZmZzZXRcbiAgICAgIGlmIChhdmFpbGFibGVXaW5kb3cgPj0gc2VhcmNoLmxlbmd0aCkge1xuICAgICAgICB2YXIgbmF0aXZlU2VhcmNoUmVzdWx0ID0gYnVmZi5pbmRleE9mKHNlYXJjaCwgYnVmZk9mZnNldClcbiAgICAgICAgaWYgKG5hdGl2ZVNlYXJjaFJlc3VsdCAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmV2ZXJzZU9mZnNldChbYmxJbmRleCwgbmF0aXZlU2VhcmNoUmVzdWx0XSlcbiAgICAgICAgfVxuICAgICAgICBidWZmT2Zmc2V0ID0gYnVmZi5sZW5ndGggLSBzZWFyY2gubGVuZ3RoICsgMSAvLyBlbmQgb2YgbmF0aXZlIHNlYXJjaCB3aW5kb3dcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXZPZmZzZXQgPSB0aGlzLl9yZXZlcnNlT2Zmc2V0KFtibEluZGV4LCBidWZmT2Zmc2V0XSlcbiAgICAgICAgaWYgKHRoaXMuX21hdGNoKHJldk9mZnNldCwgc2VhcmNoKSkge1xuICAgICAgICAgIHJldHVybiByZXZPZmZzZXRcbiAgICAgICAgfVxuICAgICAgICBidWZmT2Zmc2V0KytcbiAgICAgIH1cbiAgICB9XG4gICAgYnVmZk9mZnNldCA9IDBcbiAgfVxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuX21hdGNoID0gZnVuY3Rpb24ob2Zmc2V0LCBzZWFyY2gpIHtcbiAgaWYgKHRoaXMubGVuZ3RoIC0gb2Zmc2V0IDwgc2VhcmNoLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGZvciAodmFyIHNlYXJjaE9mZnNldCA9IDA7IHNlYXJjaE9mZnNldCA8IHNlYXJjaC5sZW5ndGggOyBzZWFyY2hPZmZzZXQrKykge1xuICAgIGlmKHRoaXMuZ2V0KG9mZnNldCArIHNlYXJjaE9mZnNldCkgIT09IHNlYXJjaFtzZWFyY2hPZmZzZXRdKXtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5cbjsoZnVuY3Rpb24gKCkge1xuICB2YXIgbWV0aG9kcyA9IHtcbiAgICAgICdyZWFkRG91YmxlQkUnIDogOFxuICAgICwgJ3JlYWREb3VibGVMRScgOiA4XG4gICAgLCAncmVhZEZsb2F0QkUnICA6IDRcbiAgICAsICdyZWFkRmxvYXRMRScgIDogNFxuICAgICwgJ3JlYWRJbnQzMkJFJyAgOiA0XG4gICAgLCAncmVhZEludDMyTEUnICA6IDRcbiAgICAsICdyZWFkVUludDMyQkUnIDogNFxuICAgICwgJ3JlYWRVSW50MzJMRScgOiA0XG4gICAgLCAncmVhZEludDE2QkUnICA6IDJcbiAgICAsICdyZWFkSW50MTZMRScgIDogMlxuICAgICwgJ3JlYWRVSW50MTZCRScgOiAyXG4gICAgLCAncmVhZFVJbnQxNkxFJyA6IDJcbiAgICAsICdyZWFkSW50OCcgICAgIDogMVxuICAgICwgJ3JlYWRVSW50OCcgICAgOiAxXG4gICAgLCAncmVhZEludEJFJyAgICA6IG51bGxcbiAgICAsICdyZWFkSW50TEUnICAgIDogbnVsbFxuICAgICwgJ3JlYWRVSW50QkUnICAgOiBudWxsXG4gICAgLCAncmVhZFVJbnRMRScgICA6IG51bGxcbiAgfVxuXG4gIGZvciAodmFyIG0gaW4gbWV0aG9kcykge1xuICAgIChmdW5jdGlvbiAobSkge1xuICAgICAgaWYgKG1ldGhvZHNbbV0gPT09IG51bGwpIHtcbiAgICAgICAgQnVmZmVyTGlzdC5wcm90b3R5cGVbbV0gPSBmdW5jdGlvbiAob2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBieXRlTGVuZ3RoKVttXSgwLCBieXRlTGVuZ3RoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgQnVmZmVyTGlzdC5wcm90b3R5cGVbbV0gPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBtZXRob2RzW21dKVttXSgwKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfShtKSlcbiAgfVxufSgpKVxuXG5cbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyTGlzdFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIXByb2Nlc3MudmVyc2lvbiB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MC4nKSA9PT0gMCB8fFxuICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS4nKSA9PT0gMCAmJiBwcm9jZXNzLnZlcnNpb24uaW5kZXhPZigndjEuOC4nKSAhPT0gMCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHsgbmV4dFRpY2s6IG5leHRUaWNrIH07XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3Ncbn1cblxuZnVuY3Rpb24gbmV4dFRpY2soZm4sIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2FsbGJhY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGFyZ3MsIGk7XG4gIHN3aXRjaCAobGVuKSB7XG4gIGNhc2UgMDpcbiAgY2FzZSAxOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZuKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGlja09uZSgpIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgYXJnMSk7XG4gICAgfSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2tUd28oKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIpO1xuICAgIH0pO1xuICBjYXNlIDQ6XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrVGhyZWUoKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgIH0pO1xuICBkZWZhdWx0OlxuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgICAgYXJnc1tpKytdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBhZnRlclRpY2soKSB7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufVxuXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyB8fFxuICBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0b3JzW2tleXNbaV1dID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gIH07XG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxudmFyIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sKCd1dGlsLnByb21pc2lmeS5jdXN0b20nKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5wcm9taXNpZnkgPSBmdW5jdGlvbiBwcm9taXNpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgJiYgb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXSkge1xuICAgIHZhciBmbiA9IG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF07XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidXRpbC5wcm9taXNpZnkuY3VzdG9tXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBwcm9taXNlUmVzb2x2ZSwgcHJvbWlzZVJlamVjdDtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgYXJncy5wdXNoKGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2VSZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihmbiwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgIGZuLFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpXG4gICk7XG59XG5cbmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbSA9IGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbFxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeU9uUmVqZWN0ZWQocmVhc29uLCBjYikge1xuICAvLyBgIXJlYXNvbmAgZ3VhcmQgaW5zcGlyZWQgYnkgYmx1ZWJpcmQgKFJlZjogaHR0cHM6Ly9nb28uZ2wvdDVJUzZNKS5cbiAgLy8gQmVjYXVzZSBgbnVsbGAgaXMgYSBzcGVjaWFsIGVycm9yIHZhbHVlIGluIGNhbGxiYWNrcyB3aGljaCBtZWFucyBcIm5vIGVycm9yXG4gIC8vIG9jY3VycmVkXCIsIHdlIGVycm9yLXdyYXAgc28gdGhlIGNhbGxiYWNrIGNvbnN1bWVyIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuXG4gIC8vIFwidGhlIHByb21pc2UgcmVqZWN0ZWQgd2l0aCBudWxsXCIgb3IgXCJ0aGUgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB1bmRlZmluZWRcIi5cbiAgaWYgKCFyZWFzb24pIHtcbiAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKCdQcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgZmFsc3kgdmFsdWUnKTtcbiAgICBuZXdSZWFzb24ucmVhc29uID0gcmVhc29uO1xuICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgfVxuICByZXR1cm4gY2IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gIH1cblxuICAvLyBXZSBETyBOT1QgcmV0dXJuIHRoZSBwcm9taXNlIGFzIGl0IGdpdmVzIHRoZSB1c2VyIGEgZmFsc2Ugc2Vuc2UgdGhhdFxuICAvLyB0aGUgcHJvbWlzZSBpcyBhY3R1YWxseSBzb21laG93IHJlbGF0ZWQgdG8gdGhlIGNhbGxiYWNrJ3MgZXhlY3V0aW9uXG4gIC8vIGFuZCB0aGF0IHRoZSBjYWxsYmFjayB0aHJvd2luZyB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZS5cbiAgZnVuY3Rpb24gY2FsbGJhY2tpZmllZCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVDYiA9IGFyZ3MucG9wKCk7XG4gICAgaWYgKHR5cGVvZiBtYXliZUNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGFzdCBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1heWJlQ2IuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8vIEluIHRydWUgbm9kZSBzdHlsZSB3ZSBwcm9jZXNzIHRoZSBjYWxsYmFjayBvbiBgbmV4dFRpY2tgIHdpdGggYWxsIHRoZVxuICAgIC8vIGltcGxpY2F0aW9ucyAoc3RhY2ssIGB1bmNhdWdodEV4Y2VwdGlvbmAsIGBhc3luY19ob29rc2ApXG4gICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJldCkgeyBwcm9jZXNzLm5leHRUaWNrKGNiLCBudWxsLCByZXQpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQsIHJlaiwgY2IpIH0pO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGNhbGxiYWNraWZpZWQsIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjYWxsYmFja2lmaWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKSk7XG4gIHJldHVybiBjYWxsYmFja2lmaWVkO1xufVxuZXhwb3J0cy5jYWxsYmFja2lmeSA9IGNhbGxiYWNraWZ5O1xuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG5leHBvcnRzLlN0cmVhbSA9IGV4cG9ydHM7XG5leHBvcnRzLlJlYWRhYmxlID0gZXhwb3J0cztcbmV4cG9ydHMuV3JpdGFibGUgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzJyk7XG5leHBvcnRzLkR1cGxleCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fZHVwbGV4LmpzJyk7XG5leHBvcnRzLlRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzJyk7XG5leHBvcnRzLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcycpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIHBuYSA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG52YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGRlYnVnVXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBkZWJ1ZyA9IHZvaWQgMDtcbmlmIChkZWJ1Z1V0aWwgJiYgZGVidWdVdGlsLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTtcbn0gZWxzZSB7XG4gIGRlYnVnID0gZnVuY3Rpb24gKCkge307XG59XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlckxpc3QgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvQnVmZmVyTGlzdCcpO1xudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcbnZhciBTdHJpbmdEZWNvZGVyO1xuXG51dGlsLmluaGVyaXRzKFJlYWRhYmxlLCBTdHJlYW0pO1xuXG52YXIga1Byb3h5RXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuXG5mdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuKSB7XG4gIC8vIFNhZGx5IHRoaXMgaXMgbm90IGNhY2hlYWJsZSBhcyBzb21lIGxpYnJhcmllcyBidW5kbGUgdGhlaXIgb3duXG4gIC8vIGV2ZW50IGVtaXR0ZXIgaW1wbGVtZW50YXRpb24gd2l0aCB0aGVtLlxuICBpZiAodHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcblxuICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gIC8vIHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLiBUaGlzIGlzIGhlcmUgb25seSBiZWNhdXNlIHRoaXMgY29kZSBuZWVkc1xuICAvLyB0byBjb250aW51ZSB0byB3b3JrIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgTm9kZS5qcyB0aGF0IGRvIG5vdCBpbmNsdWRlXG4gIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtlbHNlIGlmIChpc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdLnVuc2hpZnQoZm4pO2Vsc2UgZW1pdHRlci5fZXZlbnRzW2V2ZW50XSA9IFtmbiwgZW1pdHRlci5fZXZlbnRzW2V2ZW50XV07XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gRHVwbGV4IHN0cmVhbXMgYXJlIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLCBidXQgc2hhcmVcbiAgLy8gdGhlIHNhbWUgb3B0aW9ucyBvYmplY3QuXG4gIC8vIEhvd2V2ZXIsIHNvbWUgY2FzZXMgcmVxdWlyZSBzZXR0aW5nIG9wdGlvbnMgdG8gZGlmZmVyZW50XG4gIC8vIHZhbHVlcyBmb3IgdGhlIHJlYWRhYmxlIGFuZCB0aGUgd3JpdGFibGUgc2lkZXMgb2YgdGhlIGR1cGxleCBzdHJlYW0uXG4gIC8vIFRoZXNlIG9wdGlvbnMgY2FuIGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgcmVhZGFibGVYWFggYW5kIHdyaXRhYmxlWFhYLlxuICB2YXIgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG9cbiAgLy8gbWFrZSBhbGwgdGhlIGJ1ZmZlciBtZXJnaW5nIGFuZCBsZW5ndGggY2hlY2tzIGdvIGF3YXlcbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciByZWFkYWJsZUh3bSA9IG9wdGlvbnMucmVhZGFibGVIaWdoV2F0ZXJNYXJrO1xuICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xuXG4gIGlmIChod20gfHwgaHdtID09PSAwKSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod207ZWxzZSBpZiAoaXNEdXBsZXggJiYgKHJlYWRhYmxlSHdtIHx8IHJlYWRhYmxlSHdtID09PSAwKSkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gcmVhZGFibGVId207ZWxzZSB0aGlzLmhpZ2hXYXRlck1hcmsgPSBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gTWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBldmVudCAncmVhZGFibGUnLydkYXRhJyBpcyBlbWl0dGVkXG4gIC8vIGltbWVkaWF0ZWx5LCBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlXG4gIC8vIGFueSBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCByZWFkIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gd2hlbmV2ZXIgd2UgcmV0dXJuIG51bGwsIHRoZW4gd2Ugc2V0IGEgZmxhZyB0byBzYXlcbiAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uXG4gIHRoaXMubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgdGhpcy5yZXN1bWVTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7XG4gICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7XG5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeVxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG4gIH1cblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLnB1c2gobnVsbCk7XG4gIGNiKGVycik7XG59O1xuXG4vLyBNYW51YWxseSBzaG92ZSBzb21ldGhpbmcgaW50byB0aGUgcmVhZCgpIGJ1ZmZlci5cbi8vIFRoaXMgcmV0dXJucyB0cnVlIGlmIHRoZSBoaWdoV2F0ZXJNYXJrIGhhcyBub3QgYmVlbiBoaXQgeWV0LFxuLy8gc2ltaWxhciB0byBob3cgV3JpdGFibGUud3JpdGUoKSByZXR1cm5zIHRydWUgaWYgeW91IHNob3VsZFxuLy8gd3JpdGUoKSBzb21lIG1vcmUuXG5SZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHNraXBDaHVua0NoZWNrO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nIHx8IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcbiAgICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgICBlbmNvZGluZyA9ICcnO1xuICAgICAgfVxuICAgICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlLCBza2lwQ2h1bmtDaGVjayk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIG51bGwsIHRydWUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQsIHNraXBDaHVua0NoZWNrKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgaWYgKGNodW5rID09PSBudWxsKSB7XG4gICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVyO1xuICAgIGlmICghc2tpcENodW5rQ2hlY2spIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gICAgaWYgKGVyKSB7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaHVuaykgIT09IEJ1ZmZlci5wcm90b3R5cGUpIHtcbiAgICAgICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFkZFRvRnJvbnQpIHtcbiAgICAgICAgaWYgKHN0YXRlLmVuZEVtaXR0ZWQpIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnQnKSk7ZWxzZSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZGVkKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignc3RyZWFtLnB1c2goKSBhZnRlciBFT0YnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFlbmNvZGluZykge1xuICAgICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsubGVuZ3RoICE9PSAwKSBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO2Vsc2UgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYWRkVG9Gcm9udCkge1xuICAgICAgc3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZWVkTW9yZURhdGEoc3RhdGUpO1xufVxuXG5mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgYWRkVG9Gcm9udCkge1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH1cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cblxuZnVuY3Rpb24gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuaykge1xuICB2YXIgZXI7XG4gIGlmICghX2lzVWludDhBcnJheShjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgcmV0dXJuIGVyO1xufVxuXG4vLyBpZiBpdCdzIHBhc3QgdGhlIGhpZ2ggd2F0ZXIgbWFyaywgd2UgY2FuIHB1c2ggaW4gc29tZSBtb3JlLlxuLy8gQWxzbywgaWYgd2UgaGF2ZSBubyBkYXRhIHlldCwgd2UgY2FuIHN0YW5kIHNvbWVcbi8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLFxuLy8gc3VjaCBhcyB0aGUgcmVwbC4gIEFsc28sIGlmIHRoZSBwdXNoKCkgdHJpZ2dlcmVkIGFcbi8vIHJlYWRhYmxlIGV2ZW50LCBhbmQgdGhlIHVzZXIgY2FsbGVkIHJlYWQobGFyZ2VOdW1iZXIpIHN1Y2ggdGhhdFxuLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXJcbi8vICdyZWFkYWJsZScgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQuXG5mdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpIHtcbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubmVlZFJlYWRhYmxlIHx8IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcblxuICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgaWYgKHN0YXRlLnN5bmMpIHBuYS5uZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO2Vsc2UgZW1pdFJlYWRhYmxlXyhzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKSB7XG4gIGRlYnVnKCdlbWl0IHJlYWRhYmxlJyk7XG4gIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpO1xuICBmbG93KHN0cmVhbSk7XG59XG5cbi8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsXG4vLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkXG4vLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZlxuLy8gaXQncyBpbiBwcm9ncmVzcy5cbi8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sXG4vLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LlxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZ01vcmUpIHtcbiAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7XG4gICAgcG5hLm5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ19yZWFkKCkgaXMgbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHtcbiAgdmFyIHNyYyA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7XG4gICAgY2FzZSAwOlxuICAgICAgc3RhdGUucGlwZXMgPSBkZXN0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN0YXRlLnBpcGVzLnB1c2goZGVzdCk7XG4gICAgICBicmVhaztcbiAgfVxuICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7XG4gIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7XG5cbiAgdmFyIGRvRW5kID0gKCFwaXBlT3B0cyB8fCBwaXBlT3B0cy5lbmQgIT09IGZhbHNlKSAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZG91dCAmJiBkZXN0ICE9PSBwcm9jZXNzLnN0ZGVycjtcblxuICB2YXIgZW5kRm4gPSBkb0VuZCA/IG9uZW5kIDogdW5waXBlO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgcG5hLm5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7XG5cbiAgZGVzdC5vbigndW5waXBlJywgb251bnBpcGUpO1xuICBmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSwgdW5waXBlSW5mbykge1xuICAgIGRlYnVnKCdvbnVucGlwZScpO1xuICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7XG4gICAgICBpZiAodW5waXBlSW5mbyAmJiB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHVucGlwZUluZm8uaGFzVW5waXBlZCA9IHRydWU7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAoRUVsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBkZXN0LmVtaXQoJ2Vycm9yJywgZXIpO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLlxuICBwcmVwZW5kTGlzdGVuZXIoZGVzdCwgJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuXG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTtcbiAgICBkZWJ1ZygncGlwZU9uRHJhaW4nLCBzdGF0ZS5hd2FpdERyYWluKTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbikgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uIChkZXN0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB1bnBpcGVJbmZvID0geyBoYXNVbnBpcGVkOiBmYWxzZSB9O1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGRlc3RzW2ldLmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIH1yZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHRyeSB0byBmaW5kIHRoZSByaWdodCBvbmUuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcblxuICBzdGF0ZS5waXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICBzdGF0ZS5waXBlc0NvdW50IC09IDE7XG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdO1xuXG4gIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcywgdW5waXBlSW5mbyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG5cbiAgaWYgKGV2ID09PSAnZGF0YScpIHtcbiAgICAvLyBTdGFydCBmbG93aW5nIG9uIG5leHQgdGljayBpZiBzdHJlYW0gaXNuJ3QgZXhwbGljaXRseSBwYXVzZWRcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkgdGhpcy5yZXN1bWUoKTtcbiAgfSBlbHNlIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZykge1xuICAgICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gICAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICAgICAgcG5hLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gUmVhZGFibGUucHJvdG90eXBlLm9uO1xuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59XG5cbi8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTtcbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHBuYS5uZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBwYXVzZWQgPSBmYWxzZTtcblxuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wdXNoKG51bGwpO1xuICB9KTtcblxuICBzdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBkYXRhJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIpIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG5cbiAgICAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGVcbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47XG5cbiAgICB2YXIgcmV0ID0gX3RoaXMucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCBrUHJveHlFdmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICBzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLCB0aGlzLmVtaXQuYmluZCh0aGlzLCBrUHJveHlFdmVudHNbbl0pKTtcbiAgfVxuXG4gIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG4gIHRoaXMuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdChuLCBzdGF0ZSkge1xuICAvLyBub3RoaW5nIGJ1ZmZlcmVkXG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YTtlbHNlIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25jYXQoc3RhdGUubGVuZ3RoKTtcbiAgICBzdGF0ZS5idWZmZXIuY2xlYXIoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyByZWFkIHBhcnQgb2YgbGlzdFxuICAgIHJldCA9IGZyb21MaXN0UGFydGlhbChuLCBzdGF0ZS5idWZmZXIsIHN0YXRlLmRlY29kZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gRXh0cmFjdHMgb25seSBlbm91Z2ggYnVmZmVyZWQgZGF0YSB0byBzYXRpc2Z5IHRoZSBhbW91bnQgcmVxdWVzdGVkLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBmcm9tTGlzdFBhcnRpYWwobiwgbGlzdCwgaGFzU3RyaW5ncykge1xuICB2YXIgcmV0O1xuICBpZiAobiA8IGxpc3QuaGVhZC5kYXRhLmxlbmd0aCkge1xuICAgIC8vIHNsaWNlIGlzIHRoZSBzYW1lIGZvciBidWZmZXJzIGFuZCBzdHJpbmdzXG4gICAgcmV0ID0gbGlzdC5oZWFkLmRhdGEuc2xpY2UoMCwgbik7XG4gICAgbGlzdC5oZWFkLmRhdGEgPSBsaXN0LmhlYWQuZGF0YS5zbGljZShuKTtcbiAgfSBlbHNlIGlmIChuID09PSBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBmaXJzdCBjaHVuayBpcyBhIHBlcmZlY3QgbWF0Y2hcbiAgICByZXQgPSBsaXN0LnNoaWZ0KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVzdWx0IHNwYW5zIG1vcmUgdGhhbiBvbmUgYnVmZmVyXG4gICAgcmV0ID0gaGFzU3RyaW5ncyA/IGNvcHlGcm9tQnVmZmVyU3RyaW5nKG4sIGxpc3QpIDogY29weUZyb21CdWZmZXIobiwgbGlzdCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBjaGFyYWN0ZXJzIGZyb20gdGhlIGxpc3Qgb2YgYnVmZmVyZWQgZGF0YVxuLy8gY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSB7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHZhciByZXQgPSBwLmRhdGE7XG4gIG4gLT0gcmV0Lmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgc3RyID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSByZXQgKz0gc3RyO2Vsc2UgcmV0ICs9IHN0ci5zbGljZSgwLCBuKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gc3RyLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQ29waWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGEgY2h1bmtzLlxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBjb3B5RnJvbUJ1ZmZlcihuLCBsaXN0KSB7XG4gIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gIHZhciBwID0gbGlzdC5oZWFkO1xuICB2YXIgYyA9IDE7XG4gIHAuZGF0YS5jb3B5KHJldCk7XG4gIG4gLT0gcC5kYXRhLmxlbmd0aDtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICB2YXIgYnVmID0gcC5kYXRhO1xuICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgYnVmLmNvcHkocmV0LCByZXQubGVuZ3RoIC0gbiwgMCwgbmIpO1xuICAgIG4gLT0gbmI7XG4gICAgaWYgKG4gPT09IDApIHtcbiAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICArK2M7XG4gICAgICAgIGlmIChwLm5leHQpIGxpc3QuaGVhZCA9IHAubmV4dDtlbHNlIGxpc3QuaGVhZCA9IGxpc3QudGFpbCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0LmhlYWQgPSBwO1xuICAgICAgICBwLmRhdGEgPSBidWYuc2xpY2UobmIpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgICsrYztcbiAgfVxuICBsaXN0Lmxlbmd0aCAtPSBjO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIElmIHdlIGdldCBoZXJlIGJlZm9yZSBjb25zdW1pbmcgYWxsIHRoZSBieXRlcywgdGhlbiB0aGF0IGlzIGFcbiAgLy8gYnVnIGluIG5vZGUuICBTaG91bGQgbmV2ZXIgaGFwcGVuLlxuICBpZiAoc3RhdGUubGVuZ3RoID4gMCkgdGhyb3cgbmV3IEVycm9yKCdcImVuZFJlYWRhYmxlKClcIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO1xuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwbmEubmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoeHMsIHgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoeHNbaV0gPT09IHgpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBSZWZsZWN0QXBwbHkodGhpcy5saXN0ZW5lciwgdGhpcy50YXJnZXQsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgcG5hID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG4vLyB1bmRvY3VtZW50ZWQgY2IoKSBBUEksIG5lZWRlZCBmb3IgY29yZSwgbm90IGZvciBwdWJsaWMgQVBJXG5mdW5jdGlvbiBkZXN0cm95KGVyciwgY2IpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgcmVhZGFibGVEZXN0cm95ZWQgPSB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB2YXIgd3JpdGFibGVEZXN0cm95ZWQgPSB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuXG4gIGlmIChyZWFkYWJsZURlc3Ryb3llZCB8fCB3cml0YWJsZURlc3Ryb3llZCkge1xuICAgIGlmIChjYikge1xuICAgICAgY2IoZXJyKTtcbiAgICB9IGVsc2UgaWYgKGVyciAmJiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUgfHwgIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSkge1xuICAgICAgcG5hLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHdlIHNldCBkZXN0cm95ZWQgdG8gdHJ1ZSBiZWZvcmUgZmlyaW5nIGVycm9yIGNhbGxiYWNrcyBpbiBvcmRlclxuICAvLyB0byBtYWtlIGl0IHJlLWVudHJhbmNlIHNhZmUgaW4gY2FzZSBkZXN0cm95KCkgaXMgY2FsbGVkIHdpdGhpbiBjYWxsYmFja3NcblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlmIHRoaXMgaXMgYSBkdXBsZXggc3RyZWFtIG1hcmsgdGhlIHdyaXRhYmxlIHBhcnQgYXMgZGVzdHJveWVkIGFzIHdlbGxcbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cblxuICB0aGlzLl9kZXN0cm95KGVyciB8fCBudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKCFjYiAmJiBlcnIpIHtcbiAgICAgIHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCwgX3RoaXMsIGVycik7XG4gICAgICBpZiAoX3RoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHVuZGVzdHJveSgpIHtcbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLCBlcnIpIHtcbiAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXN0cm95OiBkZXN0cm95LFxuICB1bmRlc3Ryb3k6IHVuZGVzdHJveVxufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBwbmEgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbm1vZHVsZS5leHBvcnRzID0gV3JpdGFibGU7XG5cbi8qIDxyZXBsYWNlbWVudD4gKi9cbmZ1bmN0aW9uIFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhpcy5jaHVuayA9IGNodW5rO1xuICB0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIHRoaXMuY2FsbGJhY2sgPSBjYjtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbn1cblxuLy8gSXQgc2VlbXMgYSBsaW5rZWQgbGlzdCBidXQgaXQgaXMgbm90XG4vLyB0aGVyZSB3aWxsIGJlIG9ubHkgMiBvZiB0aGVzZSBmb3IgZWFjaCBzdHJlYW1cbmZ1bmN0aW9uIENvcmtlZFJlcXVlc3Qoc3RhdGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcbiAgdGhpcy5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgb25Db3JrZWRGaW5pc2goX3RoaXMsIHN0YXRlKTtcbiAgfTtcbn1cbi8qIDwvcmVwbGFjZW1lbnQ+ICovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgYXN5bmNXcml0ZSA9ICFwcm9jZXNzLmJyb3dzZXIgJiYgWyd2MC4xMCcsICd2MC45LiddLmluZGV4T2YocHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDAsIDUpKSA+IC0xID8gc2V0SW1tZWRpYXRlIDogcG5hLm5leHRUaWNrO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xudmFyIE91clVpbnQ4QXJyYXkgPSBnbG9iYWwuVWludDhBcnJheSB8fCBmdW5jdGlvbiAoKSB7fTtcbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cbmZ1bmN0aW9uIF9pc1VpbnQ4QXJyYXkob2JqKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKSB8fCBvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5O1xufVxuXG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcblxudXRpbC5pbmhlcml0cyhXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbS5cbiAgLy8gVGhlc2Ugb3B0aW9ucyBjYW4gYmUgcHJvdmlkZWQgc2VwYXJhdGVseSBhcyByZWFkYWJsZVhYWCBhbmQgd3JpdGFibGVYWFguXG4gIHZhciBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCB3cml0ZSgpIHN0YXJ0cyByZXR1cm5pbmcgZmFsc2VcbiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWZcbiAgLy8gdGhlIGVudGlyZSBidWZmZXIgaXMgbm90IGZsdXNoZWQgaW1tZWRpYXRlbHkgb24gd3JpdGUoKVxuICB2YXIgaHdtID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB2YXIgd3JpdGFibGVId20gPSBvcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcblxuICBpZiAoaHdtIHx8IGh3bSA9PT0gMCkgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtO2Vsc2UgaWYgKGlzRHVwbGV4ICYmICh3cml0YWJsZUh3bSB8fCB3cml0YWJsZUh3bSA9PT0gMCkpIHRoaXMuaGlnaFdhdGVyTWFyayA9IHdyaXRhYmxlSHdtO2Vsc2UgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IE1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKTtcblxuICAvLyBpZiBfZmluYWwgaGFzIGJlZW4gY2FsbGVkXG4gIHRoaXMuZmluYWxDYWxsZWQgPSBmYWxzZTtcblxuICAvLyBkcmFpbiBldmVudCBmbGFnLlxuICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlO1xuICAvLyBhdCB0aGUgc3RhcnQgb2YgY2FsbGluZyBlbmQoKVxuICB0aGlzLmVuZGluZyA9IGZhbHNlO1xuICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgLy8gd2hlbiAnZmluaXNoJyBpcyBlbWl0dGVkXG4gIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBzaG91bGQgd2UgZGVjb2RlIHN0cmluZ3MgaW50byBidWZmZXJzIGJlZm9yZSBwYXNzaW5nIHRvIF93cml0ZT9cbiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nXG4gIC8vIGhhbmRsaW5nIGF0IGEgbG93ZXIgbGV2ZWwuXG4gIHZhciBub0RlY29kZSA9IG9wdGlvbnMuZGVjb2RlU3RyaW5ncyA9PT0gZmFsc2U7XG4gIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyBub3QgYW4gYWN0dWFsIGJ1ZmZlciB3ZSBrZWVwIHRyYWNrIG9mLCBidXQgYSBtZWFzdXJlbWVudFxuICAvLyBvZiBob3cgbXVjaCB3ZSdyZSB3YWl0aW5nIHRvIGdldCBwdXNoZWQgdG8gc29tZSB1bmRlcmx5aW5nXG4gIC8vIHNvY2tldCBvciBmaWxlLlxuICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS5cbiAgdGhpcy53cml0aW5nID0gZmFsc2U7XG5cbiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbFxuICB0aGlzLmNvcmtlZCA9IDA7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksXG4gIC8vIG9yIG9uIGEgbGF0ZXIgdGljay4gIFdlIHNldCB0aGlzIHRvIHRydWUgYXQgZmlyc3QsIGJlY2F1c2UgYW55XG4gIC8vIGFjdGlvbnMgdGhhdCBzaG91bGRuJ3QgaGFwcGVuIHVudGlsIFwibGF0ZXJcIiBzaG91bGQgZ2VuZXJhbGx5IGFsc29cbiAgLy8gbm90IGhhcHBlbiBiZWZvcmUgdGhlIGZpcnN0IHdyaXRlIGNhbGwuXG4gIHRoaXMuc3luYyA9IHRydWU7XG5cbiAgLy8gYSBmbGFnIHRvIGtub3cgaWYgd2UncmUgcHJvY2Vzc2luZyBwcmV2aW91c2x5IGJ1ZmZlcmVkIGl0ZW1zLCB3aGljaFxuICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndFxuICAvLyBlbmQgdXAgaW4gYW4gb3ZlcmxhcHBlZCBvbndyaXRlIHNpdHVhdGlvbi5cbiAgdGhpcy5idWZmZXJQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgdG8gX3dyaXRlKGNodW5rLGNiKVxuICB0aGlzLm9ud3JpdGUgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICBvbndyaXRlKHN0cmVhbSwgZXIpO1xuICB9O1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKVxuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuXG4gIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cblxuV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gZ2V0QnVmZmVyKCkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuYnVmZmVyZWRSZXF1ZXN0O1xuICB2YXIgb3V0ID0gW107XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGVTdGF0ZS5wcm90b3R5cGUsICdidWZmZXInLCB7XG4gICAgICBnZXQ6IGludGVybmFsVXRpbC5kZXByZWNhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTtcblxuLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG52YXIgcmVhbEhhc0luc3RhbmNlO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKHJlYWxIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIG9iamVjdCkpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHRoaXMgIT09IFdyaXRhYmxlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0b28uXG4gIC8vIGByZWFsSGFzSW5zdGFuY2VgIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHVzaW5nIHBsYWluIGBpbnN0YW5jZW9mYFxuICAvLyB3b3VsZCByZXR1cm4gZmFsc2UsIGFzIG5vIGBfd3JpdGFibGVTdGF0ZWAgcHJvcGVydHkgaXMgYXR0YWNoZWQuXG5cbiAgLy8gVHJ5aW5nIHRvIHVzZSB0aGUgY3VzdG9tIGBpbnN0YW5jZW9mYCBmb3IgV3JpdGFibGUgaGVyZSB3aWxsIGFsc28gYnJlYWsgdGhlXG4gIC8vIE5vZGUuanMgTGF6eVRyYW5zZm9ybSBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaGFzIGEgbm9uLXRyaXZpYWwgZ2V0dGVyIGZvclxuICAvLyBgX3dyaXRhYmxlU3RhdGVgIHRoYXQgd291bGQgbGVhZCB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gIGlmICghcmVhbEhhc0luc3RhbmNlLmNhbGwoV3JpdGFibGUsIHRoaXMpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHtcbiAgICByZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO1xuICB9XG5cbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeS5cbiAgdGhpcy53cml0YWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGUgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmluYWwgPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZpbmFsID0gb3B0aW9ucy5maW5hbDtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQWZ0ZXJFbmQoc3RyZWFtLCBjYikge1xuICB2YXIgZXIgPSBuZXcgRXJyb3IoJ3dyaXRlIGFmdGVyIGVuZCcpO1xuICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYlxuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIHBuYS5uZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBDaGVja3MgdGhhdCBhIHVzZXItc3VwcGxpZWQgY2h1bmsgaXMgdmFsaWQsIGVzcGVjaWFsbHkgZm9yIHRoZSBwYXJ0aWN1bGFyXG4vLyBtb2RlIHRoZSBzdHJlYW0gaXMgaW4uIEN1cnJlbnRseSB0aGlzIG1lYW5zIHRoYXQgYG51bGxgIGlzIG5ldmVyIGFjY2VwdGVkXG4vLyBhbmQgdW5kZWZpbmVkL25vbi1zdHJpbmcgdmFsdWVzIGFyZSBvbmx5IGFsbG93ZWQgaW4gb2JqZWN0IG1vZGUuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuICB2YXIgZXIgPSBmYWxzZTtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgaWYgKGVyKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIHBuYS5uZXh0VGljayhjYiwgZXIpO1xuICAgIHZhbGlkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbGlkO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgcmV0ID0gZmFsc2U7XG4gIHZhciBpc0J1ZiA9ICFzdGF0ZS5vYmplY3RNb2RlICYmIF9pc1VpbnQ4QXJyYXkoY2h1bmspO1xuXG4gIGlmIChpc0J1ZiAmJiAhQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkge1xuICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoaXNCdWYpIGVuY29kaW5nID0gJ2J1ZmZlcic7ZWxzZSBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9IHN0YXRlLmRlZmF1bHRFbmNvZGluZztcblxuICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSBjYiA9IG5vcDtcblxuICBpZiAoc3RhdGUuZW5kZWQpIHdyaXRlQWZ0ZXJFbmQodGhpcywgY2IpO2Vsc2UgaWYgKGlzQnVmIHx8IHZhbGlkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCBjYikpIHtcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICByZXQgPSB3cml0ZU9yQnVmZmVyKHRoaXMsIHN0YXRlLCBpc0J1ZiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgc3RhdGUuY29ya2VkKys7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUudW5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQtLTtcblxuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIGNsZWFyQnVmZmVyKHRoaXMsIHN0YXRlKTtcbiAgfVxufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKSB7XG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICB9XG4gIHJldHVybiBjaHVuaztcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcbiAgICBpZiAoY2h1bmsgIT09IG5ld0NodW5rKSB7XG4gICAgICBpc0J1ZiA9IHRydWU7XG4gICAgICBlbmNvZGluZyA9ICdidWZmZXInO1xuICAgICAgY2h1bmsgPSBuZXdDaHVuaztcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldCkgc3RhdGUubmVlZERyYWluID0gdHJ1ZTtcblxuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHtcbiAgICAgIGNodW5rOiBjaHVuayxcbiAgICAgIGVuY29kaW5nOiBlbmNvZGluZyxcbiAgICAgIGlzQnVmOiBpc0J1ZixcbiAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwbmEubmV4dFRpY2soY2IsIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYW5kIGl0IHdpbGwgYWx3YXlzIGhhcHBlblxuICAgIC8vIGFmdGVyIGVycm9yXG4gICAgcG5hLm5leHRUaWNrKGZpbmlzaE1heWJlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlIGNhbGxlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVmb3JlIGlmXG4gICAgLy8gaXQgaXMgYXN5bmNcbiAgICBjYihlcik7XG4gICAgc3RyZWFtLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBidXQgZmluaXNoIG11c3RcbiAgICAvLyBhbHdheXMgZm9sbG93IGVycm9yXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG5cbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcblxuICBpZiAoZXIpIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO2Vsc2Uge1xuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IHJlYWR5IHRvIGZpbmlzaCwgYnV0IGRvbid0IGVtaXQgeWV0XG4gICAgdmFyIGZpbmlzaGVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgLyo8cmVwbGFjZW1lbnQ+Ki9cbiAgICAgIGFzeW5jV3JpdGUoYWZ0ZXJXcml0ZSwgc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICAgIC8qPC9yZXBsYWNlbWVudD4qL1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcblxuICBpZiAoc3RyZWFtLl93cml0ZXYgJiYgZW50cnkgJiYgZW50cnkubmV4dCkge1xuICAgIC8vIEZhc3QgY2FzZSwgd3JpdGUgZXZlcnl0aGluZyB1c2luZyBfd3JpdGV2KClcbiAgICB2YXIgbCA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50O1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXkobCk7XG4gICAgdmFyIGhvbGRlciA9IHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZTtcbiAgICBob2xkZXIuZW50cnkgPSBlbnRyeTtcblxuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgYnVmZmVyW2NvdW50XSA9IGVudHJ5O1xuICAgICAgaWYgKCFlbnRyeS5pc0J1ZikgYWxsQnVmZmVycyA9IGZhbHNlO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9XG4gICAgYnVmZmVyLmFsbEJ1ZmZlcnMgPSBhbGxCdWZmZXJzO1xuXG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudC0tO1xuICAgICAgLy8gaWYgd2UgZGlkbid0IGNhbGwgdGhlIG9ud3JpdGUgaW1tZWRpYXRlbHksIHRoZW5cbiAgICAgIC8vIGl0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0IGRvZXMuXG4gICAgICAvLyBhbHNvLCB0aGF0IG1lYW5zIHRoYXQgdGhlIGNodW5rIGFuZCBjYiBhcmUgY3VycmVudGx5XG4gICAgICAvLyBiZWluZyBwcm9jZXNzZWQsIHNvIG1vdmUgdGhlIGJ1ZmZlciBjb3VudGVyIHBhc3QgdGhlbS5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpO1xuXG4gIC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG4gIGlmIChzdGF0ZS5jb3JrZWQpIHtcbiAgICBzdGF0ZS5jb3JrZWQgPSAxO1xuICAgIHRoaXMudW5jb3JrKCk7XG4gIH1cblxuICAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG4gIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cbmZ1bmN0aW9uIGNhbGxGaW5hbChzdHJlYW0sIHN0YXRlKSB7XG4gIHN0cmVhbS5fZmluYWwoZnVuY3Rpb24gKGVycikge1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCAmJiAhc3RhdGUuZmluYWxDYWxsZWQpIHtcbiAgICBpZiAodHlwZW9mIHN0cmVhbS5fZmluYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcG5hLm5leHRUaWNrKGNhbGxGaW5hbCwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7XG4gICAgICBzdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZWVkO1xufVxuXG5mdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikge1xuICBzdGF0ZS5lbmRpbmcgPSB0cnVlO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgaWYgKGNiKSB7XG4gICAgaWYgKHN0YXRlLmZpbmlzaGVkKSBwbmEubmV4dFRpY2soY2IpO2Vsc2Ugc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gIHN0cmVhbS53cml0YWJsZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBvbkNvcmtlZEZpbmlzaChjb3JrUmVxLCBzdGF0ZSwgZXJyKSB7XG4gIHZhciBlbnRyeSA9IGNvcmtSZXEuZW50cnk7XG4gIGNvcmtSZXEuZW50cnkgPSBudWxsO1xuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfVxuICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7XG4gICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGNvcmtSZXE7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblxuV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICB0aGlzLmVuZCgpO1xuICBjYihlcnIpO1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGlzRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZyB8fCBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nO1xuICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOmNhc2UgJ3V0ZjgnOmNhc2UgJ3V0Zi04JzpjYXNlICdhc2NpaSc6Y2FzZSAnYmluYXJ5JzpjYXNlICdiYXNlNjQnOmNhc2UgJ3VjczInOmNhc2UgJ3Vjcy0yJzpjYXNlICd1dGYxNmxlJzpjYXNlICd1dGYtMTZsZSc6Y2FzZSAncmF3JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHtcbiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7XG4gIHZhciByZXRyaWVkO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuICd1dGY4JztcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiAndXRmMTZsZSc7XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsYXRpbjEnO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBlbmM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRyaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZVxuLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5nc1xuZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7XG4gIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpO1xuICByZXR1cm4gbmVuYyB8fCBlbmM7XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy5cbmV4cG9ydHMuU3RyaW5nRGVjb2RlciA9IFN0cmluZ0RlY29kZXI7XG5mdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7XG4gIHZhciBuYjtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7XG4gICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kO1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0O1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7XG4gICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDtcbiAgICAgIG5iID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7XG4gICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDtcbiAgICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgdGhpcy5sYXN0VG90YWwgPSAwO1xuICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTtcbn1cblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gIHZhciByO1xuICB2YXIgaTtcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICByID0gdGhpcy5maWxsTGFzdChidWYpO1xuICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICBpID0gdGhpcy5sYXN0TmVlZDtcbiAgICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpID0gMDtcbiAgfVxuICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7XG4gIHJldHVybiByIHx8ICcnO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gdXRmOEVuZDtcblxuLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDtcblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBwYXJ0aWFsIG5vbi1VVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlclxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59O1xuXG4vLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhXG4vLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkge1xuICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDtcbiAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7XG59XG5cbi8vIENoZWNrcyBhdCBtb3N0IDMgYnl0ZXMgYXQgdGhlIGVuZCBvZiBhIEJ1ZmZlciBpbiBvcmRlciB0byBkZXRlY3QgYW5cbi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpXG4vLyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIFVURi04IGNoYXJhY3RlciAoaWYgYXBwbGljYWJsZSkgYXJlIHJldHVybmVkLlxuZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHtcbiAgdmFyIGogPSBidWYubGVuZ3RoIC0gMTtcbiAgaWYgKGogPCBpKSByZXR1cm4gMDtcbiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDE7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDI7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGlmIChuYiA9PT0gMikgbmIgPSAwO2Vsc2Ugc2VsZi5sYXN0TmVlZCA9IG5iIC0gMztcbiAgICB9XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG4vLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXNcbi8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0XG4vLyBvbmUsIHdlIFwicmVwbGFjZVwiIHRoZSB2YWxpZGF0ZWQgY29udGludWF0aW9uIGJ5dGVzIHdlJ3ZlIHNlZW4gc28gZmFyIHdpdGhcbi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1xcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZ1xuLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZVxuLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci5cbi8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGFcbi8vIGxvb3AuXG5mdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkge1xuICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgc2VsZi5sYXN0TmVlZCA9IDA7XG4gICAgcmV0dXJuICdcXHVmZmZkJztcbiAgfVxuICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgICBzZWxmLmxhc3ROZWVkID0gMTtcbiAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgfVxuICAgIGlmIChzZWxmLmxhc3ROZWVkID4gMiAmJiBidWYubGVuZ3RoID4gMikge1xuICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgICBzZWxmLmxhc3ROZWVkID0gMjtcbiAgICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLlxuZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zikge1xuICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDtcbiAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1ZiwgcCk7XG4gIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByO1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7XG4gICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpO1xuICB9XG4gIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59XG5cbi8vIFJldHVybnMgYWxsIGNvbXBsZXRlIFVURi04IGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIuIElmIHRoZSBCdWZmZXIgZW5kZWQgb24gYVxuLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXJlIGF2YWlsYWJsZS5cbmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkge1xuICB2YXIgdG90YWwgPSB1dGY4Q2hlY2tJbmNvbXBsZXRlKHRoaXMsIGJ1ZiwgaSk7XG4gIGlmICghdGhpcy5sYXN0TmVlZCkgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGkpO1xuICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsO1xuICB2YXIgZW5kID0gYnVmLmxlbmd0aCAtICh0b3RhbCAtIHRoaXMubGFzdE5lZWQpO1xuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBlbmQpO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTtcbn1cblxuLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWxcbi8vIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1xcdWZmZmQnO1xuICByZXR1cm4gcjtcbn1cblxuLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW5cbi8vIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUsIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UgZW5kIG9uIGEgbGVhZGluZy9oaWdoXG4vLyBzdXJyb2dhdGUuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCB0d28gYnl0ZXMgaW4gb3JkZXIgdG9cbi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuXG5mdW5jdGlvbiB1dGYxNlRleHQoYnVmLCBpKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkge1xuICAgIHZhciByID0gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHZhciBjID0gci5jaGFyQ29kZUF0KHIubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERCRkYpIHtcbiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHRoaXMubGFzdFRvdGFsID0gNDtcbiAgICAgICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gci5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG4gIHRoaXMubGFzdE5lZWQgPSAxO1xuICB0aGlzLmxhc3RUb3RhbCA9IDI7XG4gIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSwgYnVmLmxlbmd0aCAtIDEpO1xufVxuXG4vLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZVxuLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuXG5mdW5jdGlvbiB1dGYxNkVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHtcbiAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMztcbiAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpO1xuICB0aGlzLmxhc3ROZWVkID0gMyAtIG47XG4gIHRoaXMubGFzdFRvdGFsID0gMztcbiAgaWYgKG4gPT09IDEpIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTtcbiAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCdiYXNlNjQnLCAwLCAzIC0gdGhpcy5sYXN0TmVlZCk7XG4gIHJldHVybiByO1xufVxuXG4vLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpXG5mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zikge1xuICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkb1xuLy8gc29tZXRoaW5nIHdpdGggdGhlIGRhdGEuICBTb21ldGltZXMgaXQncyBjYWxsZWQgYSBcImZpbHRlclwiLFxuLy8gYnV0IHRoYXQncyBub3QgYSBncmVhdCBuYW1lIGZvciBpdCwgc2luY2UgdGhhdCBpbXBsaWVzIGEgdGhpbmcgd2hlcmVcbi8vIHNvbWUgYml0cyBwYXNzIHRocm91Z2gsIGFuZCBvdGhlcnMgYXJlIHNpbXBseSBpZ25vcmVkLiAgKFRoYXQgd291bGRcbi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLilcbi8vXG4vLyBXaGlsZSB0aGUgb3V0cHV0IGlzIGNhdXNhbGx5IHJlbGF0ZWQgdG8gdGhlIGlucHV0LCBpdCdzIG5vdCBhXG4vLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSxcbi8vIGEgemxpYiBzdHJlYW0gbWlnaHQgdGFrZSBtdWx0aXBsZSBwbGFpbi10ZXh0IHdyaXRlcygpLCBhbmQgdGhlblxuLy8gZW1pdCBhIHNpbmdsZSBjb21wcmVzc2VkIGNodW5rIHNvbWUgdGltZSBpbiB0aGUgZnV0dXJlLlxuLy9cbi8vIEhlcmUncyBob3cgdGhpcyB3b3Jrczpcbi8vXG4vLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGVcbi8vIHN0cmVhbSBjbGFzc2VzLiAgV2hlbiB5b3Ugd3JpdGUoY2h1bmspLCB0aGF0IGNhbGxzIF93cml0ZShjaHVuayxjYilcbi8vIGludGVybmFsbHksIGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZXJlJ3MgYSBsb3Qgb2YgcGVuZGluZyB3cml0ZXNcbi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWxcbi8vIHRoZXJlJ3MgZW5vdWdoIHBlbmRpbmcgcmVhZGFibGUgZGF0YSBidWZmZXJlZCB1cC5cbi8vXG4vLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlblxuLy8gX3JlYWQobikgaXMgY2FsbGVkLCBpdCB0cmFuc2Zvcm1zIHRoZSBxdWV1ZWQgdXAgZGF0YSwgY2FsbGluZyB0aGVcbi8vIGJ1ZmZlcmVkIF93cml0ZSBjYidzIGFzIGl0IGNvbnN1bWVzIGNodW5rcy4gIElmIGNvbnN1bWluZyBhIHNpbmdsZVxuLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3Rcbi8vIG91dHB1dHRlZCBiaXQgY2FsbHMgdGhlIHJlYWRjYiwgYW5kIHN1YnNlcXVlbnQgY2h1bmtzIGp1c3QgZ28gaW50b1xuLy8gdGhlIHJlYWQgYnVmZmVyLCBhbmQgd2lsbCBjYXVzZSBpdCB0byBlbWl0ICdyZWFkYWJsZScgaWYgbmVjZXNzYXJ5LlxuLy9cbi8vIFRoaXMgd2F5LCBiYWNrLXByZXNzdXJlIGlzIGFjdHVhbGx5IGRldGVybWluZWQgYnkgdGhlIHJlYWRpbmcgc2lkZSxcbi8vIHNpbmNlIF9yZWFkIGhhcyB0byBiZSBjYWxsZWQgdG8gc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBjaHVuay4gIEhvd2V2ZXIsXG4vLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nXG4vLyBoZXJlLiAgRm9yIGV4YW1wbGUsIGltYWdpbmUgYSBzdHJlYW0gd2hlcmUgZXZlcnkgYnl0ZSBvZiBpbnB1dCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYW4gaW50ZWdlciBmcm9tIDAtMjU1LCBhbmQgdGhlbiByZXN1bHRzIGluIHRoYXQgbWFueVxuLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpblxuLy8gMWtiIG9mIGRhdGEgYmVpbmcgb3V0cHV0LiAgSW4gdGhpcyBjYXNlLCB5b3UgY291bGQgd3JpdGUgYSB2ZXJ5IHNtYWxsXG4vLyBhbW91bnQgb2YgaW5wdXQsIGFuZCBlbmQgdXAgd2l0aCBhIHZlcnkgbGFyZ2UgYW1vdW50IG9mIG91dHB1dC4gIEluXG4vLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGxcbi8vIHRoZSBzeXN0ZW0gdG8gc3RvcCBkb2luZyB0aGUgdHJhbnNmb3JtLiAgQSBzaW5nbGUgNE1CIHdyaXRlIGNvdWxkXG4vLyBjYXVzZSB0aGUgc3lzdGVtIHRvIHJ1biBvdXQgb2YgbWVtb3J5LlxuLy9cbi8vIEhvd2V2ZXIsIGV2ZW4gaW4gc3VjaCBhIHBhdGhvbG9naWNhbCBjYXNlLCBvbmx5IGEgc2luZ2xlIHdyaXR0ZW4gY2h1bmtcbi8vIHdvdWxkIGJlIGNvbnN1bWVkLCBhbmQgdGhlbiB0aGUgcmVzdCB3b3VsZCB3YWl0ICh1bi10cmFuc2Zvcm1lZCkgdW50aWxcbi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xuXG52YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnV0aWwuaW5oZXJpdHMoVHJhbnNmb3JtLCBEdXBsZXgpO1xuXG5mdW5jdGlvbiBhZnRlclRyYW5zZm9ybShlciwgZGF0YSkge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ3dyaXRlIGNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lcycpKTtcbiAgfVxuXG4gIHRzLndyaXRlY2h1bmsgPSBudWxsO1xuICB0cy53cml0ZWNiID0gbnVsbDtcblxuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICB0aGlzLnB1c2goZGF0YSk7XG5cbiAgY2IoZXIpO1xuXG4gIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHJzLnJlYWRpbmcgPSBmYWxzZTtcbiAgaWYgKHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7XG5cbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUgPSB7XG4gICAgYWZ0ZXJUcmFuc2Zvcm06IGFmdGVyVHJhbnNmb3JtLmJpbmQodGhpcyksXG4gICAgbmVlZFRyYW5zZm9ybTogZmFsc2UsXG4gICAgdHJhbnNmb3JtaW5nOiBmYWxzZSxcbiAgICB3cml0ZWNiOiBudWxsLFxuICAgIHdyaXRlY2h1bms6IG51bGwsXG4gICAgd3JpdGVlbmNvZGluZzogbnVsbFxuICB9O1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHRoaXMub24oJ3ByZWZpbmlzaCcsIHByZWZpbmlzaCk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaCgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyLCBkYXRhKSB7XG4gICAgICBkb25lKF90aGlzLCBlciwgZGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9uZSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfVxufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdfdHJhbnNmb3JtKCkgaXMgbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICB0cy53cml0ZWNiID0gY2I7XG4gIHRzLndyaXRlY2h1bmsgPSBjaHVuaztcbiAgdHMud3JpdGVlbmNvZGluZyA9IGVuY29kaW5nO1xuICBpZiAoIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHZhciBycyA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gICAgaWYgKHRzLm5lZWRUcmFuc2Zvcm0gfHwgcnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn07XG5cbi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuXG4vLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLlxuLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiB0cy53cml0ZWNiICYmICF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB0cy50cmFuc2Zvcm1pbmcgPSB0cnVlO1xuICAgIHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLCB0cy53cml0ZWVuY29kaW5nLCB0cy5hZnRlclRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFyayB0aGF0IHdlIG5lZWQgYSB0cmFuc2Zvcm0sIHNvIHRoYXQgYW55IGRhdGEgdGhhdCBjb21lcyBpblxuICAgIC8vIHdpbGwgZ2V0IHByb2Nlc3NlZCwgbm93IHRoYXQgd2UndmUgYXNrZWQgZm9yIGl0LlxuICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlO1xuICB9XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgRHVwbGV4LnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsIGVyciwgZnVuY3Rpb24gKGVycjIpIHtcbiAgICBjYihlcnIyKTtcbiAgICBfdGhpczIuZW1pdCgnY2xvc2UnKTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuXG4gIGlmIChkYXRhICE9IG51bGwpIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHN0cmVhbS5wdXNoKGRhdGEpO1xuXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG4gIGlmIChzdHJlYW0uX3dyaXRhYmxlU3RhdGUubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMCcpO1xuXG4gIGlmIChzdHJlYW0uX3RyYW5zZm9ybVN0YXRlLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufSIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbmltcG9ydCB7IEFib3J0RXJyb3IsIEh0dHBFcnJvciwgVGltZW91dEVycm9yIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBSZXNwb25zZSB9IGZyb20gXCIuL0h0dHBDbGllbnRcIjtcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiLi9JTG9nZ2VyXCI7XHJcbmltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG52YXIgcmVxdWVzdE1vZHVsZTtcclxuaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgLy8gSW4gb3JkZXIgdG8gaWdub3JlIHRoZSBkeW5hbWljIHJlcXVpcmUgaW4gd2VicGFjayBidWlsZHMgd2UgbmVlZCB0byBkbyB0aGlzIG1hZ2ljXHJcbiAgICAvLyBAdHMtaWdub3JlOiBUUyBkb2Vzbid0IGtub3cgYWJvdXQgdGhlc2UgbmFtZXNcclxuICAgIHZhciByZXF1aXJlRnVuYyA9IHR5cGVvZiBfX3dlYnBhY2tfcmVxdWlyZV9fID09PSBcImZ1bmN0aW9uXCIgPyBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyA6IHJlcXVpcmU7XHJcbiAgICByZXF1ZXN0TW9kdWxlID0gcmVxdWlyZUZ1bmMoXCJyZXF1ZXN0XCIpO1xyXG59XHJcbnZhciBOb2RlSHR0cENsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhOb2RlSHR0cENsaWVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE5vZGVIdHRwQ2xpZW50KGxvZ2dlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0TW9kdWxlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSAncmVxdWVzdCcgbW9kdWxlIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgX3RoaXMuY29va2llSmFyID0gcmVxdWVzdE1vZHVsZS5qYXIoKTtcclxuICAgICAgICBfdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdE1vZHVsZS5kZWZhdWx0cyh7IGphcjogX3RoaXMuY29va2llSmFyIH0pO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIE5vZGVIdHRwQ2xpZW50LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKGh0dHBSZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdEJvZHk7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5QnVmZmVyKGh0dHBSZXF1ZXN0LmNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0Qm9keSA9IEJ1ZmZlci5mcm9tKGh0dHBSZXF1ZXN0LmNvbnRlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEJvZHkgPSBodHRwUmVxdWVzdC5jb250ZW50IHx8IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRSZXF1ZXN0ID0gX3RoaXMucmVxdWVzdChodHRwUmVxdWVzdC51cmwsIHtcclxuICAgICAgICAgICAgICAgIGJvZHk6IHJlcXVlc3RCb2R5LFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgYmluYXJ5IGlzIGV4cGVjdGVkICdudWxsJyBzaG91bGQgYmUgdXNlZCwgb3RoZXJ3aXNlIGZvciB0ZXh0ICd1dGY4J1xyXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6IGh0dHBSZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJhcnJheWJ1ZmZlclwiID8gbnVsbCA6IFwidXRmOFwiLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogX19hc3NpZ24oeyBcclxuICAgICAgICAgICAgICAgICAgICAvLyBUZWxsIGF1dGggbWlkZGxld2FyZSB0byA0MDEgaW5zdGVhZCBvZiByZWRpcmVjdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiOiBcIlhNTEh0dHBSZXF1ZXN0XCIgfSwgaHR0cFJlcXVlc3QuaGVhZGVycyksXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IGh0dHBSZXF1ZXN0Lm1ldGhvZCxcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGh0dHBSZXF1ZXN0LnRpbWVvdXQsXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5hYm9ydFNpZ25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBSZXF1ZXN0LmFib3J0U2lnbmFsLm9uYWJvcnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiRVRJTUVET1VUXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBcIlRpbWVvdXQgZnJvbSBIVFRQIHJlcXVlc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IFRpbWVvdXRFcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyLmxvZyhMb2dMZXZlbC5XYXJuaW5nLCBcIkVycm9yIGZyb20gSFRUUCByZXF1ZXN0LiBcIiArIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgSHR0cFJlc3BvbnNlKHJlc3BvbnNlLnN0YXR1c0NvZGUsIHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UgfHwgXCJcIiwgYm9keSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBIdHRwRXJyb3IocmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSB8fCBcIlwiLCByZXNwb25zZS5zdGF0dXNDb2RlIHx8IDApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5hYm9ydFNpZ25hbCkge1xyXG4gICAgICAgICAgICAgICAgaHR0cFJlcXVlc3QuYWJvcnRTaWduYWwub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVxdWVzdC5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWJvcnRFcnJvcigpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOb2RlSHR0cENsaWVudC5wcm90b3R5cGUuZ2V0Q29va2llU3RyaW5nID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvb2tpZUphci5nZXRDb29raWVTdHJpbmcodXJsKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTm9kZUh0dHBDbGllbnQ7XHJcbn0oSHR0cENsaWVudCkpO1xyXG5leHBvcnQgeyBOb2RlSHR0cENsaWVudCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob2RlSHR0cENsaWVudC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbmltcG9ydCB7IFRleHRNZXNzYWdlRm9ybWF0IH0gZnJvbSBcIi4vVGV4dE1lc3NhZ2VGb3JtYXRcIjtcclxuaW1wb3J0IHsgaXNBcnJheUJ1ZmZlciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8qKiBAcHJpdmF0ZSAqL1xyXG52YXIgSGFuZHNoYWtlUHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIYW5kc2hha2VQcm90b2NvbCgpIHtcclxuICAgIH1cclxuICAgIC8vIEhhbmRzaGFrZSByZXF1ZXN0IGlzIGFsd2F5cyBKU09OXHJcbiAgICBIYW5kc2hha2VQcm90b2NvbC5wcm90b3R5cGUud3JpdGVIYW5kc2hha2VSZXF1ZXN0ID0gZnVuY3Rpb24gKGhhbmRzaGFrZVJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gVGV4dE1lc3NhZ2VGb3JtYXQud3JpdGUoSlNPTi5zdHJpbmdpZnkoaGFuZHNoYWtlUmVxdWVzdCkpO1xyXG4gICAgfTtcclxuICAgIEhhbmRzaGFrZVByb3RvY29sLnByb3RvdHlwZS5wYXJzZUhhbmRzaGFrZVJlc3BvbnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgcmVzcG9uc2VNZXNzYWdlO1xyXG4gICAgICAgIHZhciBtZXNzYWdlRGF0YTtcclxuICAgICAgICB2YXIgcmVtYWluaW5nRGF0YTtcclxuICAgICAgICBpZiAoaXNBcnJheUJ1ZmZlcihkYXRhKSB8fCAodHlwZW9mIEJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgQnVmZmVyKSkge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgaXMgYmluYXJ5IGJ1dCBzdGlsbCBuZWVkIHRvIHJlYWQgSlNPTiB0ZXh0IGZyb20gaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIHZhciBiaW5hcnlEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XHJcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JJbmRleCA9IGJpbmFyeURhdGEuaW5kZXhPZihUZXh0TWVzc2FnZUZvcm1hdC5SZWNvcmRTZXBhcmF0b3JDb2RlKTtcclxuICAgICAgICAgICAgaWYgKHNlcGFyYXRvckluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBpcyBpbmNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb250ZW50IGJlZm9yZSBzZXBhcmF0b3IgaXMgaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIC8vIG9wdGlvbmFsIGNvbnRlbnQgYWZ0ZXIgaXMgYWRkaXRpb25hbCBtZXNzYWdlc1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VMZW5ndGggPSBzZXBhcmF0b3JJbmRleCArIDE7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBiaW5hcnlEYXRhLnNsaWNlKDAsIHJlc3BvbnNlTGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZ0RhdGEgPSAoYmluYXJ5RGF0YS5ieXRlTGVuZ3RoID4gcmVzcG9uc2VMZW5ndGgpID8gYmluYXJ5RGF0YS5zbGljZShyZXNwb25zZUxlbmd0aCkuYnVmZmVyIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHZhciBzZXBhcmF0b3JJbmRleCA9IHRleHREYXRhLmluZGV4T2YoVGV4dE1lc3NhZ2VGb3JtYXQuUmVjb3JkU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgaWYgKHNlcGFyYXRvckluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBpcyBpbmNvbXBsZXRlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb250ZW50IGJlZm9yZSBzZXBhcmF0b3IgaXMgaGFuZHNoYWtlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIC8vIG9wdGlvbmFsIGNvbnRlbnQgYWZ0ZXIgaXMgYWRkaXRpb25hbCBtZXNzYWdlc1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VMZW5ndGggPSBzZXBhcmF0b3JJbmRleCArIDE7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhID0gdGV4dERhdGEuc3Vic3RyaW5nKDAsIHJlc3BvbnNlTGVuZ3RoKTtcclxuICAgICAgICAgICAgcmVtYWluaW5nRGF0YSA9ICh0ZXh0RGF0YS5sZW5ndGggPiByZXNwb25zZUxlbmd0aCkgPyB0ZXh0RGF0YS5zdWJzdHJpbmcocmVzcG9uc2VMZW5ndGgpIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBzaG91bGQgaGF2ZSBqdXN0IHRoZSBzaW5nbGUgaGFuZHNoYWtlIG1lc3NhZ2VcclxuICAgICAgICB2YXIgbWVzc2FnZXMgPSBUZXh0TWVzc2FnZUZvcm1hdC5wYXJzZShtZXNzYWdlRGF0YSk7XHJcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShtZXNzYWdlc1swXSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYSBoYW5kc2hha2UgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgLy8gbXVsdGlwbGUgbWVzc2FnZXMgY291bGQgaGF2ZSBhcnJpdmVkIHdpdGggaGFuZHNoYWtlXHJcbiAgICAgICAgLy8gcmV0dXJuIGFkZGl0aW9uYWwgZGF0YSB0byBiZSBwYXJzZWQgYXMgdXN1YWwsIG9yIG51bGwgaWYgYWxsIHBhcnNlZFxyXG4gICAgICAgIHJldHVybiBbcmVtYWluaW5nRGF0YSwgcmVzcG9uc2VNZXNzYWdlXTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSGFuZHNoYWtlUHJvdG9jb2w7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEhhbmRzaGFrZVByb3RvY29sIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhhbmRzaGFrZVByb3RvY29sLmpzLm1hcCIsImltcG9ydCB7IEh1YkNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9IdWJDb25uZWN0aW9uTWFuYWdlcic7XG5cbm5hbWVzcGFjZSBTaWduYWxSIHtcbiAgY29uc3QgYmxhem9yRXh0ZW5zaW9uczogc3RyaW5nID0gJ0JsYXpvckV4dGVuc2lvbnMnO1xuICAvLyBkZWZpbmUgd2hhdCB0aGlzIGV4dGVuc2lvbiBhZGRzIHRvIHRoZSB3aW5kb3cgb2JqZWN0IGluc2lkZSBCbGF6b3JFeHRlbnNpb25zXG4gIGNvbnN0IGV4dGVuc2lvbk9iamVjdCA9IHtcbiAgICBTaWduYWxSOiBuZXcgSHViQ29ubmVjdGlvbk1hbmFnZXIoKVxuICB9O1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhd2luZG93W2JsYXpvckV4dGVuc2lvbnNdKSB7XG4gICAgICAvLyB3aGVuIHRoZSBsaWJyYXJ5IGlzIGxvYWRlZCBpbiBhIGJyb3dzZXIgdmlhIGEgPHNjcmlwdD4gZWxlbWVudCwgbWFrZSB0aGVcbiAgICAgIC8vIGZvbGxvd2luZyBBUElzIGF2YWlsYWJsZSBpbiBnbG9iYWwgc2NvcGUgZm9yIGludm9jYXRpb24gZnJvbSBKU1xuICAgICAgd2luZG93W2JsYXpvckV4dGVuc2lvbnNdID0ge1xuICAgICAgICAuLi5leHRlbnNpb25PYmplY3RcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvd1tibGF6b3JFeHRlbnNpb25zXSA9IHtcbiAgICAgICAgLi4ud2luZG93W2JsYXpvckV4dGVuc2lvbnNdLFxuICAgICAgICAuLi5leHRlbnNpb25PYmplY3RcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cblNpZ25hbFIuaW5pdGlhbGl6ZSgpO1xuIiwiaW1wb3J0ICogYXMgc2lnbmFsUiBmcm9tIFwiQG1pY3Jvc29mdC9zaWduYWxyXCI7XHJcbmltcG9ydCAqIGFzIHNpYW5nbFJNZXNzYWdlUGFjayBmcm9tIFwiQG1pY3Jvc29mdC9zaWduYWxyLXByb3RvY29sLW1zZ3BhY2tcIjtcclxuaW1wb3J0IHsgSHR0cFRyYW5zcG9ydFR5cGUsIExvZ0xldmVsIH0gZnJvbSBcIkBtaWNyb3NvZnQvc2lnbmFsclwiO1xyXG5cclxudHlwZSBEb3ROZXRUeXBlID0ge1xyXG4gIGludm9rZU1ldGhvZDxUPihhc3NlbWJseU5hbWU6IHN0cmluZywgbWV0aG9kSWRlbnRpZmllcjogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IFQsXHJcbiAgaW52b2tlTWV0aG9kQXN5bmM8VD4oYXNzZW1ibHlOYW1lOiBzdHJpbmcsIG1ldGhvZElkZW50aWZpZXI6IHN0cmluZywgLi4uYXJnczogYW55W10pOiBQcm9taXNlPFQ+XHJcbn1cclxuXHJcbnR5cGUgRG90TmV0UmVmZXJlbmNlVHlwZSA9IHtcclxuICBpbnZva2VNZXRob2Q8VD4obWV0aG9kSWRlbnRpZmllcjogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IFQsXHJcbiAgaW52b2tlTWV0aG9kQXN5bmM8VD4obWV0aG9kSWRlbnRpZmllcjogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8VD5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEh1YkNvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBwcml2YXRlIF9odWJDb25uZWN0aW9uczogTWFwPHN0cmluZywgc2lnbmFsUi5IdWJDb25uZWN0aW9uPiA9IG5ldyBNYXA8c3RyaW5nLCBzaWduYWxSLkh1YkNvbm5lY3Rpb24+KCk7XHJcbiAgcHJpdmF0ZSBfaGFuZGxlczogTWFwPHN0cmluZywgKHBheWxvYWQ6IGFueSkgPT4gUHJvbWlzZTx2b2lkPj4gPSBuZXcgTWFwPHN0cmluZywgKHBheWxvYWQ6IGFueSkgPT4gUHJvbWlzZTx2b2lkPj4oKTtcclxuXHJcbiAgcHVibGljIENyZWF0ZUNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbklkOiBzdHJpbmcsIGh0dHBDb25uZWN0aW9uT3B0aW9uczogRG90TmV0UmVmZXJlbmNlVHlwZSkgPT4ge1xyXG4gICAgaWYgKCFjb25uZWN0aW9uSWQpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb25uZWN0aW9uSWQuJyk7XHJcbiAgICBpZiAoIWh0dHBDb25uZWN0aW9uT3B0aW9ucykgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRyYW5zcG9ydCBvcHRpb25zLicpO1xyXG5cclxuICAgIGNvbnN0IHVybCA9IGh0dHBDb25uZWN0aW9uT3B0aW9ucy5pbnZva2VNZXRob2Q8c3RyaW5nPignZ2V0X1VybCcpO1xyXG5cclxuICAgIGlmICghdXJsKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaHViIHVybC4nKTtcclxuXHJcbiAgICBsZXQgb3B0aW9uczogYW55ID0ge1xyXG4gICAgICBsb2dnZXI6IGh0dHBDb25uZWN0aW9uT3B0aW9ucy5pbnZva2VNZXRob2Q8TG9nTGV2ZWw+KCdnZXRfTG9nTGV2ZWwnKSxcclxuICAgICAgdHJhbnNwb3J0OiBodHRwQ29ubmVjdGlvbk9wdGlvbnMuaW52b2tlTWV0aG9kPEh0dHBUcmFuc3BvcnRUeXBlPignZ2V0X1RyYW5zcG9ydCcpLFxyXG4gICAgICBsb2dNZXNzYWdlQ29udGVudDogaHR0cENvbm5lY3Rpb25PcHRpb25zLmludm9rZU1ldGhvZDxib29sZWFuPignZ2V0X0xvZ01lc3NhZ2VDb250ZW50JyksXHJcbiAgICAgIHNraXBOZWdvdGlhdGlvbjogaHR0cENvbm5lY3Rpb25PcHRpb25zLmludm9rZU1ldGhvZDxib29sZWFuPignZ2V0X1NraXBOZWdvdGlhdGlvbicpXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChodHRwQ29ubmVjdGlvbk9wdGlvbnMuaW52b2tlTWV0aG9kPGJvb2xlYW4+KCdIYXNBY2Nlc3NUb2tlbkZhY3RvcnknKSkge1xyXG4gICAgICBvcHRpb25zLmFjY2Vzc1Rva2VuRmFjdG9yeSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGh0dHBDb25uZWN0aW9uT3B0aW9ucy5pbnZva2VNZXRob2RBc3luYzxzdHJpbmc+KCdHZXRBY2Nlc3NUb2tlbicpO1xyXG4gICAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUodG9rZW4pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9odWJDb25uZWN0aW9uc1tjb25uZWN0aW9uSWRdKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGNvbm5lY3Rpb25CdWlsZGVyID0gbmV3IHNpZ25hbFIuSHViQ29ubmVjdGlvbkJ1aWxkZXIoKVxyXG4gICAgICAud2l0aFVybCh1cmwsIG9wdGlvbnMpO1xyXG5cclxuICAgIGlmIChodHRwQ29ubmVjdGlvbk9wdGlvbnMuaW52b2tlTWV0aG9kPGJvb2xlYW4+KCdnZXRfRW5hYmxlTWVzc2FnZVBhY2snKSkge1xyXG4gICAgICBjb25uZWN0aW9uQnVpbGRlclxyXG4gICAgICAgIC53aXRoSHViUHJvdG9jb2wobmV3IHNpYW5nbFJNZXNzYWdlUGFjay5NZXNzYWdlUGFja0h1YlByb3RvY29sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2h1YkNvbm5lY3Rpb25zLnNldChjb25uZWN0aW9uSWQsIGNvbm5lY3Rpb25CdWlsZGVyLmJ1aWxkKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIFJlbW92ZUNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbklkOiBzdHJpbmcpID0+IHtcclxuICAgIHRoaXMuX2h1YkNvbm5lY3Rpb25zLmRlbGV0ZShjb25uZWN0aW9uSWQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIFN0YXJ0Q29ubmVjdGlvbiA9IChjb25uZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuR2V0Q29ubmVjdGlvbihjb25uZWN0aW9uSWQpO1xyXG5cclxuICAgIHJldHVybiBjb25uZWN0aW9uLnN0YXJ0KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgU3RvcENvbm5lY3Rpb24gPSAoY29ubmVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLkdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkKTtcclxuXHJcbiAgICByZXR1cm4gY29ubmVjdGlvbi5zdG9wKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgSW52b2tlQXN5bmMgPSAoY29ubmVjdGlvbklkOiBzdHJpbmcsIG1ldGhvZE5hbWU6IHN0cmluZywgYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLkdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkKTtcclxuXHJcbiAgICByZXR1cm4gY29ubmVjdGlvbi5pbnZva2UobWV0aG9kTmFtZSwgLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgSW52b2tlV2l0aFJlc3VsdEFzeW5jID0gYXN5bmMgKGNvbm5lY3Rpb25JZDogc3RyaW5nLCBtZXRob2ROYW1lOiBzdHJpbmcsIGFyZ3M6IGFueVtdKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLkdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkKTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gYXdhaXQgY29ubmVjdGlvbi5pbnZva2UobWV0aG9kTmFtZSwgLi4uYXJncyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuUmVwbGFjZVR5cGVkQXJyYXkocmVzdWx0KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgR2V0Q29ubmVjdGlvbiA9IChjb25uZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCFjb25uZWN0aW9uSWQpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb25uZWN0aW9uSWQuJyk7XHJcblxyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuX2h1YkNvbm5lY3Rpb25zLmdldChjb25uZWN0aW9uSWQpO1xyXG5cclxuICAgIGlmICghY29ubmVjdGlvbikgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbm5lY3Rpb24uJyk7XHJcblxyXG4gICAgcmV0dXJuIGNvbm5lY3Rpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIFJlcGxhY2VUeXBlZEFycmF5ID0gKG9iajogYW55KTogYW55ID0+IHtcclxuICAgIGlmIChvYmogaW5zdGFuY2VvZiBJbnQ4QXJyYXkgfHxcclxuICAgICAgICBvYmogaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8XHJcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkgfHxcclxuICAgICAgICBvYmogaW5zdGFuY2VvZiBJbnQxNkFycmF5IHx8XHJcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgVWludDE2QXJyYXkgfHxcclxuICAgICAgICBvYmogaW5zdGFuY2VvZiBJbnQzMkFycmF5IHx8XHJcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgVWludDMyQXJyYXkgfHxcclxuICAgICAgICBvYmogaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHxcclxuICAgICAgICBvYmogaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpXHJcbiAgICB7XHJcbiAgICAgIG9iaiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iajtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBPbiA9IChjb25uZWN0aW9uSWQ6IHN0cmluZywgY2FsbGJhY2s6IERvdE5ldFJlZmVyZW5jZVR5cGUpID0+IHtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLkdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkKTtcclxuICAgIGNvbnN0IGhhbmRsZSA9ICguLi5wYXlsb2FkcykgPT4gY2FsbGJhY2suaW52b2tlTWV0aG9kQXN5bmM8dm9pZD4oXHJcbiAgICAgICdPbicsIHBheWxvYWRzLm1hcChwYXlsb2FkID0+IEpTT04uc3RyaW5naWZ5KHRoaXMuUmVwbGFjZVR5cGVkQXJyYXkocGF5bG9hZCkpKSk7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlcy5zZXQoY2FsbGJhY2suaW52b2tlTWV0aG9kPHN0cmluZz4oJ2dldF9JZCcpLCBoYW5kbGUpO1xyXG5cclxuICAgIGNvbm5lY3Rpb24ub24oY2FsbGJhY2suaW52b2tlTWV0aG9kPHN0cmluZz4oJ2dldF9NZXRob2ROYW1lJyksIGhhbmRsZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgT2ZmID0gKGNvbm5lY3Rpb25JZDogc3RyaW5nLCBtZXRob2ROYW1lOiBzdHJpbmcsIGhhbmRsZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLkdldENvbm5lY3Rpb24oY29ubmVjdGlvbklkKTtcclxuICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMuX2hhbmRsZXMuZ2V0KGhhbmRsZUlkKTtcclxuXHJcbiAgICBpZiAoaGFuZGxlKSB7XHJcbiAgICAgIGNvbm5lY3Rpb24ub2ZmKG1ldGhvZE5hbWUsIGhhbmRsZSk7XHJcblxyXG4gICAgICB0aGlzLl9oYW5kbGVzLmRlbGV0ZShoYW5kbGVJZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgT25DbG9zZSA9IChjb25uZWN0aW9uSWQ6IHN0cmluZywgb25FcnJvckNhbGxiYWNrOiBEb3ROZXRSZWZlcmVuY2VUeXBlKSA9PiB7XHJcbiAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5HZXRDb25uZWN0aW9uKGNvbm5lY3Rpb25JZCk7XHJcblxyXG4gICAgY29ubmVjdGlvbi5vbmNsb3NlKGFzeW5jIGVyciA9PiB7XHJcbiAgICAgIG9uRXJyb3JDYWxsYmFjay5pbnZva2VNZXRob2RBc3luYzx2b2lkPignT25DbG9zZScsIEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsoXG4gICAgICB1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpXG4gICAgKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG4vLyBjb21wYXJlIGFuZCBpc0J1ZmZlciB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2Jsb2IvNjgwZTllNWU0ODhmMjJhYWMyNzU5OWE1N2RjODQ0YTYzMTU5MjhkZC9pbmRleC5qc1xuLy8gb3JpZ2luYWwgbm90aWNlOlxuXG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciB4ID0gYS5sZW5ndGg7XG4gIHZhciB5ID0gYi5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV07XG4gICAgICB5ID0gYltpXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGlzQnVmZmVyKGIpIHtcbiAgaWYgKGdsb2JhbC5CdWZmZXIgJiYgdHlwZW9mIGdsb2JhbC5CdWZmZXIuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZ2xvYmFsLkJ1ZmZlci5pc0J1ZmZlcihiKTtcbiAgfVxuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKTtcbn1cblxuLy8gYmFzZWQgb24gbm9kZSBhc3NlcnQsIG9yaWdpbmFsIG5vdGljZTpcbi8vIE5COiBUaGUgVVJMIHRvIHRoZSBDb21tb25KUyBzcGVjIGlzIGtlcHQganVzdCBmb3IgdHJhZGl0aW9uLlxuLy8gICAgIG5vZGUtYXNzZXJ0IGhhcyBldm9sdmVkIGEgbG90IHNpbmNlIHRoZW4sIGJvdGggaW4gQVBJIGFuZCBiZWhhdmlvci5cblxuLy8gaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvVW5pdF9UZXN0aW5nLzEuMFxuLy9cbi8vIFRISVMgSVMgTk9UIFRFU1RFRCBOT1IgTElLRUxZIFRPIFdPUksgT1VUU0lERSBWOCFcbi8vXG4vLyBPcmlnaW5hbGx5IGZyb20gbmFyd2hhbC5qcyAoaHR0cDovL25hcndoYWxqcy5vcmcpXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDkgVGhvbWFzIFJvYmluc29uIDwyODBub3J0aC5jb20+XG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgJ1NvZnR3YXJlJyksIHRvXG4vLyBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZVxuLy8gcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4vLyBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbC8nKTtcbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBmdW5jdGlvbnNIYXZlTmFtZXMgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZm9vKCkge30ubmFtZSA9PT0gJ2Zvbyc7XG59KCkpO1xuZnVuY3Rpb24gcFRvU3RyaW5nIChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xufVxuZnVuY3Rpb24gaXNWaWV3KGFycmJ1Zikge1xuICBpZiAoaXNCdWZmZXIoYXJyYnVmKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoYXJyYnVmKTtcbiAgfVxuICBpZiAoIWFycmJ1Zikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYXJyYnVmIGluc3RhbmNlb2YgRGF0YVZpZXcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoYXJyYnVmLmJ1ZmZlciAmJiBhcnJidWYuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4vLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvd1xuLy8gQXNzZXJ0aW9uRXJyb3IncyB3aGVuIHBhcnRpY3VsYXIgY29uZGl0aW9ucyBhcmUgbm90IG1ldC4gVGhlXG4vLyBhc3NlcnQgbW9kdWxlIG11c3QgY29uZm9ybSB0byB0aGUgZm9sbG93aW5nIGludGVyZmFjZS5cblxudmFyIGFzc2VydCA9IG1vZHVsZS5leHBvcnRzID0gb2s7XG5cbi8vIDIuIFRoZSBBc3NlcnRpb25FcnJvciBpcyBkZWZpbmVkIGluIGFzc2VydC5cbi8vIG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IoeyBtZXNzYWdlOiBtZXNzYWdlLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCB9KVxuXG52YXIgcmVnZXggPSAvXFxzKmZ1bmN0aW9uXFxzKyhbXlxcKFxcc10qKVxccyovO1xuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9mdW5jdGlvbi5wcm90b3R5cGUubmFtZS9ibG9iL2FkZWVlZWM4YmZjYzYwNjhiMTg3ZDdkOWZiM2Q1YmIxZDNhMzA4OTkvaW1wbGVtZW50YXRpb24uanNcbmZ1bmN0aW9uIGdldE5hbWUoZnVuYykge1xuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihmdW5jKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKSB7XG4gICAgcmV0dXJuIGZ1bmMubmFtZTtcbiAgfVxuICB2YXIgc3RyID0gZnVuYy50b1N0cmluZygpO1xuICB2YXIgbWF0Y2ggPSBzdHIubWF0Y2gocmVnZXgpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV07XG59XG5hc3NlcnQuQXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiBBc3NlcnRpb25FcnJvcihvcHRpb25zKSB7XG4gIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gIHRoaXMuYWN0dWFsID0gb3B0aW9ucy5hY3R1YWw7XG4gIHRoaXMuZXhwZWN0ZWQgPSBvcHRpb25zLmV4cGVjdGVkO1xuICB0aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjtcbiAgaWYgKG9wdGlvbnMubWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNZXNzYWdlKHRoaXMpO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7XG4gIH1cbiAgdmFyIHN0YWNrU3RhcnRGdW5jdGlvbiA9IG9wdGlvbnMuc3RhY2tTdGFydEZ1bmN0aW9uIHx8IGZhaWw7XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHN0YWNrU3RhcnRGdW5jdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gbm9uIHY4IGJyb3dzZXJzIHNvIHdlIGNhbiBoYXZlIGEgc3RhY2t0cmFjZVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICBpZiAoZXJyLnN0YWNrKSB7XG4gICAgICB2YXIgb3V0ID0gZXJyLnN0YWNrO1xuXG4gICAgICAvLyB0cnkgdG8gc3RyaXAgdXNlbGVzcyBmcmFtZXNcbiAgICAgIHZhciBmbl9uYW1lID0gZ2V0TmFtZShzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICAgICAgdmFyIGlkeCA9IG91dC5pbmRleE9mKCdcXG4nICsgZm5fbmFtZSk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgLy8gb25jZSB3ZSBoYXZlIGxvY2F0ZWQgdGhlIGZ1bmN0aW9uIGZyYW1lXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYmVmb3JlIGl0IChhbmQgaXRzIGxpbmUpXG4gICAgICAgIHZhciBuZXh0X2xpbmUgPSBvdXQuaW5kZXhPZignXFxuJywgaWR4ICsgMSk7XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcobmV4dF9saW5lICsgMSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhY2sgPSBvdXQ7XG4gICAgfVxuICB9XG59O1xuXG4vLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxudXRpbC5pbmhlcml0cyhhc3NlcnQuQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gdHJ1bmNhdGUocywgbikge1xuICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzO1xuICB9XG59XG5mdW5jdGlvbiBpbnNwZWN0KHNvbWV0aGluZykge1xuICBpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzIHx8ICF1dGlsLmlzRnVuY3Rpb24oc29tZXRoaW5nKSkge1xuICAgIHJldHVybiB1dGlsLmluc3BlY3Qoc29tZXRoaW5nKTtcbiAgfVxuICB2YXIgcmF3bmFtZSA9IGdldE5hbWUoc29tZXRoaW5nKTtcbiAgdmFyIG5hbWUgPSByYXduYW1lID8gJzogJyArIHJhd25hbWUgOiAnJztcbiAgcmV0dXJuICdbRnVuY3Rpb24nICsgIG5hbWUgKyAnXSc7XG59XG5mdW5jdGlvbiBnZXRNZXNzYWdlKHNlbGYpIHtcbiAgcmV0dXJuIHRydW5jYXRlKGluc3BlY3Qoc2VsZi5hY3R1YWwpLCAxMjgpICsgJyAnICtcbiAgICAgICAgIHNlbGYub3BlcmF0b3IgKyAnICcgK1xuICAgICAgICAgdHJ1bmNhdGUoaW5zcGVjdChzZWxmLmV4cGVjdGVkKSwgMTI4KTtcbn1cblxuLy8gQXQgcHJlc2VudCBvbmx5IHRoZSB0aHJlZSBrZXlzIG1lbnRpb25lZCBhYm92ZSBhcmUgdXNlZCBhbmRcbi8vIHVuZGVyc3Rvb2QgYnkgdGhlIHNwZWMuIEltcGxlbWVudGF0aW9ucyBvciBzdWIgbW9kdWxlcyBjYW4gcGFzc1xuLy8gb3RoZXIga2V5cyB0byB0aGUgQXNzZXJ0aW9uRXJyb3IncyBjb25zdHJ1Y3RvciAtIHRoZXkgd2lsbCBiZVxuLy8gaWdub3JlZC5cblxuLy8gMy4gQWxsIG9mIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIG11c3QgdGhyb3cgYW4gQXNzZXJ0aW9uRXJyb3Jcbi8vIHdoZW4gYSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiBpcyBub3QgbWV0LCB3aXRoIGEgbWVzc2FnZSB0aGF0XG4vLyBtYXkgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcm92aWRlZC4gIEFsbCBhc3NlcnRpb24gbWV0aG9kcyBwcm92aWRlXG4vLyBib3RoIHRoZSBhY3R1YWwgYW5kIGV4cGVjdGVkIHZhbHVlcyB0byB0aGUgYXNzZXJ0aW9uIGVycm9yIGZvclxuLy8gZGlzcGxheSBwdXJwb3Nlcy5cblxuZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZ1bmN0aW9uKSB7XG4gIHRocm93IG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3Ioe1xuICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgIG9wZXJhdG9yOiBvcGVyYXRvcixcbiAgICBzdGFja1N0YXJ0RnVuY3Rpb246IHN0YWNrU3RhcnRGdW5jdGlvblxuICB9KTtcbn1cblxuLy8gRVhURU5TSU9OISBhbGxvd3MgZm9yIHdlbGwgYmVoYXZlZCBlcnJvcnMgZGVmaW5lZCBlbHNld2hlcmUuXG5hc3NlcnQuZmFpbCA9IGZhaWw7XG5cbi8vIDQuIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWRcbi8vIGJ5ICEhZ3VhcmQuXG4vLyBhc3NlcnQub2soZ3VhcmQsIG1lc3NhZ2Vfb3B0KTtcbi8vIFRoaXMgc3RhdGVtZW50IGlzIGVxdWl2YWxlbnQgdG8gYXNzZXJ0LmVxdWFsKHRydWUsICEhZ3VhcmQsXG4vLyBtZXNzYWdlX29wdCk7LiBUbyB0ZXN0IHN0cmljdGx5IGZvciB0aGUgdmFsdWUgdHJ1ZSwgdXNlXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgZ3VhcmQsIG1lc3NhZ2Vfb3B0KTsuXG5cbmZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5vayk7XG59XG5hc3NlcnQub2sgPSBvaztcblxuLy8gNS4gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoXG4vLyA9PS5cbi8vIGFzc2VydC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5lcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQuZXF1YWwpO1xufTtcblxuLy8gNi4gVGhlIG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHdoZXRoZXIgdHdvIG9iamVjdHMgYXJlIG5vdCBlcXVhbFxuLy8gd2l0aCAhPSBhc3NlcnQubm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RXF1YWwgPSBmdW5jdGlvbiBub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPScsIGFzc2VydC5ub3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLlxuLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5kZWVwRXF1YWwgPSBmdW5jdGlvbiBkZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZmFsc2UpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcEVxdWFsJywgYXNzZXJ0LmRlZXBFcXVhbCk7XG4gIH1cbn07XG5cbmFzc2VydC5kZWVwU3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBkZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgdHJ1ZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwU3RyaWN0RXF1YWwnLCBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBzdHJpY3QsIG1lbW9zKSB7XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgJiYgaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCkgPT09IDA7XG5cbiAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNEYXRlKGFjdHVhbCkgJiYgdXRpbC5pc0RhdGUoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMgSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBSZWdFeHAgb2JqZWN0IHdpdGggdGhlIHNhbWUgc291cmNlIGFuZFxuICAvLyBwcm9wZXJ0aWVzIChgZ2xvYmFsYCwgYG11bHRpbGluZWAsIGBsYXN0SW5kZXhgLCBgaWdub3JlQ2FzZWApLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNSZWdFeHAoYWN0dWFsKSAmJiB1dGlsLmlzUmVnRXhwKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwuc291cmNlID09PSBleHBlY3RlZC5zb3VyY2UgJiZcbiAgICAgICAgICAgYWN0dWFsLmdsb2JhbCA9PT0gZXhwZWN0ZWQuZ2xvYmFsICYmXG4gICAgICAgICAgIGFjdHVhbC5tdWx0aWxpbmUgPT09IGV4cGVjdGVkLm11bHRpbGluZSAmJlxuICAgICAgICAgICBhY3R1YWwubGFzdEluZGV4ID09PSBleHBlY3RlZC5sYXN0SW5kZXggJiZcbiAgICAgICAgICAgYWN0dWFsLmlnbm9yZUNhc2UgPT09IGV4cGVjdGVkLmlnbm9yZUNhc2U7XG5cbiAgLy8gNy40LiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuICB9IGVsc2UgaWYgKChhY3R1YWwgPT09IG51bGwgfHwgdHlwZW9mIGFjdHVhbCAhPT0gJ29iamVjdCcpICYmXG4gICAgICAgICAgICAgKGV4cGVjdGVkID09PSBudWxsIHx8IHR5cGVvZiBleHBlY3RlZCAhPT0gJ29iamVjdCcpKSB7XG4gICAgcmV0dXJuIHN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gSWYgYm90aCB2YWx1ZXMgYXJlIGluc3RhbmNlcyBvZiB0eXBlZCBhcnJheXMsIHdyYXAgdGhlaXIgdW5kZXJseWluZ1xuICAvLyBBcnJheUJ1ZmZlcnMgaW4gYSBCdWZmZXIgZWFjaCB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZVxuICAvLyBUaGlzIG9wdGltaXphdGlvbiByZXF1aXJlcyB0aGUgYXJyYXlzIHRvIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjaGVja2VkIGJ5XG4gIC8vIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgKGFrYSBwVG9TdHJpbmcpLiBOZXZlciBwZXJmb3JtIGJpbmFyeVxuICAvLyBjb21wYXJpc29ucyBmb3IgRmxvYXQqQXJyYXlzLCB0aG91Z2gsIHNpbmNlIGUuZy4gKzAgPT09IC0wIGJ1dCB0aGVpclxuICAvLyBiaXQgcGF0dGVybnMgYXJlIG5vdCBpZGVudGljYWwuXG4gIH0gZWxzZSBpZiAoaXNWaWV3KGFjdHVhbCkgJiYgaXNWaWV3KGV4cGVjdGVkKSAmJlxuICAgICAgICAgICAgIHBUb1N0cmluZyhhY3R1YWwpID09PSBwVG9TdHJpbmcoZXhwZWN0ZWQpICYmXG4gICAgICAgICAgICAgIShhY3R1YWwgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHxcbiAgICAgICAgICAgICAgIGFjdHVhbCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpIHtcbiAgICByZXR1cm4gY29tcGFyZShuZXcgVWludDhBcnJheShhY3R1YWwuYnVmZmVyKSxcbiAgICAgICAgICAgICAgICAgICBuZXcgVWludDhBcnJheShleHBlY3RlZC5idWZmZXIpKSA9PT0gMDtcblxuICAvLyA3LjUgRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2UgaWYgKGlzQnVmZmVyKGFjdHVhbCkgIT09IGlzQnVmZmVyKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBtZW1vcyA9IG1lbW9zIHx8IHthY3R1YWw6IFtdLCBleHBlY3RlZDogW119O1xuXG4gICAgdmFyIGFjdHVhbEluZGV4ID0gbWVtb3MuYWN0dWFsLmluZGV4T2YoYWN0dWFsKTtcbiAgICBpZiAoYWN0dWFsSW5kZXggIT09IC0xKSB7XG4gICAgICBpZiAoYWN0dWFsSW5kZXggPT09IG1lbW9zLmV4cGVjdGVkLmluZGV4T2YoZXhwZWN0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9zLmFjdHVhbC5wdXNoKGFjdHVhbCk7XG4gICAgbWVtb3MuZXhwZWN0ZWQucHVzaChleHBlY3RlZCk7XG5cbiAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCwgc3RyaWN0LCBtZW1vcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgc3RyaWN0LCBhY3R1YWxWaXNpdGVkT2JqZWN0cykge1xuICBpZiAoYSA9PT0gbnVsbCB8fCBhID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvLyBpZiBvbmUgaXMgYSBwcmltaXRpdmUsIHRoZSBvdGhlciBtdXN0IGJlIHNhbWVcbiAgaWYgKHV0aWwuaXNQcmltaXRpdmUoYSkgfHwgdXRpbC5pc1ByaW1pdGl2ZShiKSlcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgaWYgKHN0cmljdCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSk7XG4gIHZhciBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7XG4gIGlmICgoYUlzQXJncyAmJiAhYklzQXJncykgfHwgKCFhSXNBcmdzICYmIGJJc0FyZ3MpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFJc0FyZ3MpIHtcbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIsIHN0cmljdCk7XG4gIH1cbiAgdmFyIGthID0gb2JqZWN0S2V5cyhhKTtcbiAgdmFyIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgdmFyIGtleSwgaTtcbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT09IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBzdHJpY3QsIGFjdHVhbFZpc2l0ZWRPYmplY3RzKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gOC4gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG4vLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdERlZXBFcXVhbCA9IGZ1bmN0aW9uIG5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIGZhbHNlKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ25vdERlZXBFcXVhbCcsIGFzc2VydC5ub3REZWVwRXF1YWwpO1xuICB9XG59O1xuXG5hc3NlcnQubm90RGVlcFN0cmljdEVxdWFsID0gbm90RGVlcFN0cmljdEVxdWFsO1xuZnVuY3Rpb24gbm90RGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgdHJ1ZSkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwU3RyaWN0RXF1YWwnLCBub3REZWVwU3RyaWN0RXF1YWwpO1xuICB9XG59XG5cblxuLy8gOS4gVGhlIHN0cmljdCBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc3RyaWN0IGVxdWFsaXR5LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbi8vIGFzc2VydC5zdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5zdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PT0nLCBhc3NlcnQuc3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG4vLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXNcbi8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdFN0cmljdEVxdWFsID0gZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9PScsIGFzc2VydC5ub3RTdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChleHBlY3RlZCkgPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICByZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZS4gIFRoZSBpbnN0YW5jZW9mIGNoZWNrIGRvZXNuJ3Qgd29yayBmb3IgYXJyb3cgZnVuY3Rpb25zLlxuICB9XG5cbiAgaWYgKEVycm9yLmlzUHJvdG90eXBlT2YoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGV4cGVjdGVkLmNhbGwoe30sIGFjdHVhbCkgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIF90cnlCbG9jayhibG9jaykge1xuICB2YXIgZXJyb3I7XG4gIHRyeSB7XG4gICAgYmxvY2soKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9yID0gZTtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5cbmZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csIGJsb2NrLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICB2YXIgYWN0dWFsO1xuXG4gIGlmICh0eXBlb2YgYmxvY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJsb2NrXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cGVjdGVkID09PSAnc3RyaW5nJykge1xuICAgIG1lc3NhZ2UgPSBleHBlY3RlZDtcbiAgICBleHBlY3RlZCA9IG51bGw7XG4gIH1cblxuICBhY3R1YWwgPSBfdHJ5QmxvY2soYmxvY2spO1xuXG4gIG1lc3NhZ2UgPSAoZXhwZWN0ZWQgJiYgZXhwZWN0ZWQubmFtZSA/ICcgKCcgKyBleHBlY3RlZC5uYW1lICsgJykuJyA6ICcuJykgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgPyAnICcgKyBtZXNzYWdlIDogJy4nKTtcblxuICBpZiAoc2hvdWxkVGhyb3cgJiYgIWFjdHVhbCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ01pc3NpbmcgZXhwZWN0ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpO1xuICB9XG5cbiAgdmFyIHVzZXJQcm92aWRlZE1lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZyc7XG4gIHZhciBpc1Vud2FudGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIHV0aWwuaXNFcnJvcihhY3R1YWwpO1xuICB2YXIgaXNVbmV4cGVjdGVkRXhjZXB0aW9uID0gIXNob3VsZFRocm93ICYmIGFjdHVhbCAmJiAhZXhwZWN0ZWQ7XG5cbiAgaWYgKChpc1Vud2FudGVkRXhjZXB0aW9uICYmXG4gICAgICB1c2VyUHJvdmlkZWRNZXNzYWdlICYmXG4gICAgICBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHxcbiAgICAgIGlzVW5leHBlY3RlZEV4Y2VwdGlvbikge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuLy8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC50aHJvd3MgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cyh0cnVlLCBibG9jaywgZXJyb3IsIG1lc3NhZ2UpO1xufTtcblxuLy8gRVhURU5TSU9OISBUaGlzIGlzIGFubm95aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhpcyBtb2R1bGUuXG5hc3NlcnQuZG9lc05vdFRocm93ID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7XG4gIF90aHJvd3MoZmFsc2UsIGJsb2NrLCBlcnJvciwgbWVzc2FnZSk7XG59O1xuXG5hc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uKGVycikgeyBpZiAoZXJyKSB0aHJvdyBlcnI7IH07XG5cbi8vIEV4cG9zZSBhIHN0cmljdCBvbmx5IHZhcmlhbnQgb2YgYXNzZXJ0XG5mdW5jdGlvbiBzdHJpY3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09Jywgc3RyaWN0KTtcbn1cbmFzc2VydC5zdHJpY3QgPSBvYmplY3RBc3NpZ24oc3RyaWN0LCBhc3NlcnQsIHtcbiAgZXF1YWw6IGFzc2VydC5zdHJpY3RFcXVhbCxcbiAgZGVlcEVxdWFsOiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsLFxuICBub3RFcXVhbDogYXNzZXJ0Lm5vdFN0cmljdEVxdWFsLFxuICBub3REZWVwRXF1YWw6IGFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWxcbn0pO1xuYXNzZXJ0LnN0cmljdC5zdHJpY3QgPSBhc3NlcnQuc3RyaWN0O1xuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTtcbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuZnVuY3Rpb24gY29weUJ1ZmZlcihzcmMsIHRhcmdldCwgb2Zmc2V0KSB7XG4gIHNyYy5jb3B5KHRhcmdldCwgb2Zmc2V0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1ZmZlckxpc3QpO1xuXG4gICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKHYpIHtcbiAgICB2YXIgZW50cnkgPSB7IGRhdGE6IHYsIG5leHQ6IG51bGwgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgdGhpcy50YWlsID0gZW50cnk7XG4gICAgKyt0aGlzLmxlbmd0aDtcbiAgfTtcblxuICBCdWZmZXJMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgdmFyIGVudHJ5ID0geyBkYXRhOiB2LCBuZXh0OiB0aGlzLmhlYWQgfTtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgICsrdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO2Vsc2UgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgLS10aGlzLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIEJ1ZmZlckxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIGpvaW4ocykge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgcmV0ICs9IHMgKyBwLmRhdGE7XG4gICAgfXJldHVybiByZXQ7XG4gIH07XG5cbiAgQnVmZmVyTGlzdC5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0KG4pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSByZXR1cm4gdGhpcy5oZWFkLmRhdGE7XG4gICAgdmFyIHJldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuID4+PiAwKTtcbiAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKHApIHtcbiAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTtcblxuaWYgKHV0aWwgJiYgdXRpbC5pbnNwZWN0ICYmIHV0aWwuaW5zcGVjdC5jdXN0b20pIHtcbiAgbW9kdWxlLmV4cG9ydHMucHJvdG90eXBlW3V0aWwuaW5zcGVjdC5jdXN0b21dID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvYmogPSB1dGlsLmluc3BlY3QoeyBsZW5ndGg6IHRoaXMubGVuZ3RoIH0pO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyAnICcgKyBvYmo7XG4gIH07XG59IiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gYSBwYXNzdGhyb3VnaCBzdHJlYW0uXG4vLyBiYXNpY2FsbHkganVzdCB0aGUgbW9zdCBtaW5pbWFsIHNvcnQgb2YgVHJhbnNmb3JtIHN0cmVhbS5cbi8vIEV2ZXJ5IHdyaXR0ZW4gY2h1bmsgZ2V0cyBvdXRwdXQgYXMtaXMuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYXNzVGhyb3VnaDtcblxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vX3N0cmVhbV90cmFuc2Zvcm0nKTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG51dGlsLmluaGVyaXRzKFBhc3NUaHJvdWdoLCBUcmFuc2Zvcm0pO1xuXG5mdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpIHJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7XG5cbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cblBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobnVsbCwgY2h1bmspO1xufTsiLCIndXNlIHN0cmljdCdcblxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbScpLlRyYW5zZm9ybVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIGJsID0gcmVxdWlyZSgnYmwnKVxuXG5mdW5jdGlvbiBCYXNlIChvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgb3B0cy5vYmplY3RNb2RlID0gdHJ1ZVxuICBvcHRzLmhpZ2hXYXRlck1hcmsgPSAxNlxuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdHMpXG5cbiAgdGhpcy5fbXNncGFjayA9IG9wdHMubXNncGFja1xufVxuXG5pbmhlcml0cyhCYXNlLCBUcmFuc2Zvcm0pXG5cbmZ1bmN0aW9uIEVuY29kZXIgKG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVuY29kZXIpKSB7XG4gICAgb3B0cyA9IG9wdHMgfHwge31cbiAgICBvcHRzLm1zZ3BhY2sgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBFbmNvZGVyKG9wdHMpXG4gIH1cblxuICBCYXNlLmNhbGwodGhpcywgb3B0cylcbiAgdGhpcy5fd3JhcCA9ICgnd3JhcCcgaW4gb3B0cykgJiYgb3B0cy53cmFwXG59XG5cbmluaGVyaXRzKEVuY29kZXIsIEJhc2UpXG5cbkVuY29kZXIucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAob2JqLCBlbmMsIGRvbmUpIHtcbiAgdmFyIGJ1ZiA9IG51bGxcblxuICB0cnkge1xuICAgIGJ1ZiA9IHRoaXMuX21zZ3BhY2suZW5jb2RlKHRoaXMuX3dyYXAgPyBvYmoudmFsdWUgOiBvYmopLnNsaWNlKDApXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgcmV0dXJuIGRvbmUoKVxuICB9XG5cbiAgdGhpcy5wdXNoKGJ1ZilcbiAgZG9uZSgpXG59XG5cbmZ1bmN0aW9uIERlY29kZXIgKG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERlY29kZXIpKSB7XG4gICAgb3B0cyA9IG9wdHMgfHwge31cbiAgICBvcHRzLm1zZ3BhY2sgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBEZWNvZGVyKG9wdHMpXG4gIH1cblxuICBCYXNlLmNhbGwodGhpcywgb3B0cylcblxuICB0aGlzLl9jaHVua3MgPSBibCgpXG4gIHRoaXMuX3dyYXAgPSAoJ3dyYXAnIGluIG9wdHMpICYmIG9wdHMud3JhcFxufVxuXG5pbmhlcml0cyhEZWNvZGVyLCBCYXNlKVxuXG5EZWNvZGVyLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGJ1ZiwgZW5jLCBkb25lKSB7XG4gIGlmIChidWYpIHtcbiAgICB0aGlzLl9jaHVua3MuYXBwZW5kKGJ1ZilcbiAgfVxuXG4gIHRyeSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuX21zZ3BhY2suZGVjb2RlKHRoaXMuX2NodW5rcylcbiAgICBpZiAodGhpcy5fd3JhcCkge1xuICAgICAgcmVzdWx0ID0ge3ZhbHVlOiByZXN1bHR9XG4gICAgfVxuICAgIHRoaXMucHVzaChyZXN1bHQpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiB0aGlzLl9tc2dwYWNrLkluY29tcGxldGVCdWZmZXJFcnJvcikge1xuICAgICAgZG9uZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKHRoaXMuX2NodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5fdHJhbnNmb3JtKG51bGwsIGVuYywgZG9uZSlcbiAgfSBlbHNlIHtcbiAgICBkb25lKClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5kZWNvZGVyID0gRGVjb2RlclxubW9kdWxlLmV4cG9ydHMuZW5jb2RlciA9IEVuY29kZXJcbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgYmwgPSByZXF1aXJlKCdibCcpXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuXG5mdW5jdGlvbiBJbmNvbXBsZXRlQnVmZmVyRXJyb3IgKG1lc3NhZ2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKSAvLyBzdXBlciBjb25zdHJ1Y3RvclxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKSAvLyBzdXBlciBoZWxwZXIgbWV0aG9kIHRvIGluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIH1cbiAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJ3VuYWJsZSB0byBkZWNvZGUnXG59XG5cbnV0aWwuaW5oZXJpdHMoSW5jb21wbGV0ZUJ1ZmZlckVycm9yLCBFcnJvcilcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZERlY29kZSAoZGVjb2RpbmdUeXBlcykge1xuICByZXR1cm4gZGVjb2RlXG5cbiAgZnVuY3Rpb24gZ2V0U2l6ZSAoZmlyc3QpIHtcbiAgICBzd2l0Y2ggKGZpcnN0KSB7XG4gICAgICBjYXNlIDB4YzQ6XG4gICAgICAgIHJldHVybiAyXG4gICAgICBjYXNlIDB4YzU6XG4gICAgICAgIHJldHVybiAzXG4gICAgICBjYXNlIDB4YzY6XG4gICAgICAgIHJldHVybiA1XG4gICAgICBjYXNlIDB4Yzc6XG4gICAgICAgIHJldHVybiAzXG4gICAgICBjYXNlIDB4Yzg6XG4gICAgICAgIHJldHVybiA0XG4gICAgICBjYXNlIDB4Yzk6XG4gICAgICAgIHJldHVybiA2XG4gICAgICBjYXNlIDB4Y2E6XG4gICAgICAgIHJldHVybiA1XG4gICAgICBjYXNlIDB4Y2I6XG4gICAgICAgIHJldHVybiA5XG4gICAgICBjYXNlIDB4Y2M6XG4gICAgICAgIHJldHVybiAyXG4gICAgICBjYXNlIDB4Y2Q6XG4gICAgICAgIHJldHVybiAzXG4gICAgICBjYXNlIDB4Y2U6XG4gICAgICAgIHJldHVybiA1XG4gICAgICBjYXNlIDB4Y2Y6XG4gICAgICAgIHJldHVybiA5XG4gICAgICBjYXNlIDB4ZDA6XG4gICAgICAgIHJldHVybiAyXG4gICAgICBjYXNlIDB4ZDE6XG4gICAgICAgIHJldHVybiAzXG4gICAgICBjYXNlIDB4ZDI6XG4gICAgICAgIHJldHVybiA1XG4gICAgICBjYXNlIDB4ZDM6XG4gICAgICAgIHJldHVybiA5XG4gICAgICBjYXNlIDB4ZDQ6XG4gICAgICAgIHJldHVybiAzXG4gICAgICBjYXNlIDB4ZDU6XG4gICAgICAgIHJldHVybiA0XG4gICAgICBjYXNlIDB4ZDY6XG4gICAgICAgIHJldHVybiA2XG4gICAgICBjYXNlIDB4ZDc6XG4gICAgICAgIHJldHVybiAxMFxuICAgICAgY2FzZSAweGQ4OlxuICAgICAgICByZXR1cm4gMThcbiAgICAgIGNhc2UgMHhkOTpcbiAgICAgICAgcmV0dXJuIDJcbiAgICAgIGNhc2UgMHhkYTpcbiAgICAgICAgcmV0dXJuIDNcbiAgICAgIGNhc2UgMHhkYjpcbiAgICAgICAgcmV0dXJuIDVcbiAgICAgIGNhc2UgMHhkZTpcbiAgICAgICAgcmV0dXJuIDNcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc01pbkJ1ZmZlclNpemUgKGZpcnN0LCBsZW5ndGgpIHtcbiAgICB2YXIgc2l6ZSA9IGdldFNpemUoZmlyc3QpXG5cbiAgICBpZiAoc2l6ZSAhPT0gLTEgJiYgbGVuZ3RoIDwgc2l6ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNWYWxpZERhdGFTaXplIChkYXRhTGVuZ3RoLCBidWZMZW5ndGgsIGhlYWRlckxlbmd0aCkge1xuICAgIHJldHVybiBidWZMZW5ndGggPj0gaGVhZGVyTGVuZ3RoICsgZGF0YUxlbmd0aFxuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGREZWNvZGVSZXN1bHQgKHZhbHVlLCBieXRlc0NvbnN1bWVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGJ5dGVzQ29uc3VtZWQ6IGJ5dGVzQ29uc3VtZWRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUgKGJ1Zikge1xuICAgIGlmICghKGJ1ZiBpbnN0YW5jZW9mIGJsKSkge1xuICAgICAgYnVmID0gYmwoKS5hcHBlbmQoYnVmKVxuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB0cnlEZWNvZGUoYnVmKVxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGJ1Zi5jb25zdW1lKHJlc3VsdC5ieXRlc0NvbnN1bWVkKVxuICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgSW5jb21wbGV0ZUJ1ZmZlckVycm9yKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlEZWNvZGUgKGJ1Ziwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID09PSB1bmRlZmluZWQgPyAwIDogb2Zmc2V0XG4gICAgdmFyIGJ1Zkxlbmd0aCA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgICBpZiAoYnVmTGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgdmFyIGZpcnN0ID0gYnVmLnJlYWRVSW50OChvZmZzZXQpXG4gICAgdmFyIGxlbmd0aFxuICAgIHZhciByZXN1bHQgPSAwXG4gICAgdmFyIHR5cGVcbiAgICB2YXIgYnl0ZVBvc1xuXG4gICAgaWYgKCFoYXNNaW5CdWZmZXJTaXplKGZpcnN0LCBidWZMZW5ndGgpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHN3aXRjaCAoZmlyc3QpIHtcbiAgICAgIGNhc2UgMHhjMDpcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KG51bGwsIDEpXG4gICAgICBjYXNlIDB4YzI6XG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChmYWxzZSwgMSlcbiAgICAgIGNhc2UgMHhjMzpcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHRydWUsIDEpXG4gICAgICBjYXNlIDB4Y2M6XG4gICAgICAgIC8vIDEtYnl0ZSB1bnNpZ25lZCBpbnRcbiAgICAgICAgcmVzdWx0ID0gYnVmLnJlYWRVSW50OChvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCAyKVxuICAgICAgY2FzZSAweGNkOlxuICAgICAgICAvLyAyLWJ5dGVzIEJFIHVuc2lnbmVkIGludFxuICAgICAgICByZXN1bHQgPSBidWYucmVhZFVJbnQxNkJFKG9mZnNldCArIDEpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDMpXG4gICAgICBjYXNlIDB4Y2U6XG4gICAgICAgIC8vIDQtYnl0ZXMgQkUgdW5zaWduZWQgaW50XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi5yZWFkVUludDMyQkUob2Zmc2V0ICsgMSlcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHJlc3VsdCwgNSlcbiAgICAgIGNhc2UgMHhjZjpcbiAgICAgICAgLy8gOC1ieXRlcyBCRSB1bnNpZ25lZCBpbnRcbiAgICAgICAgLy8gUmVhZCBsb25nIGJ5dGUgYnkgYnl0ZSwgYmlnLWVuZGlhblxuICAgICAgICBmb3IgKGJ5dGVQb3MgPSA3OyBieXRlUG9zID49IDA7IGJ5dGVQb3MtLSkge1xuICAgICAgICAgIHJlc3VsdCArPSAoYnVmLnJlYWRVSW50OChvZmZzZXQgKyBieXRlUG9zICsgMSkgKiBNYXRoLnBvdygyLCAoOCAqICg3IC0gYnl0ZVBvcykpKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCA5KVxuICAgICAgY2FzZSAweGQwOlxuICAgICAgICAvLyAxLWJ5dGUgc2lnbmVkIGludFxuICAgICAgICByZXN1bHQgPSBidWYucmVhZEludDgob2Zmc2V0ICsgMSlcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHJlc3VsdCwgMilcbiAgICAgIGNhc2UgMHhkMTpcbiAgICAgICAgLy8gMi1ieXRlcyBzaWduZWQgaW50XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi5yZWFkSW50MTZCRShvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCAzKVxuICAgICAgY2FzZSAweGQyOlxuICAgICAgICAvLyA0LWJ5dGVzIHNpZ25lZCBpbnRcbiAgICAgICAgcmVzdWx0ID0gYnVmLnJlYWRJbnQzMkJFKG9mZnNldCArIDEpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDUpXG4gICAgICBjYXNlIDB4ZDM6XG4gICAgICAgIHJlc3VsdCA9IHJlYWRJbnQ2NEJFKGJ1Zi5zbGljZShvZmZzZXQgKyAxLCBvZmZzZXQgKyA5KSwgMClcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHJlc3VsdCwgOSlcbiAgICAgIGNhc2UgMHhjYTpcbiAgICAgICAgLy8gNC1ieXRlcyBmbG9hdFxuICAgICAgICByZXN1bHQgPSBidWYucmVhZEZsb2F0QkUob2Zmc2V0ICsgMSlcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHJlc3VsdCwgNSlcbiAgICAgIGNhc2UgMHhjYjpcbiAgICAgICAgLy8gOC1ieXRlcyBkb3VibGVcbiAgICAgICAgcmVzdWx0ID0gYnVmLnJlYWREb3VibGVCRShvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCA5KVxuICAgICAgY2FzZSAweGQ5OlxuICAgICAgICAvLyBzdHJpbmdzIHVwIHRvIDJeOCAtIDEgYnl0ZXNcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50OChvZmZzZXQgKyAxKVxuICAgICAgICBpZiAoIWlzVmFsaWREYXRhU2l6ZShsZW5ndGgsIGJ1Zkxlbmd0aCwgMikpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi50b1N0cmluZygndXRmOCcsIG9mZnNldCArIDIsIG9mZnNldCArIDIgKyBsZW5ndGgpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDIgKyBsZW5ndGgpXG4gICAgICBjYXNlIDB4ZGE6XG4gICAgICAgIC8vIHN0cmluZ3MgdXAgdG8gMl4xNiAtIDIgYnl0ZXNcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MTZCRShvZmZzZXQgKyAxKVxuICAgICAgICBpZiAoIWlzVmFsaWREYXRhU2l6ZShsZW5ndGgsIGJ1Zkxlbmd0aCwgMykpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi50b1N0cmluZygndXRmOCcsIG9mZnNldCArIDMsIG9mZnNldCArIDMgKyBsZW5ndGgpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDMgKyBsZW5ndGgpXG4gICAgICBjYXNlIDB4ZGI6XG4gICAgICAgIC8vIHN0cmluZ3MgdXAgdG8gMl4zMiAtIDQgYnl0ZXNcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MzJCRShvZmZzZXQgKyAxKVxuICAgICAgICBpZiAoIWlzVmFsaWREYXRhU2l6ZShsZW5ndGgsIGJ1Zkxlbmd0aCwgNSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi50b1N0cmluZygndXRmOCcsIG9mZnNldCArIDUsIG9mZnNldCArIDUgKyBsZW5ndGgpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDUgKyBsZW5ndGgpXG4gICAgICBjYXNlIDB4YzQ6XG4gICAgICAgIC8vIGJ1ZmZlcnMgdXAgdG8gMl44IC0gMSBieXRlc1xuICAgICAgICBsZW5ndGggPSBidWYucmVhZFVJbnQ4KG9mZnNldCArIDEpXG4gICAgICAgIGlmICghaXNWYWxpZERhdGFTaXplKGxlbmd0aCwgYnVmTGVuZ3RoLCAyKSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gYnVmLnNsaWNlKG9mZnNldCArIDIsIG9mZnNldCArIDIgKyBsZW5ndGgpXG4gICAgICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChyZXN1bHQsIDIgKyBsZW5ndGgpXG4gICAgICBjYXNlIDB4YzU6XG4gICAgICAgIC8vIGJ1ZmZlcnMgdXAgdG8gMl4xNiAtIDEgYnl0ZXNcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MTZCRShvZmZzZXQgKyAxKVxuICAgICAgICBpZiAoIWlzVmFsaWREYXRhU2l6ZShsZW5ndGgsIGJ1Zkxlbmd0aCwgMykpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGJ1Zi5zbGljZShvZmZzZXQgKyAzLCBvZmZzZXQgKyAzICsgbGVuZ3RoKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCAzICsgbGVuZ3RoKVxuICAgICAgY2FzZSAweGM2OlxuICAgICAgICAvLyBidWZmZXJzIHVwIHRvIDJeMzIgLSAxIGJ5dGVzXG4gICAgICAgIGxlbmd0aCA9IGJ1Zi5yZWFkVUludDMyQkUob2Zmc2V0ICsgMSlcbiAgICAgICAgaWYgKCFpc1ZhbGlkRGF0YVNpemUobGVuZ3RoLCBidWZMZW5ndGgsIDUpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBidWYuc2xpY2Uob2Zmc2V0ICsgNSwgb2Zmc2V0ICsgNSArIGxlbmd0aClcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KHJlc3VsdCwgNSArIGxlbmd0aClcbiAgICAgIGNhc2UgMHhkYzpcbiAgICAgICAgLy8gYXJyYXkgdXAgdG8gMl4xNiBlbGVtZW50cyAtIDIgYnl0ZXNcbiAgICAgICAgaWYgKGJ1Zkxlbmd0aCA8IDMpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MTZCRShvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gZGVjb2RlQXJyYXkoYnVmLCBvZmZzZXQsIGxlbmd0aCwgMylcbiAgICAgIGNhc2UgMHhkZDpcbiAgICAgICAgLy8gYXJyYXkgdXAgdG8gMl4zMiBlbGVtZW50cyAtIDQgYnl0ZXNcbiAgICAgICAgaWYgKGJ1Zkxlbmd0aCA8IDUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MzJCRShvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gZGVjb2RlQXJyYXkoYnVmLCBvZmZzZXQsIGxlbmd0aCwgNSlcbiAgICAgIGNhc2UgMHhkZTpcbiAgICAgICAgLy8gbWFwcyB1cCB0byAyXjE2IGVsZW1lbnRzIC0gMiBieXRlc1xuICAgICAgICBsZW5ndGggPSBidWYucmVhZFVJbnQxNkJFKG9mZnNldCArIDEpXG4gICAgICAgIHJldHVybiBkZWNvZGVNYXAoYnVmLCBvZmZzZXQsIGxlbmd0aCwgMylcbiAgICAgIGNhc2UgMHhkZjpcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MzJCRShvZmZzZXQgKyAxKVxuICAgICAgICByZXR1cm4gZGVjb2RlTWFwKGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIDUpXG4gICAgICBjYXNlIDB4ZDQ6XG4gICAgICAgIHJldHVybiBkZWNvZGVGaXhFeHQoYnVmLCBvZmZzZXQsIDEpXG4gICAgICBjYXNlIDB4ZDU6XG4gICAgICAgIHJldHVybiBkZWNvZGVGaXhFeHQoYnVmLCBvZmZzZXQsIDIpXG4gICAgICBjYXNlIDB4ZDY6XG4gICAgICAgIHJldHVybiBkZWNvZGVGaXhFeHQoYnVmLCBvZmZzZXQsIDQpXG4gICAgICBjYXNlIDB4ZDc6XG4gICAgICAgIHJldHVybiBkZWNvZGVGaXhFeHQoYnVmLCBvZmZzZXQsIDgpXG4gICAgICBjYXNlIDB4ZDg6XG4gICAgICAgIHJldHVybiBkZWNvZGVGaXhFeHQoYnVmLCBvZmZzZXQsIDE2KVxuICAgICAgY2FzZSAweGM3OlxuICAgICAgICAvLyBleHQgdXAgdG8gMl44IC0gMSBieXRlc1xuICAgICAgICBsZW5ndGggPSBidWYucmVhZFVJbnQ4KG9mZnNldCArIDEpXG4gICAgICAgIHR5cGUgPSBidWYucmVhZFVJbnQ4KG9mZnNldCArIDIpXG4gICAgICAgIGlmICghaXNWYWxpZERhdGFTaXplKGxlbmd0aCwgYnVmTGVuZ3RoLCAzKSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY29kZUV4dChidWYsIG9mZnNldCwgdHlwZSwgbGVuZ3RoLCAzKVxuICAgICAgY2FzZSAweGM4OlxuICAgICAgICAvLyBleHQgdXAgdG8gMl4xNiAtIDEgYnl0ZXNcbiAgICAgICAgbGVuZ3RoID0gYnVmLnJlYWRVSW50MTZCRShvZmZzZXQgKyAxKVxuICAgICAgICB0eXBlID0gYnVmLnJlYWRVSW50OChvZmZzZXQgKyAzKVxuICAgICAgICBpZiAoIWlzVmFsaWREYXRhU2l6ZShsZW5ndGgsIGJ1Zkxlbmd0aCwgNCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVFeHQoYnVmLCBvZmZzZXQsIHR5cGUsIGxlbmd0aCwgNClcbiAgICAgIGNhc2UgMHhjOTpcbiAgICAgICAgLy8gZXh0IHVwIHRvIDJeMzIgLSAxIGJ5dGVzXG4gICAgICAgIGxlbmd0aCA9IGJ1Zi5yZWFkVUludDMyQkUob2Zmc2V0ICsgMSlcbiAgICAgICAgdHlwZSA9IGJ1Zi5yZWFkVUludDgob2Zmc2V0ICsgNSlcbiAgICAgICAgaWYgKCFpc1ZhbGlkRGF0YVNpemUobGVuZ3RoLCBidWZMZW5ndGgsIDYpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjb2RlRXh0KGJ1Ziwgb2Zmc2V0LCB0eXBlLCBsZW5ndGgsIDYpXG4gICAgfVxuXG4gICAgaWYgKChmaXJzdCAmIDB4ZjApID09PSAweDkwKSB7XG4gICAgICAvLyB3ZSBoYXZlIGFuIGFycmF5IHdpdGggbGVzcyB0aGFuIDE1IGVsZW1lbnRzXG4gICAgICBsZW5ndGggPSBmaXJzdCAmIDB4MGZcbiAgICAgIHJldHVybiBkZWNvZGVBcnJheShidWYsIG9mZnNldCwgbGVuZ3RoLCAxKVxuICAgIH0gZWxzZSBpZiAoKGZpcnN0ICYgMHhmMCkgPT09IDB4ODApIHtcbiAgICAgIC8vIHdlIGhhdmUgYSBtYXAgd2l0aCBsZXNzIHRoYW4gMTUgZWxlbWVudHNcbiAgICAgIGxlbmd0aCA9IGZpcnN0ICYgMHgwZlxuICAgICAgcmV0dXJuIGRlY29kZU1hcChidWYsIG9mZnNldCwgbGVuZ3RoLCAxKVxuICAgIH0gZWxzZSBpZiAoKGZpcnN0ICYgMHhlMCkgPT09IDB4YTApIHtcbiAgICAgIC8vIGZpeHN0ciB1cCB0byAzMSBieXRlc1xuICAgICAgbGVuZ3RoID0gZmlyc3QgJiAweDFmXG4gICAgICBpZiAoaXNWYWxpZERhdGFTaXplKGxlbmd0aCwgYnVmTGVuZ3RoLCAxKSkge1xuICAgICAgICByZXN1bHQgPSBidWYudG9TdHJpbmcoJ3V0ZjgnLCBvZmZzZXQgKyAxLCBvZmZzZXQgKyBsZW5ndGggKyAxKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCBsZW5ndGggKyAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpcnN0ID49IDB4ZTApIHtcbiAgICAgIC8vIDUgYml0cyBuZWdhdGl2ZSBpbnRzXG4gICAgICByZXN1bHQgPSBmaXJzdCAtIDB4MTAwXG4gICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCAxKVxuICAgIH0gZWxzZSBpZiAoZmlyc3QgPCAweDgwKSB7XG4gICAgICAvLyA3LWJpdHMgcG9zaXRpdmUgaW50c1xuICAgICAgcmV0dXJuIGJ1aWxkRGVjb2RlUmVzdWx0KGZpcnN0LCAxKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRJbnQ2NEJFIChidWYsIG9mZnNldCkge1xuICAgIHZhciBuZWdhdGUgPSAoYnVmW29mZnNldF0gJiAweDgwKSA9PSAweDgwIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChuZWdhdGUpIHtcbiAgICAgIHZhciBjYXJyeSA9IDFcbiAgICAgIGZvciAodmFyIGkgPSBvZmZzZXQgKyA3OyBpID49IG9mZnNldDsgaS0tKSB7XG4gICAgICAgIHZhciB2ID0gKGJ1ZltpXSBeIDB4ZmYpICsgY2FycnlcbiAgICAgICAgYnVmW2ldID0gdiAmIDB4ZmZcbiAgICAgICAgY2FycnkgPSB2ID4+IDhcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGkgPSBidWYucmVhZFVJbnQzMkJFKG9mZnNldCArIDApXG4gICAgdmFyIGxvID0gYnVmLnJlYWRVSW50MzJCRShvZmZzZXQgKyA0KVxuICAgIHJldHVybiAoaGkgKiA0Mjk0OTY3Mjk2ICsgbG8pICogKG5lZ2F0ZSA/IC0xIDogKzEpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGVBcnJheSAoYnVmLCBvZmZzZXQsIGxlbmd0aCwgaGVhZGVyTGVuZ3RoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdXG4gICAgdmFyIGlcbiAgICB2YXIgdG90YWxCeXRlc0NvbnN1bWVkID0gMFxuXG4gICAgb2Zmc2V0ICs9IGhlYWRlckxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlY29kZVJlc3VsdCA9IHRyeURlY29kZShidWYsIG9mZnNldClcbiAgICAgIGlmIChkZWNvZGVSZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZGVjb2RlUmVzdWx0LnZhbHVlKVxuICAgICAgICBvZmZzZXQgKz0gZGVjb2RlUmVzdWx0LmJ5dGVzQ29uc3VtZWRcbiAgICAgICAgdG90YWxCeXRlc0NvbnN1bWVkICs9IGRlY29kZVJlc3VsdC5ieXRlc0NvbnN1bWVkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCBoZWFkZXJMZW5ndGggKyB0b3RhbEJ5dGVzQ29uc3VtZWQpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGVNYXAgKGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIGhlYWRlckxlbmd0aCkge1xuICAgIHZhciByZXN1bHQgPSB7fVxuICAgIHZhciBrZXlcbiAgICB2YXIgaVxuICAgIHZhciB0b3RhbEJ5dGVzQ29uc3VtZWQgPSAwXG5cbiAgICBvZmZzZXQgKz0gaGVhZGVyTGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5UmVzdWx0ID0gdHJ5RGVjb2RlKGJ1Ziwgb2Zmc2V0KVxuICAgICAgaWYgKGtleVJlc3VsdCkge1xuICAgICAgICBvZmZzZXQgKz0ga2V5UmVzdWx0LmJ5dGVzQ29uc3VtZWRcbiAgICAgICAgdmFyIHZhbHVlUmVzdWx0ID0gdHJ5RGVjb2RlKGJ1Ziwgb2Zmc2V0KVxuICAgICAgICBpZiAodmFsdWVSZXN1bHQpIHtcbiAgICAgICAgICBrZXkgPSBrZXlSZXN1bHQudmFsdWVcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlUmVzdWx0LnZhbHVlXG4gICAgICAgICAgb2Zmc2V0ICs9IHZhbHVlUmVzdWx0LmJ5dGVzQ29uc3VtZWRcbiAgICAgICAgICB0b3RhbEJ5dGVzQ29uc3VtZWQgKz0gKGtleVJlc3VsdC5ieXRlc0NvbnN1bWVkICsgdmFsdWVSZXN1bHQuYnl0ZXNDb25zdW1lZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQocmVzdWx0LCBoZWFkZXJMZW5ndGggKyB0b3RhbEJ5dGVzQ29uc3VtZWQpXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGVGaXhFeHQgKGJ1Ziwgb2Zmc2V0LCBzaXplKSB7XG4gICAgdmFyIHR5cGUgPSBidWYucmVhZEludDgob2Zmc2V0ICsgMSkgLy8gU2lnbmVkXG4gICAgcmV0dXJuIGRlY29kZUV4dChidWYsIG9mZnNldCwgdHlwZSwgc2l6ZSwgMilcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZVRpbWVzdGFtcCAoYnVmLCBzaXplLCBoZWFkZXJTaXplKSB7XG4gICAgdmFyIHNlY29uZHNcbiAgICB2YXIgbmFub3NlY29uZHMgPSAwXG5cbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgLy8gdGltZXN0YW1wIDMyIHN0b3JlcyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2UgMTk3MC0wMS0wMSAwMDowMDowMCBVVEMgaW4gYW4gMzItYml0IHVuc2lnbmVkIGludGVnZXJcbiAgICAgICAgc2Vjb25kcyA9IGJ1Zi5yZWFkVUludDMyQkUoMClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSA4OlxuICAgICAgICAvLyBUaW1lc3RhbXAgNjQgc3RvcmVzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBhbmQgbmFub3NlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWRcbiAgICAgICAgLy8gc2luY2UgMTk3MC0wMS0wMSAwMDowMDowMCBVVEMgaW4gMzItYml0IHVuc2lnbmVkIGludGVnZXJzLCBzcGxpdCAzMC8zNCBiaXRzXG4gICAgICAgIHZhciB1cHBlciA9IGJ1Zi5yZWFkVUludDMyQkUoMClcbiAgICAgICAgdmFyIGxvd2VyID0gYnVmLnJlYWRVSW50MzJCRSg0KVxuICAgICAgICBuYW5vc2Vjb25kcyA9IHVwcGVyIC8gNFxuICAgICAgICBzZWNvbmRzID0gKCh1cHBlciAmIDB4MDMpICogTWF0aC5wb3coMiwgMzIpKSArIGxvd2VyIC8vIElmIHdlIHVzZSBiaXR3aXNlIG9wZXJhdG9ycywgd2UgZ2V0IHRydW5jYXRlZCB0byAzMmJpdHNcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAxMjpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aW1lc3RhbXAgOTYgaXMgbm90IHlldCBpbXBsZW1lbnRlZCcpXG4gICAgfVxuXG4gICAgdmFyIG1pbGxpcyA9IChzZWNvbmRzICogMTAwMCkgKyBNYXRoLnJvdW5kKG5hbm9zZWNvbmRzIC8gMUU2KVxuICAgIHJldHVybiBidWlsZERlY29kZVJlc3VsdChuZXcgRGF0ZShtaWxsaXMpLCBzaXplICsgaGVhZGVyU2l6ZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29kZUV4dCAoYnVmLCBvZmZzZXQsIHR5cGUsIHNpemUsIGhlYWRlclNpemUpIHtcbiAgICB2YXIgaSxcbiAgICAgIHRvRGVjb2RlXG5cbiAgICBvZmZzZXQgKz0gaGVhZGVyU2l6ZVxuXG4gICAgLy8gUHJlLWRlZmluZWRcbiAgICBpZiAodHlwZSA8IDApIHsgLy8gUmVzZXJ2ZWQgZm9yIGZ1dHVyZSBleHRlbnNpb25zXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAtMTogLy8gVGllbXN0YW1wIGh0dHBzOi8vZ2l0aHViLmNvbS9tc2dwYWNrL21zZ3BhY2svYmxvYi9tYXN0ZXIvc3BlYy5tZCN0aW1lc3RhbXAtZXh0ZW5zaW9uLXR5cGVcbiAgICAgICAgICB0b0RlY29kZSA9IGJ1Zi5zbGljZShvZmZzZXQsIG9mZnNldCArIHNpemUpXG4gICAgICAgICAgcmV0dXJuIGRlY29kZVRpbWVzdGFtcCh0b0RlY29kZSwgc2l6ZSwgaGVhZGVyU2l6ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZGVjb2RpbmdUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHR5cGUgPT09IGRlY29kaW5nVHlwZXNbaV0udHlwZSkge1xuICAgICAgICB0b0RlY29kZSA9IGJ1Zi5zbGljZShvZmZzZXQsIG9mZnNldCArIHNpemUpXG4gICAgICAgIHZhciB2YWx1ZSA9IGRlY29kaW5nVHlwZXNbaV0uZGVjb2RlKHRvRGVjb2RlKVxuICAgICAgICByZXR1cm4gYnVpbGREZWNvZGVSZXN1bHQodmFsdWUsIGhlYWRlclNpemUgKyBzaXplKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGZpbmQgZXh0IHR5cGUgJyArIHR5cGUpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuSW5jb21wbGV0ZUJ1ZmZlckVycm9yID0gSW5jb21wbGV0ZUJ1ZmZlckVycm9yXG4iLCIndXNlIHN0cmljdCdcblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyXG52YXIgYmwgPSByZXF1aXJlKCdibCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRFbmNvZGUgKGVuY29kaW5nVHlwZXMsIGZvcmNlRmxvYXQ2NCwgY29tcGF0aWJpbGl0eU1vZGUsIGRpc2FibGVUaW1lc3RhbXBFbmNvZGluZykge1xuICBmdW5jdGlvbiBlbmNvZGUgKG9iaiwgYXZvaWRTbGljZSkge1xuICAgIHZhciBidWZcbiAgICB2YXIgbGVuXG5cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBlbmNvZGFibGUgaW4gbXNncGFjayEnKVxuICAgIH0gZWxzZSBpZiAoaXNOYU4ob2JqKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYU4gaXMgbm90IGVuY29kYWJsZSBpbiBtc2dwYWNrIScpXG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxKVxuICAgICAgYnVmWzBdID0gMHhjMFxuICAgIH0gZWxzZSBpZiAob2JqID09PSB0cnVlKSB7XG4gICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMSlcbiAgICAgIGJ1ZlswXSA9IDB4YzNcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gZmFsc2UpIHtcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxKVxuICAgICAgYnVmWzBdID0gMHhjMlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxlbiA9IEJ1ZmZlci5ieXRlTGVuZ3RoKG9iailcbiAgICAgIGlmIChsZW4gPCAzMikge1xuICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMSArIGxlbilcbiAgICAgICAgYnVmWzBdID0gMHhhMCB8IGxlblxuICAgICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAgIGJ1Zi53cml0ZShvYmosIDEpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobGVuIDw9IDB4ZmYgJiYgIWNvbXBhdGliaWxpdHlNb2RlKSB7XG4gICAgICAgIC8vIHN0cjgsIGJ1dCBvbmx5IHdoZW4gbm90IGluIGNvbXBhdGliaWxpdHkgbW9kZVxuICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMiArIGxlbilcbiAgICAgICAgYnVmWzBdID0gMHhkOVxuICAgICAgICBidWZbMV0gPSBsZW5cbiAgICAgICAgYnVmLndyaXRlKG9iaiwgMilcbiAgICAgIH0gZWxzZSBpZiAobGVuIDw9IDB4ZmZmZikge1xuICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMyArIGxlbilcbiAgICAgICAgYnVmWzBdID0gMHhkYVxuICAgICAgICBidWYud3JpdGVVSW50MTZCRShsZW4sIDEpXG4gICAgICAgIGJ1Zi53cml0ZShvYmosIDMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoNSArIGxlbilcbiAgICAgICAgYnVmWzBdID0gMHhkYlxuICAgICAgICBidWYud3JpdGVVSW50MzJCRShsZW4sIDEpXG4gICAgICAgIGJ1Zi53cml0ZShvYmosIDUpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmogJiYgKG9iai5yZWFkVUludDMyTEUgfHwgb2JqIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIG9iaiA9IEJ1ZmZlci5mcm9tKG9iailcbiAgICAgIH1cbiAgICAgIC8vIHdlaXJkIGhhY2sgdG8gc3VwcG9ydCBCdWZmZXJcbiAgICAgIC8vIGFuZCBCdWZmZXItbGlrZSBvYmplY3RzXG4gICAgICBpZiAob2JqLmxlbmd0aCA8PSAweGZmKSB7XG4gICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyKVxuICAgICAgICBidWZbMF0gPSAweGM0XG4gICAgICAgIGJ1ZlsxXSA9IG9iai5sZW5ndGhcbiAgICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCA8PSAweGZmZmYpIHtcbiAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDMpXG4gICAgICAgIGJ1ZlswXSA9IDB4YzVcbiAgICAgICAgYnVmLndyaXRlVUludDE2QkUob2JqLmxlbmd0aCwgMSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSg1KVxuICAgICAgICBidWZbMF0gPSAweGM2XG4gICAgICAgIGJ1Zi53cml0ZVVJbnQzMkJFKG9iai5sZW5ndGgsIDEpXG4gICAgICB9XG5cbiAgICAgIGJ1ZiA9IGJsKFtidWYsIG9ial0pXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIGlmIChvYmoubGVuZ3RoIDwgMTYpIHtcbiAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDEpXG4gICAgICAgIGJ1ZlswXSA9IDB4OTAgfCBvYmoubGVuZ3RoXG4gICAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggPCA2NTUzNikge1xuICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMylcbiAgICAgICAgYnVmWzBdID0gMHhkY1xuICAgICAgICBidWYud3JpdGVVSW50MTZCRShvYmoubGVuZ3RoLCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDUpXG4gICAgICAgIGJ1ZlswXSA9IDB4ZGRcbiAgICAgICAgYnVmLndyaXRlVUludDMyQkUob2JqLmxlbmd0aCwgMSlcbiAgICAgIH1cblxuICAgICAgYnVmID0gb2JqLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBvYmopIHtcbiAgICAgICAgYWNjLmFwcGVuZChlbmNvZGUob2JqLCB0cnVlKSlcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwgYmwoKS5hcHBlbmQoYnVmKSlcbiAgICB9IGVsc2UgaWYgKCFkaXNhYmxlVGltZXN0YW1wRW5jb2RpbmcgJiYgdHlwZW9mIG9iai5nZXREYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZW5jb2RlRGF0ZShvYmopXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgYnVmID0gZW5jb2RlRXh0KG9iaikgfHwgZW5jb2RlT2JqZWN0KG9iailcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNGbG9hdChvYmopKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVGbG9hdChvYmosIGZvcmNlRmxvYXQ2NClcbiAgICAgIH0gZWxzZSBpZiAob2JqID49IDApIHtcbiAgICAgICAgaWYgKG9iaiA8IDEyOCkge1xuICAgICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxKVxuICAgICAgICAgIGJ1ZlswXSA9IG9ialxuICAgICAgICB9IGVsc2UgaWYgKG9iaiA8IDI1Nikge1xuICAgICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyKVxuICAgICAgICAgIGJ1ZlswXSA9IDB4Y2NcbiAgICAgICAgICBidWZbMV0gPSBvYmpcbiAgICAgICAgfSBlbHNlIGlmIChvYmogPCA2NTUzNikge1xuICAgICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgzKVxuICAgICAgICAgIGJ1ZlswXSA9IDB4Y2RcbiAgICAgICAgICBidWYud3JpdGVVSW50MTZCRShvYmosIDEpXG4gICAgICAgIH0gZWxzZSBpZiAob2JqIDw9IDB4ZmZmZmZmZmYpIHtcbiAgICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoNSlcbiAgICAgICAgICBidWZbMF0gPSAweGNlXG4gICAgICAgICAgYnVmLndyaXRlVUludDMyQkUob2JqLCAxKVxuICAgICAgICB9IGVsc2UgaWYgKG9iaiA8PSA5MDA3MTk5MjU0NzQwOTkxKSB7XG4gICAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDkpXG4gICAgICAgICAgYnVmWzBdID0gMHhjZlxuICAgICAgICAgIHdyaXRlNjRCaXRVaW50KGJ1Ziwgb2JqKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBlbmNvZGVGbG9hdChvYmosIHRydWUpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvYmogPj0gLTMyKSB7XG4gICAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDEpXG4gICAgICAgICAgYnVmWzBdID0gMHgxMDAgKyBvYmpcbiAgICAgICAgfSBlbHNlIGlmIChvYmogPj0gLTEyOCkge1xuICAgICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyKVxuICAgICAgICAgIGJ1ZlswXSA9IDB4ZDBcbiAgICAgICAgICBidWYud3JpdGVJbnQ4KG9iaiwgMSlcbiAgICAgICAgfSBlbHNlIGlmIChvYmogPj0gLTMyNzY4KSB7XG4gICAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDMpXG4gICAgICAgICAgYnVmWzBdID0gMHhkMVxuICAgICAgICAgIGJ1Zi53cml0ZUludDE2QkUob2JqLCAxKVxuICAgICAgICB9IGVsc2UgaWYgKG9iaiA+IC0yMTQ3NDgzNjUpIHtcbiAgICAgICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoNSlcbiAgICAgICAgICBidWZbMF0gPSAweGQyXG4gICAgICAgICAgYnVmLndyaXRlSW50MzJCRShvYmosIDEpXG4gICAgICAgIH0gZWxzZSBpZiAob2JqID49IC05MDA3MTk5MjU0NzQwOTkxKSB7XG4gICAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDkpXG4gICAgICAgICAgYnVmWzBdID0gMHhkM1xuICAgICAgICAgIHdyaXRlNjRCaXRJbnQoYnVmLCAxLCBvYmopXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZUZsb2F0KG9iaiwgdHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghYnVmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCB5ZXQnKVxuICAgIH1cblxuICAgIGlmIChhdm9pZFNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuY29kZURhdGUgKGR0KSB7XG4gICAgdmFyIGVuY29kZWRcbiAgICB2YXIgbWlsbGlzID0gZHQgKiAxXG4gICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKG1pbGxpcyAvIDEwMDApXG4gICAgdmFyIG5hbm9zID0gKG1pbGxpcyAtIChzZWNvbmRzICogMTAwMCkpICogMUU2XG5cbiAgICBpZiAobmFub3MgfHwgc2Vjb25kcyA+IDB4RkZGRkZGRkYpIHtcbiAgICAgIC8vIFRpbWVzdGFtcDY0XG4gICAgICBlbmNvZGVkID0gQnVmZmVyLmFsbG9jVW5zYWZlKDEwKVxuICAgICAgZW5jb2RlZFswXSA9IDB4ZDdcbiAgICAgIGVuY29kZWRbMV0gPSAtMVxuXG4gICAgICB2YXIgdXBwZXJOYW5vcyA9ICgobmFub3MgKiA0KSlcbiAgICAgIHZhciB1cHBlclNlY29uZHMgPSBzZWNvbmRzIC8gTWF0aC5wb3coMiwgMzIpXG4gICAgICB2YXIgdXBwZXIgPSAodXBwZXJOYW5vcyArIHVwcGVyU2Vjb25kcykgJiAweEZGRkZGRkZGXG4gICAgICB2YXIgbG93ZXIgPSBzZWNvbmRzICYgMHhGRkZGRkZGRlxuXG4gICAgICBlbmNvZGVkLndyaXRlSW50MzJCRSh1cHBlciwgMilcbiAgICAgIGVuY29kZWQud3JpdGVJbnQzMkJFKGxvd2VyLCA2KVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaW1lc3RhbXAzMlxuICAgICAgZW5jb2RlZCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSg2KVxuICAgICAgZW5jb2RlZFswXSA9IDB4ZDZcbiAgICAgIGVuY29kZWRbMV0gPSAtMVxuICAgICAgZW5jb2RlZC53cml0ZVVJbnQzMkJFKE1hdGguZmxvb3IobWlsbGlzIC8gMTAwMCksIDIpXG4gICAgfVxuICAgIHJldHVybiBibCgpLmFwcGVuZChlbmNvZGVkKVxuICB9XG5cbiAgZnVuY3Rpb24gZW5jb2RlRXh0IChvYmopIHtcbiAgICB2YXIgaVxuICAgIHZhciBlbmNvZGVkXG4gICAgdmFyIGxlbmd0aCA9IC0xXG4gICAgdmFyIGhlYWRlcnMgPSBbXVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGVuY29kaW5nVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChlbmNvZGluZ1R5cGVzW2ldLmNoZWNrKG9iaikpIHtcbiAgICAgICAgZW5jb2RlZCA9IGVuY29kaW5nVHlwZXNbaV0uZW5jb2RlKG9iailcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWVuY29kZWQpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgLy8gd2Ugc3VidHJhY3QgMSBiZWNhdXNlIHRoZSBsZW5ndGggZG9lcyBub3RcbiAgICAvLyBpbmNsdWRlIHRoZSB0eXBlXG4gICAgbGVuZ3RoID0gZW5jb2RlZC5sZW5ndGggLSAxXG5cbiAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICBoZWFkZXJzLnB1c2goMHhkNClcbiAgICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gMikge1xuICAgICAgaGVhZGVycy5wdXNoKDB4ZDUpXG4gICAgfSBlbHNlIGlmIChsZW5ndGggPT09IDQpIHtcbiAgICAgIGhlYWRlcnMucHVzaCgweGQ2KVxuICAgIH0gZWxzZSBpZiAobGVuZ3RoID09PSA4KSB7XG4gICAgICBoZWFkZXJzLnB1c2goMHhkNylcbiAgICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gMTYpIHtcbiAgICAgIGhlYWRlcnMucHVzaCgweGQ4KVxuICAgIH0gZWxzZSBpZiAobGVuZ3RoIDwgMjU2KSB7XG4gICAgICBoZWFkZXJzLnB1c2goMHhjNylcbiAgICAgIGhlYWRlcnMucHVzaChsZW5ndGgpXG4gICAgfSBlbHNlIGlmIChsZW5ndGggPCAweDEwMDAwKSB7XG4gICAgICBoZWFkZXJzLnB1c2goMHhjOClcbiAgICAgIGhlYWRlcnMucHVzaChsZW5ndGggPj4gOClcbiAgICAgIGhlYWRlcnMucHVzaChsZW5ndGggJiAweDAwZmYpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlcnMucHVzaCgweGM5KVxuICAgICAgaGVhZGVycy5wdXNoKGxlbmd0aCA+PiAyNClcbiAgICAgIGhlYWRlcnMucHVzaCgobGVuZ3RoID4+IDE2KSAmIDB4MDAwMDAwZmYpXG4gICAgICBoZWFkZXJzLnB1c2goKGxlbmd0aCA+PiA4KSAmIDB4MDAwMDAwZmYpXG4gICAgICBoZWFkZXJzLnB1c2gobGVuZ3RoICYgMHgwMDAwMDBmZilcbiAgICB9XG5cbiAgICByZXR1cm4gYmwoKS5hcHBlbmQoQnVmZmVyLmZyb20oaGVhZGVycykpLmFwcGVuZChlbmNvZGVkKVxuICB9XG5cbiAgZnVuY3Rpb24gZW5jb2RlT2JqZWN0IChvYmopIHtcbiAgICB2YXIgYWNjID0gW11cbiAgICB2YXIgbGVuZ3RoID0gMFxuICAgIHZhciBrZXlcbiAgICB2YXIgaGVhZGVyXG5cbiAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSAmJlxuICAgICAgICBvYmpba2V5XSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHR5cGVvZiBvYmpba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICArK2xlbmd0aFxuICAgICAgICBhY2MucHVzaChlbmNvZGUoa2V5LCB0cnVlKSlcbiAgICAgICAgYWNjLnB1c2goZW5jb2RlKG9ialtrZXldLCB0cnVlKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoIDwgMTYpIHtcbiAgICAgIGhlYWRlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxKVxuICAgICAgaGVhZGVyWzBdID0gMHg4MCB8IGxlbmd0aFxuICAgIH0gZWxzZSBpZiAobGVuZ3RoIDwgMHhGRkZGKSB7XG4gICAgICBoZWFkZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMylcbiAgICAgIGhlYWRlclswXSA9IDB4ZGVcbiAgICAgIGhlYWRlci53cml0ZVVJbnQxNkJFKGxlbmd0aCwgMSlcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKDUpXG4gICAgICBoZWFkZXJbMF0gPSAweGRmXG4gICAgICBoZWFkZXIud3JpdGVVSW50MzJCRShsZW5ndGgsIDEpXG4gICAgfVxuXG4gICAgYWNjLnVuc2hpZnQoaGVhZGVyKVxuXG4gICAgdmFyIHJlc3VsdCA9IGFjYy5yZWR1Y2UoZnVuY3Rpb24gKGxpc3QsIGJ1Zikge1xuICAgICAgcmV0dXJuIGxpc3QuYXBwZW5kKGJ1ZilcbiAgICB9LCBibCgpKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcmV0dXJuIGVuY29kZVxufVxuXG5mdW5jdGlvbiB3cml0ZTY0Qml0VWludCAoYnVmLCBvYmopIHtcbiAgLy8gV3JpdGUgbG9uZyBieXRlIGJ5IGJ5dGUsIGluIGJpZy1lbmRpYW4gb3JkZXJcbiAgZm9yICh2YXIgY3VyckJ5dGUgPSA3OyBjdXJyQnl0ZSA+PSAwOyBjdXJyQnl0ZS0tKSB7XG4gICAgYnVmW2N1cnJCeXRlICsgMV0gPSAob2JqICYgMHhmZilcbiAgICBvYmogPSBvYmogLyAyNTZcbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZTY0Qml0SW50IChidWYsIG9mZnNldCwgbnVtKSB7XG4gIHZhciBuZWdhdGUgPSBudW0gPCAwXG5cbiAgaWYgKG5lZ2F0ZSkge1xuICAgIG51bSA9IE1hdGguYWJzKG51bSlcbiAgfVxuXG4gIHZhciBsbyA9IG51bSAlIDQyOTQ5NjcyOTZcbiAgdmFyIGhpID0gbnVtIC8gNDI5NDk2NzI5NlxuICBidWYud3JpdGVVSW50MzJCRShNYXRoLmZsb29yKGhpKSwgb2Zmc2V0ICsgMClcbiAgYnVmLndyaXRlVUludDMyQkUobG8sIG9mZnNldCArIDQpXG5cbiAgaWYgKG5lZ2F0ZSkge1xuICAgIHZhciBjYXJyeSA9IDFcbiAgICBmb3IgKHZhciBpID0gb2Zmc2V0ICsgNzsgaSA+PSBvZmZzZXQ7IGktLSkge1xuICAgICAgdmFyIHYgPSAoYnVmW2ldIF4gMHhmZikgKyBjYXJyeVxuICAgICAgYnVmW2ldID0gdiAmIDB4ZmZcbiAgICAgIGNhcnJ5ID0gdiA+PiA4XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzRmxvYXQgKG4pIHtcbiAgcmV0dXJuIG4gJSAxICE9PSAwXG59XG5cbmZ1bmN0aW9uIGlzTmFOIChuKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICByZXR1cm4gbiAhPT0gbiAmJiB0eXBlb2YgbiA9PT0gJ251bWJlcidcbiAgLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cbn1cblxuZnVuY3Rpb24gZW5jb2RlRmxvYXQgKG9iaiwgZm9yY2VGbG9hdDY0KSB7XG4gIHZhciB1c2VEb3VibGVQcmVjaXNpb24gPSB0cnVlXG5cbiAgLy8gSWYgYGZyb3VuZGAgaXMgc3VwcG9ydGVkLCB3ZSBjYW4gY2hlY2sgaWYgYSBmbG9hdFxuICAvLyBpcyBkb3VibGUgb3Igc2luZ2xlIHByZWNpc2lvbiBieSByb3VuZGluZyB0aGUgb2JqZWN0XG4gIC8vIHRvIHNpbmdsZSBwcmVjaXNpb24gYW5kIGNvbXBhcmluZyB0aGUgZGlmZmVyZW5jZS5cbiAgLy8gSWYgaXQncyBub3Qgc3VwcG9ydGVkLCBpdCdzIHNhZmVyIHRvIHVzZSBhIDY0IGJpdFxuICAvLyBmbG9hdCBzbyB3ZSBkb24ndCBsb3NlIHByZWNpc2lvbiB3aXRob3V0IG1lYW5pbmcgdG8uXG4gIGlmIChNYXRoLmZyb3VuZCkge1xuICAgIHVzZURvdWJsZVByZWNpc2lvbiA9IE1hdGguZnJvdW5kKG9iaikgIT09IG9ialxuICB9XG5cbiAgaWYgKGZvcmNlRmxvYXQ2NCkge1xuICAgIHVzZURvdWJsZVByZWNpc2lvbiA9IHRydWVcbiAgfVxuXG4gIHZhciBidWZcblxuICBpZiAodXNlRG91YmxlUHJlY2lzaW9uKSB7XG4gICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDkpXG4gICAgYnVmWzBdID0gMHhjYlxuICAgIGJ1Zi53cml0ZURvdWJsZUJFKG9iaiwgMSlcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoNSlcbiAgICBidWZbMF0gPSAweGNhXG4gICAgYnVmLndyaXRlRmxvYXRCRShvYmosIDEpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIC5ORVQgRm91bmRhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbi8vIE5vdCBleHBvcnRlZCBmcm9tIGluZGV4LlxyXG52YXIgQmluYXJ5TWVzc2FnZUZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJpbmFyeU1lc3NhZ2VGb3JtYXQoKSB7XHJcbiAgICB9XHJcbiAgICAvLyBUaGUgbGVuZ3RoIHByZWZpeCBvZiBiaW5hcnkgbWVzc2FnZXMgaXMgZW5jb2RlZCBhcyBWYXJJbnQuIFJlYWQgdGhlIGNvbW1lbnQgaW5cclxuICAgIC8vIHRoZSBCaW5hcnlNZXNzYWdlUGFyc2VyLlRyeVBhcnNlTWVzc2FnZSBmb3IgZGV0YWlscy5cclxuICAgIEJpbmFyeU1lc3NhZ2VGb3JtYXQud3JpdGUgPSBmdW5jdGlvbiAob3V0cHV0KSB7XHJcbiAgICAgICAgLy8gbXNncGFjazUgdXNlcyByZXR1cm5zIEJ1ZmZlciBpbnN0ZWFkIG9mIFVpbnQ4QXJyYXkgb24gSUUxMCBhbmQgc29tZSBvdGhlciBicm93c2VyXHJcbiAgICAgICAgLy8gIGluIHdoaWNoIGNhc2UgLmJ5dGVMZW5ndGggZG9lcyB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gICAgICAgIHZhciBzaXplID0gb3V0cHV0LmJ5dGVMZW5ndGggfHwgb3V0cHV0Lmxlbmd0aDtcclxuICAgICAgICB2YXIgbGVuQnVmZmVyID0gW107XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICB2YXIgc2l6ZVBhcnQgPSBzaXplICYgMHg3ZjtcclxuICAgICAgICAgICAgc2l6ZSA9IHNpemUgPj4gNztcclxuICAgICAgICAgICAgaWYgKHNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplUGFydCB8PSAweDgwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxlbkJ1ZmZlci5wdXNoKHNpemVQYXJ0KTtcclxuICAgICAgICB9IHdoaWxlIChzaXplID4gMCk7XHJcbiAgICAgICAgLy8gbXNncGFjazUgdXNlcyByZXR1cm5zIEJ1ZmZlciBpbnN0ZWFkIG9mIFVpbnQ4QXJyYXkgb24gSUUxMCBhbmQgc29tZSBvdGhlciBicm93c2VyXHJcbiAgICAgICAgLy8gIGluIHdoaWNoIGNhc2UgLmJ5dGVMZW5ndGggZG9lcyB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gICAgICAgIHNpemUgPSBvdXRwdXQuYnl0ZUxlbmd0aCB8fCBvdXRwdXQubGVuZ3RoO1xyXG4gICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheShsZW5CdWZmZXIubGVuZ3RoICsgc2l6ZSk7XHJcbiAgICAgICAgYnVmZmVyLnNldChsZW5CdWZmZXIsIDApO1xyXG4gICAgICAgIGJ1ZmZlci5zZXQob3V0cHV0LCBsZW5CdWZmZXIubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyLmJ1ZmZlcjtcclxuICAgIH07XHJcbiAgICBCaW5hcnlNZXNzYWdlRm9ybWF0LnBhcnNlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciB1aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpO1xyXG4gICAgICAgIHZhciBtYXhMZW5ndGhQcmVmaXhTaXplID0gNTtcclxuICAgICAgICB2YXIgbnVtQml0c1RvU2hpZnQgPSBbMCwgNywgMTQsIDIxLCAyOF07XHJcbiAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgaW5wdXQuYnl0ZUxlbmd0aDspIHtcclxuICAgICAgICAgICAgdmFyIG51bUJ5dGVzID0gMDtcclxuICAgICAgICAgICAgdmFyIHNpemUgPSAwO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZVJlYWQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIGJ5dGVSZWFkID0gdWludDhBcnJheVtvZmZzZXQgKyBudW1CeXRlc107XHJcbiAgICAgICAgICAgICAgICBzaXplID0gc2l6ZSB8ICgoYnl0ZVJlYWQgJiAweDdmKSA8PCAobnVtQml0c1RvU2hpZnRbbnVtQnl0ZXNdKSk7XHJcbiAgICAgICAgICAgICAgICBudW1CeXRlcysrO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChudW1CeXRlcyA8IE1hdGgubWluKG1heExlbmd0aFByZWZpeFNpemUsIGlucHV0LmJ5dGVMZW5ndGggLSBvZmZzZXQpICYmIChieXRlUmVhZCAmIDB4ODApICE9PSAwKTtcclxuICAgICAgICAgICAgaWYgKChieXRlUmVhZCAmIDB4ODApICE9PSAwICYmIG51bUJ5dGVzIDwgbWF4TGVuZ3RoUHJlZml4U2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgbWVzc2FnZSBzaXplLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobnVtQnl0ZXMgPT09IG1heExlbmd0aFByZWZpeFNpemUgJiYgYnl0ZVJlYWQgPiA3KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlcyBiaWdnZXIgdGhhbiAyR0IgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh1aW50OEFycmF5LmJ5dGVMZW5ndGggPj0gKG9mZnNldCArIG51bUJ5dGVzICsgc2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElFIGRvZXMgbm90IHN1cHBvcnQgLnNsaWNlKCkgc28gdXNlIHN1YmFycmF5XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh1aW50OEFycmF5LnNsaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgPyB1aW50OEFycmF5LnNsaWNlKG9mZnNldCArIG51bUJ5dGVzLCBvZmZzZXQgKyBudW1CeXRlcyArIHNpemUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB1aW50OEFycmF5LnN1YmFycmF5KG9mZnNldCArIG51bUJ5dGVzLCBvZmZzZXQgKyBudW1CeXRlcyArIHNpemUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluY29tcGxldGUgbWVzc2FnZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgbnVtQnl0ZXMgKyBzaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCaW5hcnlNZXNzYWdlRm9ybWF0O1xyXG59KCkpO1xyXG5leHBvcnQgeyBCaW5hcnlNZXNzYWdlRm9ybWF0IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpbmFyeU1lc3NhZ2VGb3JtYXQuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSAuTkVUIEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiYnVmZmVyXCI7XHJcbmltcG9ydCAqIGFzIG1zZ3BhY2s1IGZyb20gXCJtc2dwYWNrNVwiO1xyXG5pbXBvcnQgeyBMb2dMZXZlbCwgTWVzc2FnZVR5cGUsIE51bGxMb2dnZXIsIFRyYW5zZmVyRm9ybWF0LCB9IGZyb20gXCJAbWljcm9zb2Z0L3NpZ25hbHJcIjtcclxuaW1wb3J0IHsgQmluYXJ5TWVzc2FnZUZvcm1hdCB9IGZyb20gXCIuL0JpbmFyeU1lc3NhZ2VGb3JtYXRcIjtcclxuaW1wb3J0IHsgaXNBcnJheUJ1ZmZlciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbi8vIFR5cGVEb2MncyBAaW5oZXJpdERvYyBhbmQgQGxpbmsgZG9uJ3Qgd29yayBhY3Jvc3MgbW9kdWxlcyA6KFxyXG4vLyBjb25zdGFudCBlbmNvZGluZyBvZiB0aGUgcGluZyBtZXNzYWdlXHJcbi8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2FzcG5ldC9TaWduYWxSL2Jsb2IvZGV2L3NwZWNzL0h1YlByb3RvY29sLm1kI3BpbmctbWVzc2FnZS1lbmNvZGluZy0xXHJcbi8vIERvbid0IHVzZSBVaW50OEFycmF5LmZyb20gYXMgSUUgZG9lcyBub3Qgc3VwcG9ydCBpdFxyXG52YXIgU0VSSUFMSVpFRF9QSU5HX01FU1NBR0UgPSBuZXcgVWludDhBcnJheShbMHg5MSwgTWVzc2FnZVR5cGUuUGluZ10pO1xyXG4vKiogSW1wbGVtZW50cyB0aGUgTWVzc2FnZVBhY2sgSHViIFByb3RvY29sICovXHJcbnZhciBNZXNzYWdlUGFja0h1YlByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTWVzc2FnZVBhY2tIdWJQcm90b2NvbCgpIHtcclxuICAgICAgICAvKiogVGhlIG5hbWUgb2YgdGhlIHByb3RvY29sLiBUaGlzIGlzIHVzZWQgYnkgU2lnbmFsUiB0byByZXNvbHZlIHRoZSBwcm90b2NvbCBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHNlcnZlci4gKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm1lc3NhZ2VwYWNrXCI7XHJcbiAgICAgICAgLyoqIFRoZSB2ZXJzaW9uIG9mIHRoZSBwcm90b2NvbC4gKi9cclxuICAgICAgICB0aGlzLnZlcnNpb24gPSAxO1xyXG4gICAgICAgIC8qKiBUaGUgVHJhbnNmZXJGb3JtYXQgb2YgdGhlIHByb3RvY29sLiAqL1xyXG4gICAgICAgIHRoaXMudHJhbnNmZXJGb3JtYXQgPSBUcmFuc2ZlckZvcm1hdC5CaW5hcnk7XHJcbiAgICAgICAgdGhpcy5lcnJvclJlc3VsdCA9IDE7XHJcbiAgICAgICAgdGhpcy52b2lkUmVzdWx0ID0gMjtcclxuICAgICAgICB0aGlzLm5vblZvaWRSZXN1bHQgPSAzO1xyXG4gICAgfVxyXG4gICAgLyoqIENyZWF0ZXMgYW4gYXJyYXkgb2YgSHViTWVzc2FnZSBvYmplY3RzIGZyb20gdGhlIHNwZWNpZmllZCBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXIgfCBCdWZmZXJ9IGlucHV0IEFuIEFycmF5QnVmZmVyIG9yIEJ1ZmZlciBjb250YWluaW5nIHRoZSBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtJTG9nZ2VyfSBsb2dnZXIgQSBsb2dnZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbG9nIG1lc3NhZ2VzIHRoYXQgb2NjdXIgZHVyaW5nIHBhcnNpbmcuXHJcbiAgICAgKi9cclxuICAgIE1lc3NhZ2VQYWNrSHViUHJvdG9jb2wucHJvdG90eXBlLnBhcnNlTWVzc2FnZXMgPSBmdW5jdGlvbiAoaW5wdXQsIGxvZ2dlcikge1xyXG4gICAgICAgIC8vIFRoZSBpbnRlcmZhY2UgZG9lcyBhbGxvdyBcInN0cmluZ1wiIHRvIGJlIHBhc3NlZCBpbiwgYnV0IHRoaXMgaW1wbGVtZW50YXRpb24gZG9lcyBub3QuIFNvIGxldCdzIHRocm93IGEgdXNlZnVsIGVycm9yLlxyXG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgQnVmZmVyKSAmJiAhKGlzQXJyYXlCdWZmZXIoaW5wdXQpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBNZXNzYWdlUGFjayBodWIgcHJvdG9jb2wuIEV4cGVjdGVkIGFuIEFycmF5QnVmZmVyIG9yIEJ1ZmZlci5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dnZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbG9nZ2VyID0gTnVsbExvZ2dlci5pbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gQmluYXJ5TWVzc2FnZUZvcm1hdC5wYXJzZShpbnB1dCk7XHJcbiAgICAgICAgdmFyIGh1Yk1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtZXNzYWdlc18xID0gbWVzc2FnZXM7IF9pIDwgbWVzc2FnZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc18xW19pXTtcclxuICAgICAgICAgICAgdmFyIHBhcnNlZE1lc3NhZ2UgPSB0aGlzLnBhcnNlTWVzc2FnZShtZXNzYWdlLCBsb2dnZXIpO1xyXG4gICAgICAgICAgICAvLyBDYW4gYmUgbnVsbCBmb3IgYW4gdW5rbm93biBtZXNzYWdlLiBVbmtub3duIG1lc3NhZ2UgaXMgbG9nZ2VkIGluIHBhcnNlTWVzc2FnZVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgaHViTWVzc2FnZXMucHVzaChwYXJzZWRNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaHViTWVzc2FnZXM7XHJcbiAgICB9O1xyXG4gICAgLyoqIFdyaXRlcyB0aGUgc3BlY2lmaWVkIEh1Yk1lc3NhZ2UgdG8gYW4gQXJyYXlCdWZmZXIgYW5kIHJldHVybnMgaXQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtIdWJNZXNzYWdlfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHdyaXRlLlxyXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBBbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS53cml0ZU1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuSW52b2NhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlSW52b2NhdGlvbihtZXNzYWdlKTtcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5TdHJlYW1JbnZvY2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVTdHJlYW1JbnZvY2F0aW9uKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVN0cmVhbUl0ZW0obWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ29tcGxldGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQ29tcGxldGlvbihtZXNzYWdlKTtcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5QaW5nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJpbmFyeU1lc3NhZ2VGb3JtYXQud3JpdGUoU0VSSUFMSVpFRF9QSU5HX01FU1NBR0UpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNhbmNlbEludm9jYXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUNhbmNlbEludm9jYXRpb24obWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2UgdHlwZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE1lc3NhZ2VQYWNrSHViUHJvdG9jb2wucHJvdG90eXBlLnBhcnNlTWVzc2FnZSA9IGZ1bmN0aW9uIChpbnB1dCwgbG9nZ2VyKSB7XHJcbiAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBheWxvYWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbXNncGFjayA9IG1zZ3BhY2s1KCk7XHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBtc2dwYWNrLmRlY29kZShCdWZmZXIuZnJvbShpbnB1dCkpO1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCB8fCAhKHByb3BlcnRpZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1lc3NhZ2VUeXBlID0gcHJvcGVydGllc1swXTtcclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuSW52b2NhdGlvbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUludm9jYXRpb25NZXNzYWdlKHRoaXMucmVhZEhlYWRlcnMocHJvcGVydGllcyksIHByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlN0cmVhbUl0ZW06XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTdHJlYW1JdGVtTWVzc2FnZSh0aGlzLnJlYWRIZWFkZXJzKHByb3BlcnRpZXMpLCBwcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5Db21wbGV0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UodGhpcy5yZWFkSGVhZGVycyhwcm9wZXJ0aWVzKSwgcHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuUGluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBpbmdNZXNzYWdlKHByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNsb3NlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2xvc2VNZXNzYWdlKHByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gRnV0dXJlIHByb3RvY29sIGNoYW5nZXMgY2FuIGFkZCBtZXNzYWdlIHR5cGVzLCBvbGQgY2xpZW50cyBjYW4gaWdub3JlIHRoZW1cclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuSW5mb3JtYXRpb24sIFwiVW5rbm93biBtZXNzYWdlIHR5cGUgJ1wiICsgbWVzc2FnZVR5cGUgKyBcIicgaWdub3JlZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZVBhY2tIdWJQcm90b2NvbC5wcm90b3R5cGUuY3JlYXRlQ2xvc2VNZXNzYWdlID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcclxuICAgICAgICAvLyBjaGVjayBtaW5pbXVtIGxlbmd0aCB0byBhbGxvdyBwcm90b2NvbCB0byBhZGQgaXRlbXMgdG8gdGhlIGVuZCBvZiBvYmplY3RzIGluIGZ1dHVyZSByZWxlYXNlc1xyXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXlsb2FkIGZvciBDbG9zZSBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gQ2xvc2UgbWVzc2FnZXMgaGF2ZSBubyBoZWFkZXJzLlxyXG4gICAgICAgICAgICBlcnJvcjogcHJvcGVydGllc1sxXSxcclxuICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGUuQ2xvc2UsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS5jcmVhdGVQaW5nTWVzc2FnZSA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgbWluaW11bSBsZW5ndGggdG8gYWxsb3cgcHJvdG9jb2wgdG8gYWRkIGl0ZW1zIHRvIHRoZSBlbmQgb2Ygb2JqZWN0cyBpbiBmdXR1cmUgcmVsZWFzZXNcclxuICAgICAgICBpZiAocHJvcGVydGllcy5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF5bG9hZCBmb3IgUGluZyBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gUGluZyBtZXNzYWdlcyBoYXZlIG5vIGhlYWRlcnMuXHJcbiAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLlBpbmcsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS5jcmVhdGVJbnZvY2F0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uIChoZWFkZXJzLCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgbWluaW11bSBsZW5ndGggdG8gYWxsb3cgcHJvdG9jb2wgdG8gYWRkIGl0ZW1zIHRvIHRoZSBlbmQgb2Ygb2JqZWN0cyBpbiBmdXR1cmUgcmVsZWFzZXNcclxuICAgICAgICBpZiAocHJvcGVydGllcy5sZW5ndGggPCA1KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF5bG9hZCBmb3IgSW52b2NhdGlvbiBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGludm9jYXRpb25JZCA9IHByb3BlcnRpZXNbMl07XHJcbiAgICAgICAgaWYgKGludm9jYXRpb25JZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiBwcm9wZXJ0aWVzWzRdLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGludm9jYXRpb25JZDogaW52b2NhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgc3RyZWFtSWRzOiBbXSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogcHJvcGVydGllc1szXSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlLkludm9jYXRpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiBwcm9wZXJ0aWVzWzRdLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIHN0cmVhbUlkczogW10sXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHByb3BlcnRpZXNbM10sXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5JbnZvY2F0aW9uLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS5jcmVhdGVTdHJlYW1JdGVtTWVzc2FnZSA9IGZ1bmN0aW9uIChoZWFkZXJzLCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgbWluaW11bSBsZW5ndGggdG8gYWxsb3cgcHJvdG9jb2wgdG8gYWRkIGl0ZW1zIHRvIHRoZSBlbmQgb2Ygb2JqZWN0cyBpbiBmdXR1cmUgcmVsZWFzZXNcclxuICAgICAgICBpZiAocHJvcGVydGllcy5sZW5ndGggPCA0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGF5bG9hZCBmb3IgU3RyZWFtSXRlbSBtZXNzYWdlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgaW52b2NhdGlvbklkOiBwcm9wZXJ0aWVzWzJdLFxyXG4gICAgICAgICAgICBpdGVtOiBwcm9wZXJ0aWVzWzNdLFxyXG4gICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5TdHJlYW1JdGVtLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZVBhY2tIdWJQcm90b2NvbC5wcm90b3R5cGUuY3JlYXRlQ29tcGxldGlvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoaGVhZGVycywgcHJvcGVydGllcykge1xyXG4gICAgICAgIC8vIGNoZWNrIG1pbmltdW0gbGVuZ3RoIHRvIGFsbG93IHByb3RvY29sIHRvIGFkZCBpdGVtcyB0byB0aGUgZW5kIG9mIG9iamVjdHMgaW4gZnV0dXJlIHJlbGVhc2VzXHJcbiAgICAgICAgaWYgKHByb3BlcnRpZXMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgZm9yIENvbXBsZXRpb24gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXN1bHRLaW5kID0gcHJvcGVydGllc1szXTtcclxuICAgICAgICBpZiAocmVzdWx0S2luZCAhPT0gdGhpcy52b2lkUmVzdWx0ICYmIHByb3BlcnRpZXMubGVuZ3RoIDwgNSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBheWxvYWQgZm9yIENvbXBsZXRpb24gbWVzc2FnZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlcnJvcjtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHN3aXRjaCAocmVzdWx0S2luZCkge1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuZXJyb3JSZXN1bHQ6XHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IHByb3BlcnRpZXNbNF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSB0aGlzLm5vblZvaWRSZXN1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBwcm9wZXJ0aWVzWzRdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb21wbGV0aW9uTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICBpbnZvY2F0aW9uSWQ6IHByb3BlcnRpZXNbMl0sXHJcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0LFxyXG4gICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5Db21wbGV0aW9uLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRpb25NZXNzYWdlO1xyXG4gICAgfTtcclxuICAgIE1lc3NhZ2VQYWNrSHViUHJvdG9jb2wucHJvdG90eXBlLndyaXRlSW52b2NhdGlvbiA9IGZ1bmN0aW9uIChpbnZvY2F0aW9uTWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBtc2dwYWNrID0gbXNncGFjazUoKTtcclxuICAgICAgICB2YXIgcGF5bG9hZCA9IG1zZ3BhY2suZW5jb2RlKFtNZXNzYWdlVHlwZS5JbnZvY2F0aW9uLCBpbnZvY2F0aW9uTWVzc2FnZS5oZWFkZXJzIHx8IHt9LCBpbnZvY2F0aW9uTWVzc2FnZS5pbnZvY2F0aW9uSWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgaW52b2NhdGlvbk1lc3NhZ2UudGFyZ2V0LCBpbnZvY2F0aW9uTWVzc2FnZS5hcmd1bWVudHMsIGludm9jYXRpb25NZXNzYWdlLnN0cmVhbUlkc10pO1xyXG4gICAgICAgIHJldHVybiBCaW5hcnlNZXNzYWdlRm9ybWF0LndyaXRlKHBheWxvYWQuc2xpY2UoKSk7XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZVBhY2tIdWJQcm90b2NvbC5wcm90b3R5cGUud3JpdGVTdHJlYW1JbnZvY2F0aW9uID0gZnVuY3Rpb24gKHN0cmVhbUludm9jYXRpb25NZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIG1zZ3BhY2sgPSBtc2dwYWNrNSgpO1xyXG4gICAgICAgIHZhciBwYXlsb2FkID0gbXNncGFjay5lbmNvZGUoW01lc3NhZ2VUeXBlLlN0cmVhbUludm9jYXRpb24sIHN0cmVhbUludm9jYXRpb25NZXNzYWdlLmhlYWRlcnMgfHwge30sIHN0cmVhbUludm9jYXRpb25NZXNzYWdlLmludm9jYXRpb25JZCxcclxuICAgICAgICAgICAgc3RyZWFtSW52b2NhdGlvbk1lc3NhZ2UudGFyZ2V0LCBzdHJlYW1JbnZvY2F0aW9uTWVzc2FnZS5hcmd1bWVudHMsIHN0cmVhbUludm9jYXRpb25NZXNzYWdlLnN0cmVhbUlkc10pO1xyXG4gICAgICAgIHJldHVybiBCaW5hcnlNZXNzYWdlRm9ybWF0LndyaXRlKHBheWxvYWQuc2xpY2UoKSk7XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZVBhY2tIdWJQcm90b2NvbC5wcm90b3R5cGUud3JpdGVTdHJlYW1JdGVtID0gZnVuY3Rpb24gKHN0cmVhbUl0ZW1NZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIG1zZ3BhY2sgPSBtc2dwYWNrNSgpO1xyXG4gICAgICAgIHZhciBwYXlsb2FkID0gbXNncGFjay5lbmNvZGUoW01lc3NhZ2VUeXBlLlN0cmVhbUl0ZW0sIHN0cmVhbUl0ZW1NZXNzYWdlLmhlYWRlcnMgfHwge30sIHN0cmVhbUl0ZW1NZXNzYWdlLmludm9jYXRpb25JZCxcclxuICAgICAgICAgICAgc3RyZWFtSXRlbU1lc3NhZ2UuaXRlbV0pO1xyXG4gICAgICAgIHJldHVybiBCaW5hcnlNZXNzYWdlRm9ybWF0LndyaXRlKHBheWxvYWQuc2xpY2UoKSk7XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZVBhY2tIdWJQcm90b2NvbC5wcm90b3R5cGUud3JpdGVDb21wbGV0aW9uID0gZnVuY3Rpb24gKGNvbXBsZXRpb25NZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIG1zZ3BhY2sgPSBtc2dwYWNrNSgpO1xyXG4gICAgICAgIHZhciByZXN1bHRLaW5kID0gY29tcGxldGlvbk1lc3NhZ2UuZXJyb3IgPyB0aGlzLmVycm9yUmVzdWx0IDogY29tcGxldGlvbk1lc3NhZ2UucmVzdWx0ID8gdGhpcy5ub25Wb2lkUmVzdWx0IDogdGhpcy52b2lkUmVzdWx0O1xyXG4gICAgICAgIHZhciBwYXlsb2FkO1xyXG4gICAgICAgIHN3aXRjaCAocmVzdWx0S2luZCkge1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuZXJyb3JSZXN1bHQ6XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gbXNncGFjay5lbmNvZGUoW01lc3NhZ2VUeXBlLkNvbXBsZXRpb24sIGNvbXBsZXRpb25NZXNzYWdlLmhlYWRlcnMgfHwge30sIGNvbXBsZXRpb25NZXNzYWdlLmludm9jYXRpb25JZCwgcmVzdWx0S2luZCwgY29tcGxldGlvbk1lc3NhZ2UuZXJyb3JdKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMudm9pZFJlc3VsdDpcclxuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBtc2dwYWNrLmVuY29kZShbTWVzc2FnZVR5cGUuQ29tcGxldGlvbiwgY29tcGxldGlvbk1lc3NhZ2UuaGVhZGVycyB8fCB7fSwgY29tcGxldGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkLCByZXN1bHRLaW5kXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSB0aGlzLm5vblZvaWRSZXN1bHQ6XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gbXNncGFjay5lbmNvZGUoW01lc3NhZ2VUeXBlLkNvbXBsZXRpb24sIGNvbXBsZXRpb25NZXNzYWdlLmhlYWRlcnMgfHwge30sIGNvbXBsZXRpb25NZXNzYWdlLmludm9jYXRpb25JZCwgcmVzdWx0S2luZCwgY29tcGxldGlvbk1lc3NhZ2UucmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEJpbmFyeU1lc3NhZ2VGb3JtYXQud3JpdGUocGF5bG9hZC5zbGljZSgpKTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS53cml0ZUNhbmNlbEludm9jYXRpb24gPSBmdW5jdGlvbiAoY2FuY2VsSW52b2NhdGlvbk1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgbXNncGFjayA9IG1zZ3BhY2s1KCk7XHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSBtc2dwYWNrLmVuY29kZShbTWVzc2FnZVR5cGUuQ2FuY2VsSW52b2NhdGlvbiwgY2FuY2VsSW52b2NhdGlvbk1lc3NhZ2UuaGVhZGVycyB8fCB7fSwgY2FuY2VsSW52b2NhdGlvbk1lc3NhZ2UuaW52b2NhdGlvbklkXSk7XHJcbiAgICAgICAgcmV0dXJuIEJpbmFyeU1lc3NhZ2VGb3JtYXQud3JpdGUocGF5bG9hZC5zbGljZSgpKTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlUGFja0h1YlByb3RvY29sLnByb3RvdHlwZS5yZWFkSGVhZGVycyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBwcm9wZXJ0aWVzWzFdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgaGVhZGVycyAhPT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhlYWRlcnMuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGVhZGVycztcclxuICAgIH07XHJcbiAgICByZXR1cm4gTWVzc2FnZVBhY2tIdWJQcm90b2NvbDtcclxufSgpKTtcclxuZXhwb3J0IHsgTWVzc2FnZVBhY2tIdWJQcm90b2NvbCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNzYWdlUGFja0h1YlByb3RvY29sLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgLk5FVCBGb3VuZGF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuLy8gQ29waWVkIGZyb20gc2lnbmFsci9VdGlscy50c1xyXG4vKiogQHByaXZhdGUgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsICYmIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICh2YWwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxyXG4gICAgICAgICAgICAvLyBTb21ldGltZXMgd2UgZ2V0IGFuIEFycmF5QnVmZmVyIHRoYXQgZG9lc24ndCBzYXRpc2Z5IGluc3RhbmNlb2ZcclxuICAgICAgICAgICAgKHZhbC5jb25zdHJ1Y3RvciAmJiB2YWwuY29uc3RydWN0b3IubmFtZSA9PT0gXCJBcnJheUJ1ZmZlclwiKSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbHMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSAuTkVUIEZvdW5kYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4vLyBWZXJzaW9uIHRva2VuIHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgcHJlcGFjayBjb21tYW5kXHJcbi8qKiBUaGUgdmVyc2lvbiBvZiB0aGUgU2lnbmFsUiBNZXNzYWdlIFBhY2sgcHJvdG9jb2wgbGlicmFyeS4gKi9cclxuZXhwb3J0IHZhciBWRVJTSU9OID0gXCIzLjAuMFwiO1xyXG5leHBvcnQgeyBNZXNzYWdlUGFja0h1YlByb3RvY29sIH0gZnJvbSBcIi4vTWVzc2FnZVBhY2tIdWJQcm90b2NvbFwiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9